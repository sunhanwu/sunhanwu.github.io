<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title></title>
    <url>%2F2020%2F07%2F13%2Fguide%2F</url>
    <content type="text"><![CDATA[ÊùéÂÆèÊØÖÊú∫Âô®Â≠¶‰π†2020ËØæÁ®ãÂØºÂ≠¶ Êú∫Âô®Â≠¶‰π†2020‰∏é‰ª•ÂæÄ‰∏çÂêåÁöÑÂú∞ÊñπÂú®‰∫éÂ¢ûÂä†‰∫ÜÂæàÂ§ö‰Ωú‰∏öÔºåÂÖ∑‰ΩìÁöÑ‰Ωú‰∏öÂ¶Ç‰∏ãÂ¶ÇÊâÄÁ§∫„ÄÇ‰∏ãÂõæ‰∏≠ÁöÑÊØè‰∏Ä‰∏™Á¨¶Âè∑ÈÉΩ‰ª£Ë°®‰∏Ä‰∏™‰Ωú‰∏ö„ÄÇ Êú∫Âô®Â≠¶‰π†Â∞±ÊòØËá™Âä®Êâæ‰∏Ä‰∏™ÂáΩÊï∞ ËØ≠Èü≥Ëæ®ËØÜÔºö$f(ËØ≠Èü≥)=$‚ÄùHow are you‚Äù ÂõæÂÉèËØÜÂà´Ôºö$f(ÂõæÂÉè)=$‚Äùcat‚Äú Âõ¥Ê£ãÔºö$f(Ê£ãË∞±)=$‚Äù5-5‚ÄùÔºà‰∏ã‰∏ÄÊ≠•Ê£ãÁöÑ‰ΩçÁΩÆÔºâ ÂØπËØùÁ≥ªÁªüÔºöf(‚ÄúHow are you‚Äù)=‚ÄùI am fine‚Äù Â¶ÇÊûúÊú∫Âô®ÂèØ‰ª•ËÉΩÁªôÊàë‰ª¨ÊâæÂà∞ÂáΩÊï∞„ÄÇÈöèÁùÄÊàë‰ª¨ÊÉ≥Ë¶ÅÊâæÂà∞ÁöÑÂáΩÊï∞ÁöÑ‰∏çÂêåÔºåÊàë‰ª¨Êúâ‰∏çÂêåÁöÑÊú∫Âô®Â≠¶‰π†ÁöÑ‰ªªÂä°„ÄÇ‰æãÂ¶ÇÔºö Á¨¨‰∏Ä‰∏™‰Ωú‰∏öÊòØÂè´regressionÔºå ÊÑèÊÄùÂ∞±ÊòØÊàë‰ª¨Áé∞Âú®Ë¶ÅÊâæÂà∞‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂáΩÊï∞ÁöÑËæìÂá∫ÊòØ‰∏Ä‰∏™Êï∞ÂÄº„ÄÇ Âú®‰Ωú‰∏ö‰∏Ä‰∏≠ÔºåÊàë‰ª¨Ë¶ÅÂÅöÁöÑ‰∫ãÊÉÖÂ∞±ÊòØË¶ÅËÆ©Êú∫Âô® document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title><![CDATA[Á∫ØÊâãÂ∑•ÂÆûÁé∞Á∫øÊÄßÂõûÂΩíÔºà‰Ωú‰∏ö‰∏ÄÔºâ]]></title>
    <url>%2F2020%2F07%2F06%2Fhw1%2F</url>
    <content type="text"><![CDATA[Á∫ØÊâãÂ∑•ÂÆûÁé∞Á∫øÊÄßÂõûÂΩíÔºà‰Ωú‰∏ö‰∏ÄÔºâ‚Äã ËøëÂπ¥Êù•Êú∫Âô®Â≠¶‰π†ÂíåÊ∑±Â∫¶Â≠¶‰π†ÂçÅÂàÜÁÅ´ÁÉ≠ÔºåÂ∫îÁî®ÂçÅÂàÜÂπøÊ≥õ„ÄÇÂú®ÂÆåÊàêÊú¨ÁßëÊØïËÆæËøáÁ®ã‰∏≠ÂíåÂú®‰ø°Â∑•ÊâÄÂÆû‰π†ÁöÑÊó∂ÂÄôÊ∑±ÊÑüËá™Â∑±ÂØπ‰∫éÊ∑±Â∫¶Â≠¶‰π†ÊñπÈù¢ÁöÑÁü•ËØÜÊéåÊè°ÁöÑËøúËøú‰∏çÂ§üÔºåÂõ†Ê≠§ÊâìÁÆóÂú®ÊöëÂÅáÊúüÈó¥ÊÅ∂Ë°•‰∏Ä‰∏ãÊ∑±Â∫¶Â≠¶‰π†„ÄÇÂØªÊâæÂ≠¶‰π†ËµÑÊñôÁöÑÊó∂ÂÄôÔºåÂú®BÁ´ôÂèëÁé∞‰∫Ü‰∏Ä‰∏™ÂÆùËóèÊïôÁ®ã, Âè∞Â§ßÊùéÂÆèÊØÖÊïôÊéàÂØπ‰∫éÊ∑±Â∫¶Â≠¶‰π†‰∏≠ÁöÑÂêÑÁßçÊäÄÊúØÂíåÁÆóÊ≥ïËÆ≤Ëß£ÁöÑÂçÅÂàÜÈÄèÂΩªÔºåÂπ∂‰∏îÂÖ¨ÂºÄ‰∫Ü‰Ωú‰∏öÔºåÁîöËá≥Êúâ‰∫õ‰Ωú‰∏öÊòØ‰ª•kaggleÊØîËµõÁöÑÂΩ¢ÂºèÔºåÊàë‰ª¨‰πüÂèØ‰ª•Êèê‰∫§Ëá™Â∑±ÂÜôÁöÑ‰Ωú‰∏ö„ÄÇÂõ†Ê≠§ÊâìÁÆóË∑üÈöèÊïôÁ®ãÂÆåÊàêËøô‰∫õ‰Ωú‰∏öÔºåÂπ∂‰∏îÂ∞ÜÊØèÊ¨°ÁöÑ‰Ωú‰∏öÊä•ÂëäÂèëÂ∏ÉÂà∞Ëá™Â∑±ÁöÑÂçöÂÆ¢Ôºå‰∏ªË¶ÅÊòØÊñπ‰æø‰ª•ÂêéËá™Â∑±Êü•ÈòÖ„ÄÇ ‚Äã ËøôÁØáÂçöÂÆ¢ÊòØ‰Ωú‰∏ö‰∏ÄÔºåkaggleÊØîËµõÁöÑ‰º†ÈÄÅÈó®Âú®Ê≠§,kaggleÂπ≥Âè∞‰∏äÊúâ‰Ωú‰∏öÊèê‰æõÁöÑÊï∞ÊçÆÈõÜÂêà‰ªãÁªç„ÄÇÂä©Êïô‰πüÁªôÂÅö‰∫ÜÁõ∏ÂÖ≥ÁöÑËØ¥Êòé ‚Äã Êàë‰∏™‰∫∫Âú®github‰ªìÂ∫ìÔºåÂÆåÊï¥ÁöÑÊï∞ÊçÆÂíå‰ª£Á†ÅÈáåÈù¢ÈÉΩÊúâ ÂáÜÂ§áÊï∞ÊçÆÊï∞ÊçÆÈõÜ‰ªãÁªçÊï∞ÊçÆÈõÜÁöÑËØ¶ÁªÜ‰ªãÁªçÂú®kaggleÂπ≥Âè∞‰∏äÈÉΩÊúâÔºåÂä©ÊïôÊèê‰æõÁöÑpptÂíåËßÜÈ¢ëËØ¥Êòé‰∏≠‰πüÈÉΩÊúâ„ÄÇËøôÈáåÁÆÄÂçï‰ªãÁªç‰∏Ä‰∏ãÊàëËÆ§‰∏∫ÂÄºÂæóÂÖ≥Ê≥®ÁöÑÂá†‰∏™ÁÇπ„ÄÇ È¢òÁõÆË¶ÅÊ±ÇÊ†πÊçÆÂâç9‰∏™Â∞èÊó∂ÁöÑÊï∞ÊçÆÈ¢ÑÊµãÁ¨¨10‰∏™Â∞èÊó∂ÁöÑPM2.5ÁöÑÊï∞ÂÄº„ÄÇÂõ†Ê≠§ÂØπ‰∫éÊØè‰∏™Ê†∑Êú¨Êù•ËØ¥Ââç9‰∏™Â∞èÊó∂ÂÜÖÊâÄÊúâËßÇÊµãÊï∞ÊçÆÈÉΩÂ±û‰∫éÁâπÂæÅÂÄºÔºåÁâπÂæÅÂÄºÂÖ±ÂåÖÊã¨18ÁßçËßÇÊµãÊåáÊ†áÔºåÊØèÁßçËßÇÊµãÊåáÊ†á9‰∏™Êï∞ÊçÆÔºåÊâÄ‰ª•‰∏Ä‰∏™Ê†∑Êú¨ÁöÑÁâπÂæÅÂÄº‰∏™Êï∞‰∏∫$18 * 9 = 162$, ËÄåPM2.5Âú®Á¨¨ÂçÅ‰∏™Â∞èÊó∂ÁöÑÊï∞ÂÄº‰Ωú‰∏∫label ‰∏ÄÂ§©24‰∏™Â∞èÊó∂ÔºåÊåâÁÖß1ÁöÑÊñπÂºèËøõË°åÊèêÂèñÊ†∑Êú¨ÁöÑËØùÂèØ‰ª•ÊèêÂèñ15‰∏™Ê†∑Êú¨Êï∞ÊçÆ Êï∞ÊçÆ‰∏≠Â≠òÂú®NRÂÄºÁöÑËØùÈúÄË¶ÅÁªôÊõøÊç¢‰∏∫Êï∞ÂÄº0 Êï∞ÊçÆÈ¢ÑÂ§ÑÁêÜÂü∫Êú¨‰∫ÜËß£‰∫ÜÊï∞ÊçÆÈõÜÂêàÈ¢òÁõÆË¶ÅÊ±Ç‰πãÂêéÔºåÂ∞±ÈúÄË¶ÅÂØπÊï∞ÊçÆËøõË°åÈ¢ÑÂ§ÑÁêÜÂ∑•‰Ωú‰∫ÜÔºåÈ¶ñÂÖàÂ§ÑÁêÜËÆ≠ÁªÉÊï∞ÊçÆ„ÄÇ Â§ÑÁêÜËÆ≠ÁªÉÊï∞ÊçÆ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859def loadTrainData(trainDataFile): """ Âä†ËΩΩËÆ≠ÁªÉÊï∞ÊçÆÈõÜÔºåÂπ∂‰∏îÂ§ÑÁêÜÊàêÈúÄË¶ÅÁöÑÊ†ºÂºè """ trainData = pd.read_csv(trainDataFile, encoding='big5') # ÂéªÈô§Êó•ÊúüÁ≠âËØØÁî®Êï∞ÊçÆ trainData = trainData.iloc[:, 2:] # Â∞ÜNRÊõøÊç¢‰∏∫0,Âπ∂Â∞ÜÂÖ∂ËΩ¨Âõû‰∏∫numpy trainData[trainData == 'NR'] = 0 # ÂéüÂßãÁöÑÊï∞ÊçÆÂ§ßÂ∞è‰∏∫4320*25 trainDataArray = trainData.to_numpy().astype('float64') # ÈáçÁªÑÊï∞ÊçÆ rows, columns = trainDataArray.shape Data = [] for day in range(rows // 18): rowLow = day * 18 rowHigh = rowLow + 18 rowPM25 = rowLow + 9 for columnLeft in range(15): columnRight = columnLeft + 9 OneTrainData = trainDataArray[rowLow:rowHigh, columnLeft:columnRight].reshape(-1) label = trainDataArray[rowPM25, columnRight] oneSampleData = np.append(OneTrainData, label) Data.append(oneSampleData) if rowHigh + 18 &lt;= rows: for columnLeft_ in range(15, 24, 1): leftData = trainDataArray[rowLow:rowHigh, columnLeft_:] rightData = trainDataArray[rowLow+18:rowHigh+18, :9 - (24 - columnLeft_)] OneTrainData = np.hstack((leftData, rightData)).reshape(-1) label = trainDataArray[rowPM25 + 18, 9 - (24 - columnLeft_)] oneSampleData = np.append(OneTrainData, label) Data.append(oneSampleData) Data = np.array(Data) return Data[:, :162], Data[:, 162]def loadTrainData(trainDataFile): """ Âä†ËΩΩËÆ≠ÁªÉÊï∞ÊçÆÈõÜÔºåÂπ∂‰∏îÂ§ÑÁêÜÊàêÈúÄË¶ÅÁöÑÊ†ºÂºè """ trainData = pd.read_csv(trainDataFile, encoding='big5') # ÂéªÈô§Êó•ÊúüÁ≠âËØØÁî®Êï∞ÊçÆ trainData = trainData.iloc[:, 2:] # Â∞ÜNRÊõøÊç¢‰∏∫0,Âπ∂Â∞ÜÂÖ∂ËΩ¨Âõû‰∏∫numpy trainData[trainData == 'NR'] = 0 # ÂéüÂßãÁöÑÊï∞ÊçÆÂ§ßÂ∞è‰∏∫4320*25 trainDataArray = trainData.to_numpy().astype('float64') # ÈáçÁªÑÊï∞ÊçÆ rows, columns = trainDataArray.shape Data = [] for day in range(rows // 18): rowLow = day * 18 rowHigh = rowLow + 18 rowPM25 = rowLow + 9 for columnLeft in range(15): columnRight = columnLeft + 9 OneTrainData = trainDataArray[rowLow:rowHigh, columnLeft:columnRight].reshape(-1) label = trainDataArray[rowPM25, columnRight] oneSampleData = np.append(OneTrainData, label) Data.append(oneSampleData) Data = np.array(Data) return Data[:, :162], Data[:, 162] ÂéüÂßãÊï∞ÊçÆÊñá‰ª∂‰∏≠ÔºåÊØèÂ§©ÁöÑÊï∞ÊçÆÊúâ18‰∏™ËßÇÊµãÊåáÊ†áÔºåÊØè‰∏™ËßÇÊµãÊåáÊ†áËÆ∞ÂΩï24‰∏™Êï∞ÂÄºÔºåÂÖ±Êúâ240Â§©ÁöÑÊï∞ÊçÆ„ÄÇÂõ†Ê≠§ÂéüÂßãÊï∞ÊçÆÈõÜÔºàÂéªÈô§Êó•ÊúüÂíåÊåáÊ†áÂêçÁß∞Á≠âËØØÁî®‰ø°ÊÅØÔºâÂØπÂ∫îÁöÑÂ§ßÂ∞è‰∏∫4320*24 ‰∏Ä‰∏™Ê†∑Êú¨ÂØπÂ∫îÂêå‰∏ÄÂ§©‰∏≠18‰∏≠ËßÇÊµãÊåáÊ†á‰∏≠ËøûÁª≠9‰∏™Â∞èÊó∂ÁöÑËßÇÊµãÊï∞ÊçÆÔºåÁâπÂæÅÂÄº‰∏™Êï∞‰∏∫18*9=162ÔºådfÁöÑshape‰∏∫(18,9) label‰∏∫Âêå‰∏ÄÂ§©ËøûÁª≠9‰∏™Â∞èÊó∂ËßÇÊµãÊï∞ÊçÆÂêé‰∏ÄÂ∞èÊó∂ÁöÑpm2.5Êï∞ÂÄº ‰ΩøÁî®pandasÊåâÁÖß‰∏äËø∞ÊñπÊ≥ïÊà™ÂèñÂà∞ÂØπÂ∫î‰ΩçÁΩÆÁöÑÊï∞ÂÄºÂêéÂ∞ÜÂÖ∂reshape‰∏∫‰∏ÄÁª¥Êï∞ÊçÆÔºåÂæóÂà∞(162,1)ÁöÑÊï∞ÊçÆÔºåÂä†‰∏älabelÂÄºÂêéÁª¥Â∫¶‰∏∫(163,1) Â§ÑÁêÜÊµãËØïÊï∞ÊçÆÊµãËØïÊï∞ÊçÆÂíåËÆ≠ÁªÉÊï∞ÊçÆÁöÑÂ§ÑÁêÜÊñπÂºèÁ±ª‰ººÔºåÂè™ÊòØËøáÁ®ãÁÆÄÂçï‰∏Ä‰∫õ„ÄÇÊµãËØïÊï∞ÊçÆÊòØÁªôÂá∫ÊØèÂ§©Ââç9‰∏™Â∞èÊó∂ÂêÑ‰∏™ËßÇÊµãÊåáÊ†áÁöÑÊï∞ÂÄºÔºåË¶ÅÊ±ÇÊàë‰ª¨È¢ÑÊµãÊØèÂ§©Á¨¨10‰∏™Â∞èÊó∂ÁöÑPM2.5ÂÄº 1234567891011121314151617def loadTestData(testDataFile): """ Âä†ËΩΩÊµãËØïÊï∞ÊçÆ """ testData = pd.read_csv(testDataFile, encoding='big5', header=None) testData = testData.iloc[:, 2:] testData[testData == 'NR'] = 0 testDataArray = testData.to_numpy() rows, column = testDataArray.shape Data = [] for day in range(rows // 18): rowLow = day * 18 rowHigh = rowLow + 18 OneTestData = testDataArray[rowLow:rowHigh, :].reshape(-1) Data.append(OneTestData) Data = np.array(Data) return Data Êï∞ÊçÆÂΩí‰∏ÄÂåñÁî±‰∫é‰∏çÂêåÁâπÂæÅË°®Á§∫ÁöÑÊòØÁ©∫Ê∞îË¥®ÈáèÁöÑ‰∏çÂêåÊåáÊ†áÔºåÂÖ∂ÂÄºÂüüËåÉÂõ¥ÊúâÂæàÂ§ßÁöÑ‰∏çÂêåÔºåËøôÊ†∑ÁöÑËÆ≠ÁªÉÊï∞ÊçÆ‰ºöÂæà‰∏•ÈáçÁöÑÂΩ±ÂìçÊ®°ÂûãÁöÑÊÄßËÉΩÔºåËá≥‰∫éÊòØÂ¶Ç‰ΩïÂΩ±ÂìçÂèØ‰ª•Áúã‰∏ãÈù¢Ê®°ÂûãË∞É‰ºòÈáåÈù¢ÂÖ≥‰∫éÊï∞ÊçÆÂΩí‰∏ÄÂåñÁöÑÁõ∏ÂÖ≥‰ªãÁªç 12345678def normalization(data): mu = np.mean(data, axis=0) sigma = np.std(data, axis=0) for i in range(len(data)): for j in range(len(data[0])): if sigma[j] != 0: data[i][j] = (data[i][j] - mu[j]) / sigma[j] return data ÊàëÁÆÄÂçïÁöÑÂ∞ÜÂêÑ‰∏™ÁâπÂæÅÁöÑÊûÅÂ∑Æ(ÊúÄÂ§ßÂÄºÂíåÊúÄÂ∞èÂÄºÁöÑ‰ªéÂ∑Æ)ÁªòÂà∂ÊàêÂ¶Ç‰∏ãÁöÑÂõæÂÉèÔºö ÂèØ‰ª•ÁúãÂà∞‰∏çÂêåÁâπÂæÅ‰πãÈó¥ÁöÑÊûÅÂ∑ÆÁõ∏Â∑ÆÁâπÂà´Â§ßÔºåËøôÁßçÂèòÂåñ‰ºöÂØºËá¥ÂêéÊù•Ê¢ØÂ∫¶‰∏ãÈôçËøáÁ®ã‰∏≠Âá∫Áé∞‰∏Ä‰∫õÈóÆÈ¢òÔºåÊüê‰∫õÁâπÂæÅÂØπÂ∫îÁöÑwightÁöÑÊ¢ØÂ∫¶ÂèòÂåñÁöÑÊØîÂÖ∂‰ªñÁöÑÂùóÁöÑÂ§öÔºåÊúâÂèØËÉΩÂØºËá¥Âá∫Áé∞Ê¢ØÂ∫¶ÁàÜÁÇ∏Á≠âÊÉÖÂÜµ„ÄÇ ‰ΩøÁî®ÂΩí‰∏ÄÂåñÂáΩÊï∞ÂêéËøôÁßçÊï∞ÊçÆ‰πãÈó¥ÁöÑÊûÅÂ∑Æ‰∏çÂπ≥Ë°°Â∞±‰ºöÊ∂àÂ§± ÂÆö‰πâÊ®°ÂûãÂÆö‰πâdataLoaderÈ¶ñÂÖàÂÆö‰πâ‰∏Ä‰∏™Êï∞ÊçÆË£ÖËΩΩÂô®ÔºåÂπ∂‰∫éÂØπÊï∞ÊçÆËøõË°åshuffleÊìç‰ΩúÔºåÊØèÊ¨°ËøîÂõûbatch_sizeÊï∞ÊçÆ‰æø‰∫éÂêéÁª≠ËøõË°åÈöèÊú∫Ê¢ØÂ∫¶‰∏ãÈôç„ÄÇ 1234567891011def dataIter(batchSize, feature, label, shuffle=True): """ Â∞ÜËÆ≠ÁªÉÊï∞ÊçÆËøõË°åshuffleÔºåÊåâÁÖß‰∏Ä‰∏™batch_sizeÁöÑÊï∞ÊçÆÈáèËøîÂõû """ numExample = len(feature) indexs = list(range(numExample)) if shuffle: random.shuffle(indexs) for i in range(0, numExample, batchSize): index = indexs[i:i + batchSize] yield feature[index], label[index] ÂÆö‰πâÁ∫øÊÄßÂõûÂΩíÊ®°ÂûãÂíåÊçüÂ§±ÂáΩÊï∞ ÂÆö‰πâÁ∫øÊÄßÂõûÂΩíÊ®°Âûã Á∫øÊÄßÂõûÂΩíÊòØÊúÄÁÆÄÂçïÁöÑÊú∫Âô®Â≠¶‰π†Ê®°ÂûãÔºåÂØπ‰∫éÊØè‰∏™ÁâπÂæÅÂÄºÈÉΩÊúâ‰∏Ä‰∏™ÂØπÂ∫îÁöÑÂèÇÊï∞wÔºåÊ®°Âûã‰∏≠ÂØπÂ∫îÁöÑÂèÇÊï∞$w_i$‰πò‰ª•$x_i$Ê±ÇÂíåÂêéÂä†‰∏äbiasÔºåÂÖ∑‰ΩìÁöÑÂÖ¨Á§∫Â¶Ç‰∏ãÔºö \hat y_i = \sum {w_i* x_i} + b_i123def regression(feature, param): predict = np.dot(feature, param[0]) + param[1] return predict ‚Äã ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂú®ÂÖ∑‰ΩìËÆ°ÁÆóÁöÑÊó∂ÂÄôfeature‰∏çÊòØÁÆÄÂçïÁöÑ‰∏Ä‰∏™ÂêëÈáèÔºåËÄåÊòØÁî±Â§ö‰∏™ÂêëÈáèÁªÑÊàêÁöÑ‰∏Ä‰∏™Áü©ÈòµÔºåÂØπÂ∫îÂèòÈáèÁª¥Â∫¶‰ø°ÊÅØÂ¶Ç‰∏ãÔºö w = param[0]\\ b = param[1]\\ dim(feature) = (batch\_size, num\_feature)\\ dim(param[0]) = (num\_feature, 1)\\ dim(b) = 1\\ dim(\hat y) = (batch\_size, 1) ÂÆö‰πâÊçüÂ§±ÂáΩÊï∞ ÊçüÂ§±ÂáΩÊï∞Â∞±ÊòØÊúÄÊôÆÈÄöÁöÑÂπ≥ÊñπÊçüÂ§±ÂáΩÊï∞ÔºåÂ∞±ÊòØÁõ¥Êé•ËÆ°ÁÆóÊ®°ÂûãÈ¢ÑÊµãÁöÑÂÄº$\hat y$ÂíåÁúüÂÆûÁöÑ$y$ÁöÑÂ∑ÆÁöÑÂÄºÁöÑÂπ≥ÊñπÁöÑÂπ≥ÂùáÂÄº„ÄÇ‰∏∫‰∫ÜÂú®Ê±ÇÂØºËøáÁ®ã‰∏≠Êñπ‰æøËÆ°ÁÆóÔºå‰∏ÄËà¨Êúâ‰∫∫Â§öÈô§‰ª•‰∏™2Ôºå‰πüÊúâ‰∫∫‰∏çÈô§„ÄÇ‰∏ãÈù¢ÊòØÊçüÂ§±ÂáΩÊï∞ÁöÑÂÖ¨Á§∫Ôºö Loss = \frac {1}{N} (y_i - (w_i x_i + b))^212def Loss(predict, label): return np.sum((label - predict) ** 2) / (2 *len(label)) ËøôÈáåÁöÑpredictÂíålabelÈÉΩÊòØÈïøÂ∫¶‰∏∫batch_sizeÁöÑÂêëÈáè ÂÆö‰πâÈöèÊú∫Ê¢ØÂ∫¶‰∏ãÈôçÂáΩÊï∞MBGDÊ¢ØÂ∫¶‰∏ãÈôçÁÆóÊ≥ïÊòØÊï¥‰∏™Êú∫Âô®Â≠¶‰π†ÈáåÈù¢ÊúÄ‰∏∫Ê†∏ÂøÉÁöÑÁÆóÊ≥ï„ÄÇÂèØ‰ª•ËØ¥Êï¥‰∏™Êó†ËÆ∫ÊòØÂ§çÊùÇÁöÑLSTMÔºåCNNÁ≠âÊ∑±Â∫¶Â≠¶‰π†ÁΩëÁªúÔºåËøòÊòØÁÆÄÂçïÁöÑÁ∫øÊÄßÂõûÂΩí/ÈÄªËæëÂõûÂΩíÈÉΩÊòØÈù†ÁùÄÂêÑÁßçÂêÑÊ†∑ÁöÑÊ¢ØÂ∫¶‰∏ãÈôçÁÆóÊ≥ïÊù•ÂÆûÁé∞ÂØπÂèÇÊï∞ÁöÑÊõ¥Êñ∞Ôºå‰ªéËÄåÂÆûÁé∞ËÆ©Ê®°ÂûãÊõ¥Âä†Êô∫ËÉΩÁöÑÁõÆÁöÑ„ÄÇ‰∏ãÈù¢È¶ñÂÖà‰ªãÁªçSGDÁöÑÂÆûÁé∞ËøáÁ®ãÔºåÂ¶ÇÊûúÂú®ÂêéÁª≠ÂÆûÈ™åËøáÁ®ã‰∏≠ÂèëÁé∞ÊïàÊûú‰∏çÂ•ΩÁöÑËØùÂàôÊç¢Áî®ÂÖ∂‰ªñÊ¢ØÂ∫¶‰∏ãÈôçÁÆóÊ≥ï„ÄÇ ÁÆóÊ≥ïÂêç ËØ¥Êòé ‰ºòÁº∫ÁÇπ BGD ÈááÁî®Êï¥‰∏™ËÆ≠ÁªÉÈõÜÁöÑÊï∞ÊçÆÊù•ËÆ°ÁÆó cost function ÂØπÂèÇÊï∞ÁöÑÊ¢ØÂ∫¶ Áî±‰∫éËøôÁßçÊñπÊ≥ïÊòØÂú®‰∏ÄÊ¨°Êõ¥Êñ∞‰∏≠ÔºåÂ∞±ÂØπÊï¥‰∏™Êï∞ÊçÆÈõÜËÆ°ÁÆóÊ¢ØÂ∫¶ÔºåÊâÄ‰ª•ËÆ°ÁÆóËµ∑Êù•ÈùûÂ∏∏ÊÖ¢ÔºåÈÅáÂà∞ÂæàÂ§ßÈáèÁöÑÊï∞ÊçÆÈõÜ‰πü‰ºöÈùûÂ∏∏Ê£òÊâãÔºåËÄå‰∏î‰∏çËÉΩÊäïÂÖ•Êñ∞Êï∞ÊçÆÂÆûÊó∂Êõ¥Êñ∞Ê®°Âûã SGD ÊØèÊ¨°Êõ¥Êñ∞Êó∂ÂØπÊØè‰∏™Ê†∑Êú¨ËøõË°åÊ¢ØÂ∫¶Êõ¥Êñ∞ ÂØπ‰∫éÂæàÂ§ßÁöÑÊï∞ÊçÆÈõÜÊù•ËØ¥ÔºåÂèØËÉΩ‰ºöÊúâÁõ∏‰ººÁöÑÊ†∑Êú¨ÔºåËøôÊ†∑ BGD Âú®ËÆ°ÁÆóÊ¢ØÂ∫¶Êó∂‰ºöÂá∫Áé∞ÂÜó‰ΩôÔºåËÄå SGD ‰∏ÄÊ¨°Âè™ËøõË°å‰∏ÄÊ¨°Êõ¥Êñ∞ÔºåÂ∞±Ê≤°ÊúâÂÜó‰ΩôÔºåËÄå‰∏îÊØîËæÉÂø´ÔºåÂπ∂‰∏îÂèØ‰ª•Êñ∞Â¢ûÊ†∑Êú¨„ÄÇSGD Âõ†‰∏∫Êõ¥Êñ∞ÊØîËæÉÈ¢ëÁπÅÔºå‰ºöÈÄ†Êàê cost function Êúâ‰∏•ÈáçÁöÑÈúáËç°„ÄÇBGD ÂèØ‰ª•Êî∂ÊïõÂà∞Â±ÄÈÉ®ÊûÅÂ∞èÂÄºÔºåÂΩìÁÑ∂ SGD ÁöÑÈúáËç°ÂèØËÉΩ‰ºöË∑≥Âà∞Êõ¥Â•ΩÁöÑÂ±ÄÈÉ®ÊûÅÂ∞èÂÄºÂ§Ñ„ÄÇ MBGD MBGD ÊØè‰∏ÄÊ¨°Âà©Áî®‰∏ÄÂ∞èÊâπÊ†∑Êú¨ÔºåÂç≥ n ‰∏™Ê†∑Êú¨ËøõË°åËÆ°ÁÆó ËøôÊ†∑ÂÆÉÂèØ‰ª•Èôç‰ΩéÂèÇÊï∞Êõ¥Êñ∞Êó∂ÁöÑÊñπÂ∑ÆÔºåÊî∂ÊïõÊõ¥Á®≥ÂÆöÔºåÂè¶‰∏ÄÊñπÈù¢ÂèØ‰ª•ÂÖÖÂàÜÂú∞Âà©Áî®Ê∑±Â∫¶Â≠¶‰π†Â∫ì‰∏≠È´òÂ∫¶‰ºòÂåñÁöÑÁü©ÈòµÊìç‰ΩúÊù•ËøõË°åÊõ¥ÊúâÊïàÁöÑÊ¢ØÂ∫¶ËÆ°ÁÆó‰∏çËøá Mini-batch gradient descent ‰∏çËÉΩ‰øùËØÅÂæàÂ•ΩÁöÑÊî∂ÊïõÊÄßÔºålearning rate Â¶ÇÊûúÈÄâÊã©ÁöÑÂ§™Â∞èÔºåÊî∂ÊïõÈÄüÂ∫¶‰ºöÂæàÊÖ¢ÔºåÂ¶ÇÊûúÂ§™Â§ßÔºåloss function Â∞±‰ºöÂú®ÊûÅÂ∞èÂÄºÂ§Ñ‰∏çÂÅúÂú∞ÈúáËç°ÁîöËá≥ÂÅèÁ¶ª„ÄÇ Âú®Ê¢ØÂ∫¶‰∏ãÈôçÁÆóÊ≥ï‰∏≠ÊúÄ‰∏∫ÈáçË¶ÅÁöÑÊòØÂØπÊçüÂ§±ÂáΩÊï∞ËøõË°åÊ±ÇÂØºÔºå‰∏ãÈù¢ÁªôÂá∫Á∫øÊÄßÂõûÂΩíÊ®°Âûã‰∏≠ÂØπ‰∫éwÂíåbÁöÑÊ±ÇÂØºÂÖ¨Á§∫ÔºàÂõ†‰∏∫Á∫øÊÄßÂõûÂΩíÊ®°ÂûãÊØîËæÉÁÆÄÂçïÔºåÊâãÂ∑•Ê±ÇÂØº‰∏çÂ§çÊùÇÔºå‰ΩÜÊòØ‰πãÂêéÂ§çÊùÇÁöÑÁ•ûÁªèÁΩëÁªú‰∏≠‰∏ÄËà¨‰ΩøÁî®Ê∑±Â∫¶Â≠¶‰π†Ê°ÜÊû∂ËøõË°åËá™Âä®Ê±ÇÂØºÔºâ \frac{\partial L o s s}{\partial m}=\frac{\frac{1}{N} \sum_{i=1}^{N}\left(y_{i}-\left(m x_{i}+b\right)\right)^{2}}{\partial m}=-\frac{2}{N} \sum_{i=1}^{N} x_{i}\left(y_{i}-\left(m x_{i}+b\right)\right)\\ \frac{\partial L o s s}{\partial b}=\frac{\frac{1}{N} \sum_{i=1}^{N}\left(y_{i}-\left(m x_{i}+b\right)\right)^{2}}{\partial b}=-\frac{2}{N} \sum_{i=1}^{N}\left(y_{i}-\left(m x_{i}+b\right)\right)‰∏ãÈù¢ÊòØÂØπÂ∫îÁöÑpython‰ª£Á†ÅÂÆûÁé∞ 123456789101112131415def MBGD(param, lr, features, labels): """ ‰ΩøÁî®SGD‰ºòÂåñÂô® """ w = param[0] b = param[1] N = len(labels) h = np.dot(features, w) + b labels = labels.reshape(h.shape) dw = features.T.dot((h - labels)) / N db = np.sum((h - labels)) / N new_w = w - lr * dw new_b = b - lr * db new_param = (new_w, new_b) return new_param Ê≥®ÊÑèËøôÈáåÂØπÂèÇÊï∞wÂíåbÁöÑÊ±ÇÂØºÊñπÂºèÂíå‰∏äÈù¢ÊâÄËø∞ÂÖ¨Á§∫ÁªìÊûúÊòØ‰∏ÄËá¥ÁöÑÔºåÂè™ÊòØÂ∞Ü$\hat y$ÊîæÂú®‰∫ÜÂâçÈù¢ËÄåÂ∑≤ Ê®°ÂûãË∞É‰ºò‚Äã ÁªèËøá‰∏äËø∞‰∏ÄÁ≥ªÂàóÁöÑÂáÜÂ§áÂ∑•‰ΩúÔºåÂ∑≤ÁªèËÉΩÂ§üË∑ëËµ∑Êù•‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁ∫øÊÄßÂõûÂΩíÊ®°ÂûãÔºå‰∏ãÈù¢ÊòØÁªèËøá‰∏äÈù¢Ê®°ÂûãË∑ëÂá∫Êù•ÁöÑlossÊõ≤Á∫øÂõæ, Ê®°ÂûãÂú®ËÆ≠ÁªÉÈõÜÂíåÈ™åËØÅÈõÜ‰∏äÈÉΩËÉΩÂ§üÊúâÊïàÁöÑËÆ≠ÁªÉÔºåÂπ∂‰∏îÊ≤°ÊúâÂá∫Áé∞ËøáÊãüÂêàÁé∞Ë±°„ÄÇ Â∞ÜÈ¢ÑÊµãÂæóÂà∞ÁöÑÂÆûÈ™åÁªìÊûúÂ∫îÁî®Âà∞ÊµãËØïÊï∞ÊçÆÈõÜ‰∏äÂæóÂà∞ÁªìÊûú, Âπ∂Êèê‰∫§Âà∞kaggle‰∏äËøõË°åÊµãËØïÔºåÂèëÁé∞Ëá™Â∑±ÂÜô‰∫Ü‰∏™üí©ÔºåbaselineÁöÑscoreÊòØ8.7377, Ê≥®ÊÑèËøôÈáåÁöÑscoreÊòØË∂äÂ∫ïË∂äÂ•Ω ÊâÄ‰ª•ÂøÖÈ°ªÂØπ‰∏äËø∞ÁöÑÊ®°ÂûãËøõË°åË∞É‰ºò Ê¨†ÊãüÂêà‰ªé‰∏äÈù¢ÁöÑlossÊõ≤Á∫øÂõæÂèØ‰ª•ÁúãÂá∫Êù•ÔºålossÊõ≤Á∫øËøòÂú®‰∏ãÈôç‰∏≠ÔºåÂπ∂Ê≤°ÊúâÊî∂Êïõ„ÄÇÂõ†Ê≠§ÂèØ‰ª•Â∞ùËØïÂ¢ûÂ§ßepochÔºåÂ¢ûÂ§ßËÆ≠ÁªÉÁöÑËΩÆÊï∞ÔºåÁõ¥Âà∞ÊúÄÂêéÂÆåÂÖ®Êî∂Êïõ„ÄÇ ÊúÄÂêéÂΩìepochËÆæÁΩÆ‰∏∫1000ÁöÑÊó∂ÂÄôÁúãÂà∞lossÊõ≤Á∫øÊúâÊòéÊòæÂæóÂà∞Êî∂Êïõ„ÄÇ ÂÜçÊ¨°Âú®kaggle‰∏äÊèê‰∫§Á≠îÊ°àÔºåÂèëÁé∞ÁªìÊûúÂ¶Ç‰∏ãüò¢ ËôΩÁÑ∂ÂØπÊØîbaselineÊù•ËØ¥ÔºåÊàëÁöÑÊ®°Âûã‰æùÁÑ∂Âíåüí©‰∏ÄÊ†∑Ôºå‰ΩÜÊòØËá≥Â∞ëscoreÈôç‰Ωé‰∫Ü‰∏çÂ∞ë, Êé•ÁùÄÊÖ¢ÊÖ¢Ë∞ÉËØïÂêß ‰ΩøÁî®adagradÁÆóÊ≥ïÊù•Êõ¥Êñ∞Â≠¶‰π†Áéá‰πãÂâçÊâÄÊúâÁöÑËÆ≠ÁªÉ‰ΩøÁî®ÁöÑÂ≠¶‰π†ÁéáÈÉΩÊòØÂõ∫ÂÆö‰∏çÂèòÁöÑÔºåÂú®ÂâçÊúüÁöÑÊó∂ÂÄôÂèØËÉΩlossÁöÑÊúÄ‰ΩéÂÄºÂèØËÉΩË∑ùÁ¶ªËµ∑ÁÇπ‰ΩçÁΩÆÊØîËæÉËøúÔºå‰ΩøÁî®ËæÉÂ§ßÁöÑÂ≠¶‰π†ÁéáÊ≤°Êúâ‰ªÄ‰πàÈóÆÈ¢òÔºå‰ΩÜÊòØÂà∞ÂêéÈù¢Â¶ÇÊûúÂ≠¶Ê†°ÁéáËøòÊòØÂæàÂ§ßÁöÑËØùÂ∞±ÊúâÂèØËÉΩÂØºËá¥ÈîôËøálossÁöÑÊúÄ‰ΩéÂÄºÁÇπÔºåÂõ†Ê≠§Ë¶Å‰ΩøÁî®adagradÁÆóÊ≥ïÊù•Êõ¥Êñ∞Â≠¶‰π†Áéá„ÄÇ ‰∏ãÈù¢ÊòØadagradÁÆóÊ≥ïÁöÑÊé®ÂØºËøáÁ®ã: ÊôÆÈÄöÁöÑÊ¢ØÂ∫¶‰∏ãÈôçËøáÁ®ã‰∏∫Ôºö w ^ { t + 1 } \leftarrow w ^ { t } - p ^ { t } g ^ { t } \\ \eta ^ { t } = \frac { \eta ^ { t } } { \sqrt { t + 1 } }ÊôÆÈÄöÂ≠¶‰π†ÁéáÊòØÂõ∫ÂÆöÁöÑÔºåË¶ÅÊÉ≥ËÆ©Â≠¶‰π†ÁéáÈÄêÊ≠•ÂèòÂ∞èÁöÑËØùÔºå‰∏Ä‰∏™ÊúÄÁõ¥Êé•ÁöÑÂäûÊ≥ïÂ∞±ÊòØËÆ©Â≠¶‰π†ÁéáÈô§‰ª•Ëø≠‰ª£Ê¨°Êï∞ÁöÑ1/2Ê¨°ÊñπÔºåËøôÊ†∑ÂΩìËø≠‰ª£Ê¨°Êï∞ÁâπÂà´Â§ß‰πãÂêéÔºåÂ≠¶‰π†Áéá‰πü‰ºö‰∏çÊñ≠ÂáèÂ∞è„ÄÇÂü∫‰∫éËøôÁßçÊÉ≥Ê≥ïÔºåÊàë‰ª¨Ë∞ÉÊï¥Êàë‰ª¨‰ª£Á†Å‰∏≠ÁöÑÂ≠¶‰π†Áéá„ÄÇ 1learningRate = learningRate / np.sqrt(e + 1) ÂèëÁé∞ÁªìÊûúÂ•ΩÂÉèÁÇ∏‰∫ÜÂëÄüò¢, ÁúãÊù•‰∫ãÊÉÖÂπ∂Ê≤°ÊúâÁé∞Ë±°ÁöÑÈÇ£‰πàÁÆÄÂçï„ÄÇ‰∏çËÉΩÊâÄÊúâÁöÑÂèÇÊï∞ÈÉΩÁÆÄÂçïÁ≤óÊö¥ÁöÑÁõ¥Êé•ÂáèÂ∞èÔºåË¶ÅÊ†πÊçÆ‰∏çÂêåÂèÇÊï∞ÁªôÂá∫‰∏çÂêåÁöÑÂ∫îÂØπÊñπÊ°à„ÄÇÊâÄ‰ª•ÊâçÂéªÁöÑÂäûÊ≥ïÊòØÊØè‰∏™ÂèÇÊï∞ÁöÑÂ≠¶‰π†ÁéáÈô§‰ª•‰πãÂâçÂæÆÂàÜÁöÑÂùáÊñπÊ†π„ÄÇ w ^ { t + 1 } \leftarrow w ^ { t } - \frac { n ^ { t } } { \sigma ^ { t } } g ^ { t } \\ g ^ { t } = \frac { \partial L ( \theta ^ { t } ) } { \partial w } $\sigma ^ t$Ôºö Ë°®Á§∫‰πãÂâçÂèÇÊï∞ÁöÑÊâÄÊúâÂæÆÂàÜÁöÑÂùáÊñπÊ†πÔºåÂØπ‰∫éÊØè‰∏™ÂèÇÊï∞ÈÉΩÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇ \sigma ^ t = \sqrt {\frac {1}{t+1}\sum_{i=0}^{t}(g^i)^2}ÈöèÊÑèÊúÄÁªàÁâàÊú¨ÁöÑadagradÁÆóÊ≥ï‰∏≠ÂèÇÊï∞ÁöÑÊõ¥Êñ∞ÂÖ¨Á§∫Â¶Ç‰∏ãÔºö w^{t+1} \leftarrow w^t - \frac{\eta}{\sqrt {\sum_{i=0}^t(g^i)^2}} g ^t123gradient = 2 * np.dot(TrainData_.transpose(), np.dot(TrainData_, W) - TrainLabel)adagrad += gradient ** 2W = W - learningRate * gradient / np.sqrt(adagrad + 1e-10) ‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂ∞±ÊòØÂÆûÁé∞adagradÁöÑÊ†∏ÂøÉ‰ª£Á†Å„ÄÇ ‰ΩøÁî®adagrad‰πãÂêéÔºålossÊî∂ÊïõÁöÑÂ∞±ÁâπÂà´Âø´ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>Ê∑±Â∫¶Â≠¶‰π†</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Ê∑±Â∫¶Â≠¶‰π†‰Ωú‰∏ö</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PandasÁé©ËΩ¨Êï∞ÊçÆÈÄèËßÜË°®]]></title>
    <url>%2F2020%2F07%2F04%2F2020-07-04-Pandas%E7%8E%A9%E8%BD%AC%E6%95%B0%E6%8D%AE%E9%80%8F%E8%A7%86%E8%A1%A8%2F</url>
    <content type="text"><![CDATA[Pandas Áé©ËΩ¨Êï∞ÊçÆÈÄèËßÜË°® Êú¨Êñá‰ª•kaggleÊØîËµõPredict Future Sales‰∏∫‰∏≠ÁöÑÊï∞ÊçÆ‰∏∫‰æã‰ªãÁªçpandas‰∏≠Êï∞ÊçÆÈÄèËßÜË°®ÁöÑ‰ΩøÁî®„ÄÇ ÈÄèËßÜË°®Êú¨Êù•ÊòØ‰∏ÄÁßçÂØπÊï∞ÊçÆËøõË°åÂä®ÊÄÅÊéíÂ∏ÉÂíåÂàÜÁ±ªÊ±áÊÄªÁöÑË°®„ÄÇÂ§ßÂ§öÊï∞‰∫∫ÂèØËÉΩÂú®‰ΩøÁî®ExcelÁöÑËøáÁ®ã‰∏≠Âê¨ËØ¥ËøáËøô‰∏™Ê¶ÇÂøµ„ÄÇÁõ∏ÂØπ‰∫éExcel‰∏≠ÂèØËßÜÂåñÁöÑÊìç‰ΩúÔºåPandasÊèê‰æõÁöÑÊòØ‰∏Ä‰∏™‰∏éExcelÂäüËÉΩÁ±ª‰ººÁöÑÂà∂‰ΩúÈÄèËßÜË°®ÁöÑAPIÔºåÂè™‰∏çËøáÂ∞ÜÂèØËßÜÂåñÁöÑÊìç‰ΩúÊç¢Êàê‰∫ÜPythonÁ®ãÂ∫èÊìç‰Ωú„ÄÇ Êï∞ÊçÆ‰ªãÁªçÊú¨Ê¨°‰ΩøÁî®Âà∞ÁöÑÊï∞ÊçÆÈõÜÊòØkaggleÊØîËµõPredict Future Sales‰∏≠Êèê‰æõÁöÑÊï∞ÊçÆÈõÜ„ÄÇ‰∏ªË¶ÅË¶ÅÂ§ÑÁêÜÁöÑÊòØÂÖ∂‰∏≠Âêç‰∏∫sales_trains.csvÁöÑËÆ≠ÁªÉÊï∞ÊçÆÔºåËØ•Êï∞ÊçÆËÆ∞ÂΩï‰∫Ü‰∏Ä‰∫õ‰øÑÁΩóÊñØ‰∏Ä‰∫õÂïÜÈì∫Âú®2013Âπ¥Âà∞2015Âπ¥Èó¥ÁöÑÈîÄÂîÆÊï∞ÊçÆÔºåÂéüÂßãÁöÑËÆ≠ÁªÉÊï∞ÊçÆÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö 123import pandas as pdsale_data = pd.read_csv('../data/sales_train.csv')sales_data.head() ÂÖ∂‰∏≠Êúâ6‰∏™Â≠óÊÆµÔºåÂàÜÂà´ÊòØÔºö date: Ë¥ßÁâ©ÈîÄÂîÆÊó•Êúü date_block_num: ËøûÁª≠ÁöÑÊúà‰ªΩÁºñÂè∑ÔºåÁ¨¨‰∏Ä‰∏™Êúà‰∏∫0ÔºåÊúÄÂêé‰∏Ä‰∏™Êúà‰∏∫33 shop_id: ÂïÜÂ∫óÁºñÂè∑ item_id: Ë¥ßÁâ©ÁºñÂè∑ item_price: Ë¥ßÁâ©‰ª∑Ê†º item_cnt_day: Ë¥ßÁâ©ÈîÄÂîÆÈáè ÂèØ‰ª•ÁúãÂà∞ÂéüÂßãÁöÑÊï∞ÊçÆÈõÜ‰∏≠ÈîÄÂîÆÊï∞ÊçÆÊòØÂáå‰π±ÁöÑ„ÄÇÂØπÈ¢òÁõÆÂàÜÊûêÂêéÈúÄË¶ÅÂ∞ÜÂêå‰∏Ä‰∏™ÂïÜÂ∫óÁöÑÂêå‰∏ÄÁßçË¥ßÁâ©Âú®ÊØè‰∏™Êúà‰ªΩÔºà0Âà∞33‰πãÈó¥ÔºâÁöÑÈîÄÂîÆÊÄªÈáèÁªôÁªüËÆ°Âá∫Êù•„ÄÇËøô‰∏™Êó∂ÂÄô‰ΩøÁî®PandasÊèê‰æõÁöÑÈÄèËßÜË°®APIÂ∞±ÊòæÂæóÊûÅ‰∏∫ÁÆÄÂçï„ÄÇ pivot_tableÂáΩÊï∞‰ªãÁªçPandasÁªôÂá∫ÁöÑÊñáÊ°£Â¶Ç‰∏ãÊâÄÁ§∫Ôºö pivot_tableÂáΩÊï∞‰∏≠ÊúÄÂÖ≥ÈîÆÁöÑÂõõ‰∏™ÂáΩÊï∞ÂàÜÂà´ÊòØÔºöindex, values, columns, aggfuncËøôÈáå‰∏ªË¶Å‰ªãÁªçÂÖ∂‰∏≠ÊúÄÈáçË¶ÅÁöÑÂõõ‰∏™ÂèÇÊï∞ÁöÑÁî®Ê≥ïÔºåÂÖ∂‰ªñÂèÇÊï∞ÂèØ‰ª•‰ΩøÁî®pythonÂÜÖÁΩÆÂáΩÊï∞helpÁõ¥Êé•Êü•ÁúãËØ•ÂáΩÊï∞ÁöÑËØ¥ÊòéÊñáÊ°£„ÄÇ indexÂèÇÊï∞indexÂèÇÊï∞ÂøÖÈ°ªÊåáÂÆöÔºåÁî®‰∫éËÆæÂÆöÂ∞ÜÂéüÂßãÁöÑDataFrame‰∏≠Êüê‰∏ÄÂàóÊàñËÄÖÊüê‰∫õÂàó‰Ωú‰∏∫ÈÄèËßÜË°®ÁöÑindexÔºåÁ±ª‰ººÊï∞ÊçÆÂ∫ìsqlËØ≠Âè•‰∏≠ÁöÑgroup byÂêéÈù¢Êé•ÁöÑÂ≠óÊÆµ„ÄÇindexÈúÄË¶Å‰º†ÂÖ•‰∏Ä‰∏™ÂàóË°®ÔºåÂàóË°®‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÂøÖÈ°ªÊòØÂéüÂßãÁöÑDataFrame‰∏≠ÁöÑÂàóÂêç„ÄÇ 12sale_data_index = sale_data.pivot_table(index=['shop_id'])sale_data_index.head() ÂèØ‰ª•ÁúãÂà∞ÔºåÂΩì‰ΩøÁî®shop_id‰Ωú‰∏∫Á¥¢Âºïgroup by‰πãÂêéÔºåÂéüÂßãÈõ∂Êï£ÁöÑÈîÄÂîÆÊï∞ÊçÆÁé∞Âú®ÊåâÁÖßÂïÜÈì∫ÁºñÂè∑ËÅöÈõÜÂú®‰∏ÄËµ∑ÔºåÂíågroup by‰∏çÂêåÁöÑÊòØÔºåÂêå‰∏Ä‰∏™shop_idÁöÑÊï∞ÊçÆ‰∏çÊòØÁÆÄÂçïÁöÑËÅöÈõÜÂú®‰∏ÄËµ∑ÊòæÁ§∫ÔºåËÄåÊòØÊâÄÊúâshop_idÁõ∏ÂêåÁöÑÊï∞ÊçÆÁªôÂêàÂπ∂„ÄÇÂíåÂπ∂ÁöÑËßÑÂàôÂ∞±ÊòØÂêå‰∏Ä‰∏™indexÔºå‰πüÂ∞±ÊòØshop_idÊâÄÁ°ÆÂÆöÁöÑÊâÄÊúâÊï∞ÊçÆÁöÑÂêå‰∏ÄÂ≠óÊÆµ(‰æãÂ¶Çdate_block_num, item_cnt_day, item_id, item_price)ÈÉΩÊåâÁÖßaggfuncÁªôÂÆöÁöÑÂáΩÊï∞ËÆ°ÁÆó„ÄÇÂú®aggfuncÊ≤°ÊúâÊåáÂÆöÂáΩÊï∞ÁöÑÊó∂ÂÄôÔºåÈªòËÆ§ËÆ°ÁÆóÂÖ∂Âπ≥ÂùáÂÄº„ÄÇÊâÄ‰ª•‰∏äÂõæ‰∏≠Á¨¨‰∏ÄË°åÁúãÂà∞ÁöÑitem_price‰∏∫563.4Â∞±ÊòØÊâÄÊúâshop_idÁöÑÈîÄÂîÆÊï∞ÊçÆÁöÑitem_priceÁöÑÂπ≥ÂùáÂÄº„ÄÇ indexÂèÇÊï∞‰πüÂèØ‰ª•ÁªôÂÆöÂ§ö‰∏™ÂÄºÔºå‰ΩøÁî®Â§ö‰∏™Â≠óÊÆµ‰Ωú‰∏∫ÈÄèËßÜË°®ÁöÑindexÔºåÈÄèËßÜË°®ÊåâÁÖßindex‰∏≠Â≠óÊÆµÂá∫Áé∞ÁöÑÂÖàÊâãÈ°∫Â∫èÂàÜÁ∫ßËøõË°ågroup by 12sale_data_indexs = sale_data.pivot_table(index=['shop_id', 'item_id'])sale_data_indexs.head() Â¶Ç‰∏äÂõæÊâÄÁ§∫ÔºåÂΩìindexÊúâÂ§ö‰∏™ÂÄºÁöÑÊó∂ÂÄôÔºåÈÄèËßÜË°®‰ºöËøõË°åÂàÜÁ∫ßËÅöÈõÜ„ÄÇÈ¶ñÂÖàÁ¨¨‰∏ÄÂ≠£ÊòØshop_id‰∏∫0ÁöÑÈîÄÂîÆÊï∞ÊçÆÔºåÁ¨¨‰∫åÁ∫ßÊòØitem_id‰∏∫30ÁöÑÈîÄÂîÆÊï∞ÊçÆÔºåÁî±‰∫éitem_id‰∏∫ÊúÄÂêé‰∏ÄÁ∫ßÔºåÊúÄÁªÜÁöÑÁ≤íÂ∫¶‰∏∫item_idÔºåÊØè‰∏ÄË°åË°®Á§∫Âêå‰∏Ä‰∏™shop_id‰∏ãÂêå‰∏Ä‰∏™item_idÁöÑÊâÄÊúâÊï∞ÊçÆÁöÑÂêÑ‰∏™Â≠óÊÆµÁöÑÂπ≥ÂùáÂÄº„ÄÇ valuesÂèÇÊï∞Âú®‰ªãÁªçindexÂèÇÊï∞ÁöÑÊó∂ÂÄôÂèØ‰ª•ÁúãÂà∞ÔºåÂΩìÂØπitem_cnt_dayÔºàÈîÄÈáèÔºâÂíåitem_priceÔºàÂîÆ‰ª∑ÔºâÊ±ÇÂπ≥ÂùáÂÄºÊòØÊúâÊÑè‰πâÁöÑÔºå‰ΩÜÊòØÂØπÊó•ÊúüÊ±ÇÂùáÂÄºÂ∞±Ê≤°ÊúâÊÑè‰πâ‰∫ÜÔºåÊâÄ‰ª•ÂèØ‰ª•ÈÄöËøávaluesÂèÇÊï∞ÊåáÂÆöÈÄèËßÜË°®‰∏≠‰øùÁïôÈÇ£‰∫õÂ≠óÊÆµÁöÑÂÄº„ÄÇ 12sale_data_value = sale_data.pivot_table(index = ['shop_id', 'item_id'],values = ['item_price','item_cnt_day'])sale_data_value.head() ‰∏çÂêå‰∫éindexÂèÇÊï∞ÁöÑÊòØÔºåindexÂèÇÊï∞ÂøÖÈ°ªÊåáÂÆöÔºåËÄåvaluesÂèÇÊï∞ÂèØ‰ª•Áº∫ÁúÅÔºåÁº∫ÁúÅÊó∂valuesÈªòËÆ§‰ºö‰øùÁïôÊâÄÊúâÂ≠óÊÆµ„ÄÇ aggfuncÂèÇÊï∞‰∏äËø∞ÊâÄÊúâ‰æãÂ≠ê‰∏≠ÔºåÂΩìÊï∞ÊçÆÊåâÁÖßÊüê‰∏™indexËÅöÈõÜ‰πãÂêéÔºåÂêå‰∏Ä‰∏™indexÁöÑÊï∞ÊçÆ‰ºöÊåâÁÖßaggfuncÊåáÂÆöÁöÑÂáΩÊï∞ËøõË°åËÆ°ÁÆóÔºåaggfuncÂêåÊ†∑‰πüÊòØ‰∏Ä‰∏™ÈùûÂøÖÈ°ªÂèÇÊï∞ÔºåÂΩìÊ≤°ÊúâÊåáÂÆöÂèÇÊï∞ÁöÑÊó∂ÂÄôÈªòËÆ§ËÆ°ÁÆóÂπ≥ÂùáÂÄº„ÄÇËÄåÊú¨È¢òÁõÆ‰∏≠ÊòéÊòæÈúÄË¶ÅËÆ°ÁÆóÂêå‰∏Ä‰∏™shop_idÂíåÂêå‰∏Ä‰∏™item_idÁöÑÈîÄÂîÆÈáèÁöÑÁªºÂêàÔºåÊâÄ‰ª•ÈúÄË¶Å‰ΩøÁî®Ê±ÇÂíåÂáΩÊï∞„ÄÇ 123sale_data_agg = sale_data.pivot_table(index = ['shop_id', 'item_id'],\ values = ['item_price','item_cnt_day'],aggfunc=[np.sum,np.mean])sale_data_agg.head() ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØaggfunc‰ΩøÁî®Â≠óÁ¨¶‰∏≤‰º†ÂÖ•pythonÂÜÖÁΩÆÂáΩÊï∞ÂêçÔºå‰πüÂèØ‰ª•Áõ¥Êé•‰º†ÂÖ•ÂáΩÊï∞ÂØπË±°ÔºåÂπ∂‰∏îÂèØ‰ª•‰ΩøÁî®ÂàóË°®‰º†ÂÖ•Â§ö‰∏™ÂáΩÊï∞ÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö 123sale_data_agg = sale_data.pivot_table(index = ['shop_id', 'item_id'],\ values = ['item_price','item_cnt_day'],aggfunc=[np.sum,np.mean])sale_data_agg.head() columnsÂèÇÊï∞columnsÂèÇÊï∞ÂèØ‰ª•ËØ¥ÊòØÊúÄ‰∏çÂ•ΩÁêÜËß£ÁöÑ‰∏Ä‰∏™ÂèÇÊï∞„ÄÇÂ¶ÇÊûúÊàëÁé∞Âú®ÁöÑÈúÄÊ±ÇÊòØÁªüËÆ°ÊØè‰∏™shop_idÂíåitem_idÁ°ÆÂÆöÁöÑÈîÄÂîÆÊï∞ÊçÆ‰∏≠ÔºåÊØè‰∏™Êúà‰ªΩÁöÑÈîÄÂîÆÈáè„ÄÇÂèØËÉΩÂæàÂ§ö‰∫∫‰ºöÂú®indexÂèÇÊï∞‰∏≠ÂÜçÂä†‰∏Ä‰∏™date_block_num,Â¶Ç‰∏ãÊâÄÁ§∫Ôºö 123sale_data_columns = sale_data.pivot_table(index = ['shop_id', 'item_id','date_block_num'],\ values = ['item_cnt_day'],aggfunc=[np.sum])sale_data_columns.head() ËôΩÁÑ∂‰πüËÉΩËææÂà∞Áõ∏ÂêåÁöÑÊïàÊûúÔºå‰ΩÜÊòØÂØπ‰∫éÊúâ‰∫õÂïÜÂìÅÂú®Êúâ‰∫õÊúà‰ªΩÊ≤°ÊúâÈîÄÂîÆÊï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÈÄèËßÜË°®‰∏≠Â∞±‰∏ç‰ºöÂá∫Áé∞ÂØπÂ∫îÁöÑÊï∞ÊçÆÔºåÂπ∂‰∏îÁ´ñÂêëÊéíÂàóÊòæÂæóÂçÅÂàÜ‰∏çÁõ¥ËßÇ„ÄÇËøôÊó∂ÂÄôÂ∞±ÂèØ‰ª•‰ΩøÁî®columnsÂèÇÊï∞„ÄÇÊåáÂÆöÊüê‰∏™Â≠óÊÆµÔºåÊåâÁÖßÁ±ª‰ººindexÁöÑÊñπÂºèËøõË°åËÅöÈõÜÔºåÂè™ÊòØËÅöÈõÜÁöÑÁªìÊûú‰∏çÊòØ‰Ωú‰∏∫Ë°åÊ†áindexÔºåËÄåÊòØ‰Ωú‰∏∫ÂàóÊ†á„ÄÇ 123sale_data_columns = sale_data.pivot_table(index = ['shop_id', 'item_id'],values = ['item_cnt_day'],\ aggfunc=[np.sum],columns=['date_block_num'])sale_data_columns.head() ËøôÊ†∑Âêå‰∏Ä‰∏™ship_idÂíåitem_idÁöÑÊâÄÊúâÊï∞ÊçÆÂ∞±ÊåâÁÖßÊúà‰ªΩËÅöÈõÜÂ•Ω‰∫Ü„ÄÇÂè™ÊòØÁî±‰∫éÂæàÂ§öÊúà‰ªΩÊ≤°ÊúâÈîÄÂîÆÊï∞ÊçÆÔºåÂØºËá¥ÈÄèËßÜË°®‰∏≠Âá∫Áé∞‰∫ÜÂæàÂ§öNaN,ÊâÄ‰ª•ÈúÄË¶ÅÁî®ÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞ÂéªÈô§Ëøô‰∫õNaN„ÄÇ ÊúÄÂêé‰ΩøÁî®fill_valueÂèÇÊï∞ÊåáÂÆö‰ΩøÁî®Êüê‰∏™ÂÄºÂ°´ÂÖÖNaN 123sale_data_columns = sale_data.pivot_table(index = ['shop_id', 'item_id'],values = ['item_cnt_day'],\ aggfunc=[np.sum],columns=['date_block_num'],fill_value=0)sale_data_columns.head() Ëá≥Ê≠§Ôºå‰Ω†Â∑≤ÁªèÂèØ‰ª•ÊÑâÂø´ÁöÑ‰ΩøÁî®pivot_tableÂáΩÊï∞Âà∂‰ΩúÂêÑÁßçÂêÑÊ†∑ÁöÑÊï∞ÊçÆÈÄèËßÜË°®‰∫Ü„ÄÇÂéüÊù•ÂèØËÉΩË¶ÅÂÜôÂá†ÂçÅË°åÁöÑ‰ª£Á†ÅÊâçËÉΩËææÂà∞ËøôÁßçÊïàÊûúÔºåÁé∞Âú®Âè™Ë¶Å‰∏ÄË°å‰ª£Á†ÅÂ∞±ÂèØ‰ª•ÂÆåÊàê„ÄÇ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Pandas</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vim Êñ∞ÊâãÂÖ•Èó®ÊïôÁ®ã‰πãÂ¢ûÂà†ÊîπÊü•]]></title>
    <url>%2F2020%2F02%2F13%2Fvim-learn1%2F</url>
    <content type="text"><![CDATA[vim Êñ∞ÊâãÂÖ•Èó®ÊïôÁ®ã‰∏Ä: Â¢ûÂà†ÊîπÊü•‚Äã ÂØπ‰∫é‰ªª‰Ωï‰∏Ä‰∏™ÁºñËæëÂô®Êù•ËØ¥ÔºåÂØπÊñáÊú¨ÊâÄÂÅöÁöÑÊìç‰ΩúÊó†ÈùûÂ∞±ÊòØÂ¢ûÂà†ÊîπÊü•ËøôÂõõÁßçÊìç‰ΩúÔºå‰ΩÜÊòØÁî±‰∫évimÈáåÈù¢ÁöÑÂëΩ‰ª§‰ºóÂ§öÔºåÂ≠¶‰π†ÊàêÊú¨ËæÉÈ´òÔºåËøôÊ†∑Â∞±ÂäùÈÄÄ‰∫ÜÂæàÂ§öÊñ∞ÊâãÔºåÊú¨ÁØáÂçöÂÆ¢Â∞Ü‰ªéÂ¢ûÂà†ÊîπÊü•Âõõ‰∏™Êìç‰ΩúÊù•‰ªãÁªç‰∏Ä‰∏ãÂ¶Ç‰ΩïÂÖ•Èó®vim„ÄÇ ‰∏Ä„ÄÅÊ∑ªÂä†Êìç‰Ωú‚Äã vimÊúâ‰∏§ÁßçÊ®°ÂºèÔºå‰∏ÄÁßçÊòØnormalÊ®°ÂºèÔºàÂëΩ‰ª§Ê®°ÂºèÔºâÔºå‰∏ÄÁßçÊòØinsertÊ®°ÂºèÔºàÊèíÂÖ•Ê®°ÂºèÔºâ„ÄÇÂè™ÊúâÂú®ÂëΩ‰ª§Ê®°Âºè‰∏ãÔºåÊâÄÊúâÁöÑ‰∏ãÈù¢‰ªãÁªçÁöÑÊâÄÊúâÂëΩ‰ª§Êâç‰ºöËµ∑‰ΩúÁî®ÔºåËÄåÊèíÂÖ•Ê®°Âºè‰∏ãÔºåÈîÆÁõòÊï≤ÂÖ•ÁöÑÊØè‰∏™Â≠óÁ¨¶ÈÉΩ‰ºöÂÜôÂÖ•ÊñáÊú¨‰∏≠„ÄÇËæ®Âà´vimÊòØÂëΩ‰ª§Ê®°ÂºèËøòÊòØÊèíÂÖ•Ê®°ÂºèÁöÑÊñπÊ≥ïÂæàÁÆÄÂçïÔºåÊèíÂÖ•Ê®°ÂºèÁöÑÊó∂ÂÄôvimÁöÑÂ∫ïÈÉ®ÊúâinsertÁöÑÂ≠óÊ†∑ÔºåËÄå‰ªÄ‰πàÈÉΩÊ≤°ÊúâÁöÑÊó∂ÂÄôË°®Á§∫Â§Ñ‰∫éÂëΩ‰ª§Ê®°Âºè„ÄÇ ‚Äã ÂΩìÊàë‰ª¨ÊèíÂÖ•Â≠óÁ¨¶ÁöÑÊó∂ÂÄôÔºåÂ∞±ÈúÄË¶Å‰ªéÂëΩ‰ª§Ê®°ÂºèËΩ¨‰∏∫ÊèíÂÖ•Ê®°ÂºèÔºåÂú®vim‰∏≠‰ªéÂëΩ‰ª§Ê®°ÂºèËΩ¨‰∏∫ÊèíÂÖ•Ê®°ÂºèÊúâ‰∏â‰∏™ÂëΩ‰ª§Ôºå‰ªñ‰ª¨ÂàÜÂà´ÁöÑ‰ΩúÁî®Â¶Ç‰∏ãË°®ÊâÄÁ§∫ÔºåÂå∫ÂàÜÂ§ßÂ∞èÂÜôÁöÑËØùÂÖ±ÊúâÂÖ≠ÁßçÊñπÂºè„ÄÇ ÂëΩ‰ª§ ‰ΩúÁî® ËÅîÊÉ≥ËÆ∞ÂøÜ i ÂêëÂΩìÂâçÂ≠óÁ¨¶ÂâçÈù¢‰∏Ä‰∏™Â≠óÁ¨¶ÊèíÂÖ• insert I Âú®ÂΩìÂâçË°åÁöÑË°åÈ¶ñÊèíÂÖ• ‚Äî- a ÂêëÂΩìÂâçÂ≠óÁ¨¶ÂêéÈù¢‰∏Ä‰∏™Â≠óÁ¨¶ÊèíÂÖ• append A Âú®ÂΩìÂâçË°åÁöÑË°åÂ∞æÊèíÂÖ• ‚Äî- o ÊÉ≥ÂΩìÂâçÂ≠óÁ¨¶‰∏ãÈù¢‰∏ÄË°åÊèíÂÖ• open a new line O ÂêëÂΩìÂâçË°åÁöÑ‰∏ä‰∏ÄË°åÊèíÂÖ• ‚Äî- ‰∫å„ÄÅÂà†Èô§Êìç‰Ωú‚Äã vimÈáåÈù¢ÂÖ≥‰∫éÂà†Èô§ÁöÑÊìç‰ΩúÂëΩ‰ª§ÂçÅÂàÜÁöÑÁÆÄÂçïÔºåÂè™Êúâ‰∏§‰∏™Ôºå‰∏Ä‰∏™ÊòØxÔºå‰ªñ‰ª¨ÁöÑÂå∫Âà´Â¶Ç‰∏ãÔºö x : Áõ∏ÂΩì‰∫é‰∏çÂèäÁâ©Âä®ËØçÔºåÂêéÈù¢‰∏çÈúÄË¶ÅË∑üÊñáÊú¨ÂØπË±°ÔºåÊåâ‰∏Ä‰∏ãxÁõ¥Êé•Âà†Èô§Ë¥ØÊ†áÂØπÂ∫îÁöÑÂ≠óÁ¨¶ÔºåÂâçÈù¢ÂèØ‰ª•Âä†‰∏äÊï∞Â≠óË°®Á§∫Âà†Èô§ÁöÑÂ≠óÁ¨¶ÁöÑ‰∏™Êï∞ÔºåÊØîÂ¶ÇËØ¥4xË°®Á§∫Âà†Èô§4‰∏™Â≠óÁ¨¶„ÄÇ d: Áõ∏ÂΩì‰∫éÂèäÁâ©Âä®ËØçÔºå‰∏Ä‰∏™ÂçïÁã¨ÁöÑd‰∫ãÊ≤°ÊúâÂäûÊ≥ïÂà†Èô§‰∏úË•øÁöÑÔºådÁöÑÂêéÈù¢ÂøÖÈ°ªË∑üÁùÄ‰∏Ä‰∏ãÊñáÊú¨ÂØπË±°Ôºå‰∏ãÈù¢‰ªãÁªç‰∏Ä‰∏ãvim‰∏≠ÁöÑÂêÑ‰∏™ÊñáÊú¨ÂØπË±°ÁöÑÊ¶ÇÂøµ ÂëΩ‰ª§ ÊñáÊú¨ÂØπË±° Á§∫‰æã w ‰∏ã‰∏Ä‰∏™ÂçïËØçÂºÄÂßã dw‰ªéÂΩìÂâçÂà†Èô§Âà∞‰∏ã‰∏Ä‰∏™ÂçïËØç e Êú¨ÂçïËØçÁöÑÁªìÂ∞æ deË°®Á§∫Âà†Èô§Âà∞Ëøô‰∏™ÂçïËØçÁöÑÁªìÂ∞æ b ‰∏ä‰∏Ä‰∏™ÂçïËØçÁöÑÂºÄÂßã dbÂà†Èô§Âà∞‰∏ä‰∏Ä‰∏™ÂçïËØç $ Ë°åÂ∞æ d$Ë°®Á§∫‰ªéÂÖâÊ†áÂà†Èô§Âà∞Ë°åÂ∞æ 0 Ë°åÈ¶ñ d0Ë°®Á§∫‰ªéÂÖâÊ†áÂà†Èô§Âà∞Ë°åÈ¶ñ gg Êñá‰ª∂È¶ñ dggË°®Á§∫‰ªéÂÖâÊ†áÂà†Èô§Âà∞Êñá‰ª∂È¶ñ G Êñá‰ª∂ÁªìÂ∞æ dGË°®Á§∫‰ªéÂÖâÊ†áÂà†Èô§Âà∞Êñá‰ª∂ÁªìÂ∞æ Âè¶Â§ñËøòÊúâ‰ª•‰∏ãÁâπÊÆäÁöÑÊìç‰ΩúÔºö ÂëΩ‰ª§ Âê´‰πâ dd Âà†Èô§ÂΩìÂâçË°å dt + [‰ªªÊÑèÂ≠óÁ¨¶] Âà†Èô§Âà∞[‰ªªÊÑèÂ≠óÁ¨¶]Â§Ñ ‰∏â„ÄÅ‰øÆÊîπÊìç‰ΩúÂú®vimÊ∂âÂèäÂà∞‰øÆÊîπÊñáÊú¨ÁöÑÁõÆÂΩïÊúâ‰∏â‰∏™Ôºå‰∏Ä‰∏™ÊòØcÔºàchangeÔºâÔºå‰∏Ä‰∏™ÊòØrÔºàreplaceÔºâ,‰ªñ‰ª¨ÂàÜÂà´ÁöÑÂê´‰πâÂíå‰ΩúÁî®Â¶Ç‰∏ãÔºö ÂëΩ‰ª§ Âê´‰πâ Ê≥® c ‰øÆÊîπ ‰∏çÂèäÁâ© r ÊõøÊç¢ ÊõøÊç¢ÂÆåÊàê‰πãÂêé‰æùÁÑ∂Â§Ñ‰∫éÂëΩ‰ª§Ê®°Âºè s Âà†Èô§ÂΩìÂâçÂ≠óÁ¨¶ Âà†Èô§‰πãÂêéËøõÂÖ•ÊèíÂÖ•Ê®°Âºè S Âà†Èô§ÂΩìÂâçË°å Âà†Èô§‰πãÂêéËøõÂÖ•ÊèíÂÖ•Ê®°Âºè ÂØπ‰∫é‰øÆÊîπÊìç‰ΩúÔºå‰ΩøÁî®ÂÅöÂ§öÁöÑËøòÊòØcÂëΩ‰ª§ÔºåcÂëΩ‰ª§ÂêéÈù¢ÂèØ‰ª•Âä†‰∏ä‰∏çÂêåÁöÑÊñáÊú¨ÂØπË±°ÂÆûÁé∞‰∏çÂêåÁöÑ‰øÆÊîπÔºåÂÖ∑‰ΩìÁî®Ê≥ïÂ¶Ç‰∏ãÔºö ÂëΩ‰ª§ Âê´‰πâ cw ‰øÆÊîπ‰∏Ä‰∏™ÂçïËØç c$ ‰øÆÊîπÂà∞Ë°åÂ∞æ c0 ‰øÆÊîπÂà∞Ë°åÈ¶ñ cgg ‰øÆÊîπÂà∞Êñá‰ª∂È¶ñ cG ‰øÆÊîπÂà∞Êñá‰ª∂Â∞æ Ct [‰ªªÊÑèÂ≠óÁ¨¶] ‰øÆÊîπÂà∞‰ªªÊÑèÂ≠óÁ¨¶ ci [ÊàêÂØπÂá∫Áé∞ÁöÑÂ≠óÁ¨¶] ‰øÆÊîπÊàêÂØπÂá∫ÁöÑÂ≠óÁ¨¶ÂÜÖÈÉ®ÁöÑÂÜÖÂÆπ c i [ÊàêÂØπÂá∫Áé∞ÁöÑÂ≠óÁ¨¶]ÔºöËøô‰∏™ÂëΩ‰ª§ÈáåÈù¢Áõ∏ÂΩì‰∫é‰∏çÂèäÁâ©Âä®ËØçÂêéÈù¢Âä†‰∏ä‰∏Ä‰∏™‰ªãËØçiÔºåÁÑ∂ÂêéÂú®Ë∑ü‰∏äÂ≠óÁ¨¶ÔºàÂÆæËØ≠ÔºâÔºå‰æãÂ¶ÇÔºö ci + ‚Äú(‚Äú: ‰øÆÊîπÂ∞èÊã¨Âè∑ÂÜÖÈÉ®ÁöÑÂÜÖÂÆπ ci + ‚Äú[‚Äú: ‰øÆÊîπ‰∏≠Êã¨Âè∑ÂÜÖÈÉ®ÁöÑÂÜÖÂÆπ ci + ‚Äú: Ë°®Á§∫‰øÆÊîπÂºïÂè∑ÂÜÖÈÉ®ÁöÑÂÜÖÂÆπ Âõõ„ÄÅÊü•ÊâæÊìç‰Ωúvim‰∏≠ÁöÑÊü•ÊâæÊìç‰ΩúÁöÑÂëΩ‰ª§ÊòØ/ÔºåÂú®ÂëΩ‰ª§Ê®°Âºè‰∏≠ËæìÂÖ•ÂèçÊñúÊù†‰πãÂêéÂèØ‰ª•Êü•ÊâæÔºåÊü•ÊâæÂÆåÊàê‰πãÂêénË°®Á§∫‰∏ã‰∏Ä‰∏™ÂåπÈÖçÂØπË±°ÔºåNË∑≥ËΩ¨Âà∞‰∏ä‰∏Ä‰∏™ÂåπÈÖçÂØπË±°„ÄÇ ‚Äã ÂΩìÁÑ∂ÁºñËæëÊñáÊú¨ÁöÑËøáÁ®ã‰∏≠ËøòÊúâ‰∏Ä‰∏™Êìç‰ΩúÂ∞±ÊòØÊâÄÊúâÊõøÊç¢Ôºåvim‰πüÊîØÊåÅÊêúÁ¥¢ÊõøÊç¢„ÄÇ 1: %Êü•ÊâæËåÉÂõ¥s/Êü•ÊâæÊñáÊú¨/ÊõøÊç¢ÊñáÊú¨/ÊõøÊç¢Ê†áÂøó document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>tools</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>vim</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â¶Ç‰ΩïÈÖçÁΩÆ‰∏Ä‰∏™È°∫ÊâãvimÁ≥ªÂàóÔºà‰∏ÄÔºâÔºöÂÆâË£ÖÊèí‰ª∂]]></title>
    <url>%2F2019%2F09%2F27%2Fvim%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[Â¶Ç‰ΩïÈÖçÁΩÆ‰∏Ä‰∏™È°∫ÊâãvimÁ≥ªÂàóÔºà‰∏ÄÔºâÔºöÂÆâË£ÖÊèí‰ª∂ ‰∏™‰∫∫Áî±‰∫éÂú®ÊúçÂä°Âô®‰∏äËøõË°åÁßëÁ†îÂíåÂºÄÂèëÂ∑•‰ΩúÔºåÊâÄ‰ª•‰ΩøÁî®vimÊØîËæÉÂ§öÔºåËøôÈáåÁÆÄÂçïËÆ∞ÂΩï‰∏Ä‰∏ãËá™Â∑±ÈÖçÁΩÆvimÁöÑËøáÁ®ã ÂØπ‰∫é‰ªª‰Ωï‰∏Ä‰∏™LinuxÁé©ÂÆ∂Êù•ËØ¥ÔºåvimÈÉΩ‰∏çÂèØÈÅøÂÖçÔºåÂÖ∂ËÆ∏Â§öÁúã‰ººÂèç‰∫∫Á±ªÁöÑËÆæËÆ°ÔºåÂÖ∂ÂÆûËÉåÂêéÈÉΩÊúâÂéüÂõ†„ÄÇËôΩÁÑ∂ÂâçÊúüÁöÑÂ≠¶‰π†Êõ≤Á∫øÊØîËæÉÈ´òÔºå‰ΩÜÊòØ‰∏ÄÊó¶‰ΩøÁî®ÁÜüÁªÉ‰πãÂêéÔºåÂÖ∂ÂºÄÂèëÂíåÁºñËæëÁöÑÊïàÁéáÂÆåÂÖ®ËÉΩÂíåÂêÑÁßçÁé∞‰ª£ÁöÑÁºñËæëÂô®Â™≤ÁæéÁîöËá≥Êõ¥ËÉú‰∏ÄÁ≠πÔºåÂπ∂‰∏îÁî±‰∫éÂÖ∂ÊâìÂºÄÈÄüÂ∫¶Âø´ÔºåÁ∫ø‰∏äÂºÄÂèëÊñπ‰æøÁ≠â‰ºòÁÇπËÄåÊ∑±ÂèóÁ®ãÂ∫èÂëòÂñúÁà±Ôºå‰∏ãÈù¢Â∞±ÁªìÂêàÊàëËá™Â∑±ÁöÑvimÈÖçÁΩÆ‰ªãÁªç‰∏Ä‰∏ã„ÄÇ ‰∏Ä„ÄÅÂÆâË£ÖÊèí‰ª∂ÁÆ°ÁêÜÂô®:vim-plugvim-plugÊòØ‰∏ÄÊ¨æ‰ºòÁßÄÁöÑÊèí‰ª∂ÁÆ°ÁêÜÂô®ÔºåÂÖ∂ÂÆâË£ÖÂçÅÂàÜÁÆÄÂçï,ÂëΩ‰ª§Â¶Ç‰∏ã: 12curl -fLo ~/.vim/autoload/plug.vim --create-dirs \ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim ‰∫å„ÄÅÂÆâË£ÖÊèí‰ª∂Âú®homeÁõÆÂΩï‰∏ãÁöÑ.vimrcÊñá‰ª∂‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºö 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192set nocompatible " be iMproved, requiredfiletype off " requiredset backspace=2" Êèí‰ª∂ÁÆ°ÁêÜset rtp+=~/.vim/bundle/Vundle.vimcall plug#begin()" Plug 'VundleVim/Vundle.vim'Plug 'python-mode/python-mode', { 'branch': 'develop' }" Plug 'davidhalter/jedi-vim'Plug 'tpope/vim-surround'Plug 'majutsushi/tagbar'" Plug 'w0rp/ale'Plug 'mhinz/vim-startify'Plug 'ervandew/supertab'Plug 'python-mode/python-mode'Plug 'scrooloose/nerdcommenter'Plug 'kien/ctrlp.vim'Plug 'scrooloose/nerdtree'Plug 'vim-scripts/taglist.vim'Plug 'vim-scripts/The-NERD-Commenter'" Plug 'junegunn/vim-easy-align'Plug 'easymotion/vim-easymotion'Plug 'vim-scripts/winmanager'Plug 'tomasr/molokai'Plug 'vim-airline/vim-airline'Plug 'vim-airline/vim-airline-themes'Plug 'Yggdroot/indentLine'Plug 'Xuyuanp/nerdtree-git-plugin'Plug 'sbdchd/neoformat'" Plug 'Chiel92/vim-autoformat'" Plug 'lyokha/vim-xkbswitch'call plug#end() " requiredfiletype plugin indent on " required"Âü∫Á°ÄÈÖçÁΩÆlet mapleader=','let g:indentLine_enabled = 1color desert "È¢úËâ≤ËÆæÁΩÆsyntax on "ËØ≠Ê≥ïÈ´ò‰∫Æset number "Ëá™Âä®ÊòæÁ§∫Ë°åÂè∑set cursorline "Á™ÅÂá∫ÊòæÁ§∫ÂΩìÂâçË°åset ts=4 "ËÆæÁΩÆtabÈïøÂ∫¶‰∏∫4set shiftwidth=4 "ËÆæÂÆö &lt;&lt; Âíå &gt;&gt; ÂëΩ‰ª§ÁßªÂä®Êó∂ÁöÑÂÆΩÂ∫¶‰∏∫ 4"Ëß£ÂÜ≥‰∏≠ÊñáÁºñÁ†Å‰π±Á†Ålet &amp;termencoding=&amp;encodingset fileencodings=utf-8,gbk let g:NERDSpaceDelims=1 " Ê≥®ÈáäÂêéÈù¢Ëá™Âä®Âä†Á©∫Ê†º"set clipboard=unnamed" python-mode ÈÖçÁΩÆlet g:pymode_python = 'python3' "ËÆæÁΩÆpyhton3Ê®°Âºèlet g:pymode_trim_withespaces = 1 " ‰øùÂ≠òÊòØÂà†Èô§Â§ö‰∫éÁ©∫Ê†ºlet g:pymode_doc = 0 "" let g:pymode_doc_bind = 'K' "" let g:pymode_rope_completion = 1" let g:pymode_rope_complete_on_dot = 1" let g:pymode_rope_completion_bind = '&lt;C-Tab&gt;'" let g:pymode_indent = 1 Êó∂ÂÄôÁî®pep8È£éÊ†ºÁöÑÁº©Ëøõlet g:pymode_folding = 1let g:pymode_run_bind = '&lt;leader&gt;r'" let g:pymode_motion = 1let g:pymode_rope_goto_definition_bind = "&lt;C-]&gt;"let g:pymode_options_max_line_length = 140" let g:pymode_lint_on_write = 1" let g:pymode_lint_checkers = ['pyflakes','pep8']let g:pymode_rope_completion = 1let g:pymode_rope_complete_on_dot = 1let g:pymode_rope_completion_bind = '&lt;C-Tab&gt;'" let g:pymode_lint_error_symbol = 'EE'" nerdtreeÈÖçÁΩÆnmap ,v :NERDTreeFind&lt;cr&gt;nmap ,g :NERDTreeToggle&lt;cr&gt;let NERDTreeShowHidden=1let NERDTreeIgnore = [ \ '\.git$', '\.hg$', '\.svn$', '\.stversions$', '\.pyc$', '\.pyo$', '\.svn$', '\.swp$', \ '\.DS_Store$', '\.sass-cache$', '__pycache__$', '\.egg-info$', '\.ropeproject$', \ ]nnoremap &lt;leader&gt;t : TagbarToggle&lt;CR&gt;" ale ÈÖçÁΩÆlet g:ale_sign_error = '‚úó'let g:ale_linters = {'python': []}"easy-alignÈÖçÁΩÆ" xmap ga &lt;Plug&gt;(EasyAlign)" nmap ga &lt;Plug&gt;(EasyAlign) ‰πãÂêéÂú®vim‰∏≠ËøêË°å:PlugInstalllÂç≥ÂèØ ‰∏â„ÄÅÊèí‰ª∂‰ªãÁªç‰∏éÈÖçÁΩÆ3.1 pyhtonÂºÄÂèëÁ•ûÂô®Ôºöpython-mode12345678910111213141516" python-mode ÈÖçÁΩÆ let g:pymode_python = 'python3' "ËÆæÁΩÆpyhton3Ê®°Âºè let g:pymode_trim_withespaces = 1 " ‰øùÂ≠òÊòØÂà†Èô§Â§ö‰∫éÁ©∫Ê†º " let g:pymode_doc = 0 " " let g:pymode_doc_bind = 'K' "let g:pymode_rope_completion = 1let g:pymode_rope_complete_on_dot = 0let g:pymode_rope_completion_bind = '&lt;C-Tab&gt;'" " let g:pymode_indent = 1 Êó∂ÂÄôÁî®pep8È£éÊ†ºÁöÑÁº©Ëøõ" " let g:pymode_motion = 1 let g:pymode_lint = 1 let g:pymode_rope_goto_definition_bind = "&lt;C-]&gt;" let g:pymode_options_max_line_length = 120" " let g:pymode_lint_on_write = 0 let g:pymode_lint_checkers = ['pyflakes','pep8'] let g:pymode_folding = 1 ‰∏äÈù¢ÁöÑÈÖçÁΩÆÊòØpython-mode‰∏≠ÁöÑ‰∏Ä‰∫õÈÖçÁΩÆÔºåÂåÖÊã¨Ë°•ÂÖ®ÔºåÁº©ËøõÔºåÊäòÂè† ÊäòÂè†Áõ∏ÂÖ≥Âø´Êç∑ÈîÆÔºö Âø´Êç∑ÈîÆ ‰ΩúÁî® zo Â±ïÂºÄÂΩìÂâçÂáΩÊï∞ zc ÊäòÂè†ÂΩìÂâçÂáΩÊï∞ zn Â±ïÂºÄÊâÄÊúâÂáΩÊï∞ zN ÊäòÂè†ÊâÄÊúâÂáΩÊï∞ 3.2 Êñá‰ª∂ÁÆ°ÁêÜÊèí‰ª∂ÔºöNerd-tree12345678 " nerdtreeÈÖçÁΩÆ nmap ,v :NERDTreeFind&lt;cr&gt; nmap ,g :NERDTreeToggle&lt;cr&gt; let NERDTreeShowHidden=1let NERDTreeIgnore = [ \ '\.git$', '\.hg$', '\.svn$', '\.stversions$', '\.pyc$', '\.pyo$', '\.svn$', '\.swp$', \ '\.DS_Store$', '\.sass-cache$', '__pycache__$', '\.egg-info$', '\.ropeproject$', \ ] document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>tools</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>vim</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆ∫ÊñáÂ§çÁé∞ÂÆûÈ™åÊÄùË∑Ø-Êï∞ÊçÆÈ¢ÑÂ§ÑÁêÜÔºà‰∫åÔºâ]]></title>
    <url>%2F2019%2F09%2F20%2F18tmc3%2F</url>
    <content type="text"><![CDATA[ÁªßÁª≠Êï∞ÊçÆÈ¢ÑÂ§ÑÁêÜÂ∑•‰ΩúÔºåÂú®ÁºìÊÖ¢ÁöÑÊâπÊµÅÂ∑•‰ΩúËøõË°å‰∫ÜÂ∞ÜËøë‰∏âÂ§©‰πãÂêéÔºåÂÆåÊàê‰∫Ü‰∏â‰∏™ÂéüÂßãÊï∞ÊçÆÊ†∑Êú¨Ôºà‰∏çÂà∞2GÔºâÁöÑÊï∞ÊçÆÁöÑÊâπÊµÅÔºåËøõË°åÂÆåÊâπÊµÅÂæóÂà∞ÁöÑÊòØ‰∏Ä‰∏™flow‰∏Ä‰∏™pcapÊñá‰ª∂ÔºåÊé•‰∏ãÊù•ÈúÄË¶ÅÂÅöÁöÑÂ∑•‰ΩúÂ∞±ÊòØÈÄöËøápythonÁöÑScapyÂ∫ìÈÄê‰∏™ËØªÂèñflowÔºåÁªüËÆ°ÊâÄÈúÄÁöÑÁªüËÆ°Â±ûÊÄß 12345import numpy as npimport pandas as pdfrom scapy.all import *import osfrom config import * ‰∏äÈù¢ÊòØÂØºÂÖ•ÁöÑÂ∫ì ‰∏Ä„ÄÅËé∑ÂèñÊâÄÊúâÁöÑflowË∑ØÂæÑ1234567891011def GetPathList(data_path): ''' Ëé∑ÂèñÊµÅÊñá‰ª∂ÁöÑË∑ØÂæÑ‰ø°ÊÅØ ''' try: flow_path_list = [data_root_path + x for x in os.listdir(data_root_path)] flow_path_list = sorted(flow_path_list,key= lambda x: int(x.split('/')[-1].split('.')[-2])) return flow_path_list except: print("GetPathList Error!") return [] Ëøô‰∏™ÂáΩÊï∞Ê≤°Êúâ‰ªÄ‰πàÂ§™Â§öÂ•ΩËÆ≤ÁöÑÔºåÂè™ÊòØÊúâ‰∏§ÁÇπÊäÄÂ∑ßËØ¥‰∏Ä‰∏ãÔºö ÂàóË°®ÁîüÊàêË°®ËææÂºèÔºöÂú®Á¨¨6Ë°å‰ΩøÁî®ÂàóË°®ÁîüÊàêË°®ËææÂºèÁöÑÂΩ¢ÂºèÁîüÊàêÂàóË°®Ôºå[Âê´xË°®ËææÂºè for x in ÂàóË°®] lambdaË°®ËææÂºè ÔºöÂú® ÊéíÂ∫èÁ≠âÂáΩÊï∞‰∏≠ÔºåÂèØ‰ª• ÈÄöËøálambdaË°®ËææÂºèÊåáÂÆöÊéíÂ∫èÁöÑÂÖ≥ÈîÆÂ≠óÔºåÂç≥ÈÄöËøáÂÖÉÁ¥†ÁöÑÈÇ£‰∏ÄÈÉ®ÂàÜËøõË°åÊéíÂ∫è ‰∫å„ÄÅÂä†ËΩΩflowÂπ∂ÂæóÂà∞ÁªüËÆ°Êï∞ÊçÆ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960def LoadOnePcap(flow_path): ''' Âä†ËΩΩ‰∏Ä‰∏™flowÁöÑpcapÊñá‰ª∂ÔºåËÆ°ÁÆóÈúÄË¶ÅÁöÑÁªüËÆ°Êï∞ÊçÆ ''' packets = rdpcap(flow_path) Volume = 0 # Êï∞ÊçÆÊÄªÈáè Duration = 0 # ÊåÅÁª≠Êó∂Èó¥ for packet in packets: Volume += len(packets) StartTime = packets[0].time #ÂºÄÂßãÊó∂Èó¥ EndTime = packets[-1].time #ÁªìÊùüÊó∂Èó¥ Duration = EndTime - StartTime if Duration &gt; 0: Rate = Volume / Duration else: Rate = 0 # sleep timeÈÄöËøáËøûÁª≠ÁöÑ‰∏§‰∏™flow‰πãÈó¥ÁöÑÊó∂Èó¥ËÆ°ÁÆóÔºå‰∏çÂú®Ëøô‰∏™ÂáΩÊï∞‰∏≠ËÆ°ÁÆó # DNS ÂèòÈáèÁî®‰∫éÂ≠òÂÇ®dnsÊü•ËØ¢,DNS_FLAG Ë°®Á§∫ÊòØÂê¶Âê´ÊúâDNS DNSQuery = '' DNS_FLAG = False NTPQuery = '' NTP_FLAG = False # ‰∏ãÈù¢ÁöÑËøô‰∏™Âæ™ÁéØÈÅçÂéÜÊï¥‰∏™flowÊü•ÊâæÊòØÂê¶Âê´ÊúâDNSÊü•ËØ¢ for packet in packets: if packet.haslayer('DNS'): DNS_FLAG = True if packet.haslayer('NTP'): NTP_FLAG = True ## Ëé∑ÂèñDNSÊü•ËØ¢ÁöÑÂüüÂêç if DNS_FLAG: DNSQuery = bytes.decode(packets[0]['DNS'].qd.qname) if NTP_FLAG: NTPQuery = packets[0]['UDP'].id # ‰∏ãÈù¢Âá†Ë°åÂ§ÑÁêÜÂæóÂà∞ËøúÁ®ãÁ´ØÂè£Âè∑ TCP_FLAG = packets[0].haslayer('TCP') UDP_FLAG = packets[0].haslayer('UDP') if TCP_FLAG: TransPro = 'TCP' elif UDP_FLAG: TransPro = 'UDP' RemotePort = packets[0][TransPro].dport # ‰∏ãÈù¢‰∏ÄË°åÂæóÂà∞macÂú∞ÂùÄ Mac = packets[0]['Ethernet'].src flow_features = { 'Volume': Volume, 'StartTime':StartTime, 'EndTime':EndTime, 'Duration':Duration, 'Rate':Rate, 'DNSQuery':DNSQuery, 'NTPQuery':NTPQuery, 'RemotePort':RemotePort, 'TransPro':TransPro, 'Mac':Mac } print('%sÊñá‰ª∂Â§π‰∏≠,Á¨¨%s‰∏™flowÂàÜÊûêÂÆåÊØïÔºÅ'%(flow_path.split('/')[-2],flow_path.split('/')[-1].split('.')[-2])) print(flow_features) return flow_features ÈÄöËøá‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂèØ‰ª•ÂàÜÊûêÂá∫ÔºåÂÖ∂ÂÆûÈÄªËæëÂæàÁÆÄÂçïÔºå‰ªéÊØè‰∏™flow‰∏≠ÊèêÂèñÂá∫10‰∏™ÂÄºÔºåÊúâÁöÑÁõ¥Êé•ÂÄºÁâπÂæÅÂÄºÔºåÊúâ‰∏Ä‰∫õÊòØ‰∏∫‰∫Ü‰ª•ÂêéËÆ°ÁÆóÁâπÂæÅÂÄºËÄåÊèêÂèñÁöÑ‰∏≠Èó¥ÂÄºÔºåÊØè‰∏™ÂÄºÁöÑÂê´‰πâÂ¶Ç‰∏ãÔºö ÂèòÈáèÂêç Âê´‰πâ ËÆ°ÁÆóÊñπÊ≥ï Volume flowÁöÑÊï∞ÊçÆÂ§ßÂ∞è Á¥ØÂä†Êï¥‰∏™flowÁöÑÊâÄÊúâÊï∞ÊçÆÂåÖ StartTime flowÁöÑËµ∑ÂßãÊó∂Èó¥ Á¨¨‰∏Ä‰∏™packetÁöÑtime EndTime flowÁöÑÁªìÊùüÊó∂Èó¥ ÊúÄÂêé‰∏Ä‰∏™packetÁöÑtime Duration flowÁöÑÊåÅÁª≠Êó∂Èó¥ ÁªìÊùüÊó∂Èó¥ÂáèÂéªÂÖ∂ÂÆûÊó∂Èó¥ Rate flowÁöÑÂπ≥ÂùáÈÄüÁéá Êï∞ÊçÆÈáèÈô§‰ª•ÊåÅÁª≠Êó∂Èó¥ DNSQuery DNSÊü•ËØ¢Â≠óÊÆµ Â¶ÇÊûúÊúâDNSÊü•ËØ¢ÔºåÊâæÂà∞ÂØπÂ∫îÂåÖÁöÑDNSÊü•ËØ¢ NTPQuery NTPÊü•ËØ¢Â≠óÊÆµ Â¶ÇÊûúÊúâNTPÊü•ËØ¢ÔºåÊâæÂà∞ÂØπÂ∫îÂåÖÁöÑNTPÊü•ËØ¢ RemotePort ËøúÁ®ãÁ´ØÂè£ Á¨¨‰∏Ä‰∏™packetÁöÑÁõÆÁöÑÁ´ØÂè£Âè∑ TransPro ÂçèËÆÆÁ±ªÂûã ÂçèËÆÆÁ±ªÂûãÊòØflow‰∫îÂÖÉÁªÑÁöÑÁªÑÊàê‰πã‰∏Ä Mac flowÊú¨Á´ØÁöÑMacÂú∞ÂùÄ Á¨¨‰∏Ä‰∏™packetÁöÑÊ∫êMac Â∞Ü‰∏äËø∞ÊâÄÊúâÁöÑÂÄºÊèêÂèñÂá∫Êù•‰πãÂêé‰øùÂ≠òÂú®Â≠óÂÖ∏‰∏≠‰º†Âá∫Âç≥ÂèØ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>Â≠¶‰π†ÁßëÁ†î</category>
      </categories>
      <tags>
        <tag>ÊµÅÈáè</tag>
        <tag>python</tag>
        <tag>Scapy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆ∫ÊñáÂ§çÁé∞ÂÆûÈ™åÊÄùË∑Ø-Êï∞ÊçÆÈ¢ÑÂ§ÑÁêÜÔºà‰∏ÄÔºâ]]></title>
    <url>%2F2019%2F09%2F19%2F18tmc2%2F</url>
    <content type="text"><![CDATA[ÊúÄËøëÈòÖËØªÂÆåËÆ∫Êñá„ÄäClassifying IoT Devices in Smart Environments Using Network Traffic Characteristics„ÄãÔºåÂú®Â§çÁé∞ÁöÑËøáÁ®ã‰∏≠Âá∫Áé∞‰∫ÜÂæàÂ§öÈóÆÈ¢òÔºåÁé∞ÂØπ‰∫éËá™Â∑±ÁöÑÂ§çÁé∞ËøáÁ®ãÂíå‰∏Ä‰∏ãÊÄùËÄÉËøõË°å‰∏Ä‰∏ãËÆ∞ÂΩï ‰∏Ä„ÄÅÊâπÊµÅÁî±‰∫éËÆ∫Êñá‰∏≠Êú∫Âô®Â≠¶‰π†ÁÆóÊ≥ï‰ΩøÁî®ÁöÑÁâπÂæÅÂÄºÈÉΩÊòØÂú®flowÊÑè‰πâ‰∏äÁöÑÁªüËÆ°‰ø°ÊÅØÔºåËÄå‰∏çÊòØÂçïÁ∫ØÁöÑpacketÁöÑ‰ø°ÊÅØÔºå‰æãÂ¶ÇÊµÅÁöÑÂ§ßÂ∞èÔºåÊµÅÁöÑÊåÅÁª≠Êó∂Èó¥„ÄÅÊµÅÁöÑÂπ≥ÂùáÈÄüÁéáÁ≠âÔºåÊâÄ‰ª•ÂøÖÈ°ªË¶ÅÂ∞ÜÊùÇ‰π±Êó†Á´†ÁöÑÊï∞ÊçÆÂåÖÊåâÁÖß‰∏Ä‰∏™‰∏Ä‰∏™flowÂàÜÂºÄÔºåÁÑ∂ÂêéÂØπ‰∫éÊØè‰∏™flowËøõË°åÁªüËÆ°ÔºåËÆ°ÁÆóËøô‰∏™flowÁöÑÁªüËÆ°‰ø°ÊÅØ„ÄÇ 1.1 flowÁöÑÁêÜËß£ËøôÈáåÊÉ≥ Ë°•ÂÖÖËØ¥‰∏Ä‰∏ãflowÁöÑÊÑè‰πâÔºåÂÖ≥‰∫éËøô‰∏™Ê¶ÇÂøµÊàëÊü•‰∫Ü‰∏Ä‰∫õ ËµÑÊñôÔºåÁõÆÂâçÊÑüËßâÊúÄÂáÜÁ°ÆÁöÑËØ¥Ê≥ïÂ∞±ÊòØ‰∫îÂÖÉÁªÑÔºàÊ∫êip„ÄÅÊ∫êÁ´ØÂè£„ÄÅÁõÆÁöÑip„ÄÅÁõÆÁöÑÁ´ØÂè£„ÄÅ‰º†ËæìÂ±ÇÂçèËÆÆÁ±ªÂûã Ôºâ‰∏ÄËá¥ÁöÑÊï∞ÊçÆÂåÖÊòØÂ±û‰∫é‰∏Ä‰∏™flow„ÄÇÊàëÁêÜËß£ÁöÑflowÂç≥ÊµÅÁöÑ Âê´‰πâÂ∞±ÊòØ‰∏§‰∏™‰∏ªÊú∫‰∏ÄÊÆµÊó∂Èó¥‰πãÂÜÖÁöÑÂÆåÊï¥ÈÄö‰ø°ÊµÅÁ®ãÔºàÂèØËÉΩ‰∏çÂáÜÁ°ÆÔºâÔºåÂú®wireshark‰∏äËøõË°å‰∫ÜÁõ∏ÂÖ≥ÂÆûÈ™åÔºåÂæóÂà∞‰∫Ü ‰∏ÄÂÆöÁöÑÈ™åËØÅ„ÄÇ wireshark‰∏äÊèêÂèñ‰∏Ä‰∏™flowÁöÑËøáÊª§ÂÖ≥ÈîÆÂ≠óÊòØtcp.stream == [seq],ËøôÈáåÁöÑtcpÂèØ‰ª•Êç¢ÊàêudpË°®Á§∫ËøáÊª§udpÊµÅ ÈÄöËøá‰∏äÂõæÂèØ‰ª•ÁúãÂá∫ÔºåÂêå‰∏Ä‰∏™flow‰∏≠ÁöÑ‰∫îÂÖÉÁªÑÊòØ‰∏ÄËá¥ÁöÑÔºåÂè™ÊòØËøôÊòØÂèåÂêëÁöÑÔºåÂ∞±ÊòØÊ∫êÂíåÁõÆÁöÑ‰∏ªÊú∫ÁöÑipÂíåÁ´ØÂè£ÊòØÂèØ‰ª•ÂØπË∞ÉÁöÑ„ÄÇ ÂÜçÂà©Áî®wiresharkÁîªÂá∫flowÂõæÔºåÂèØ‰ª•ÂæóÂà∞Â¶Ç‰∏ãÁöÑÁªìÊûúÔºö ÈÄöËøáflowÂõæÁúãÂá∫Êù•Ôºå‰∏Ä‰∏™flowÂ∫îËØ•Â∞±ÊòØ‰∏ÄÊ¨°ÈÄö‰ø°ËøáÁ®ãÁöÑÊâÄÊúâÁöÑÊï∞ÊçÆÂåÖ„ÄÇ 1.2 ÊâπÊµÅÂ§ÑÁêÜScapyÂ§ÑÁêÜÂú®ÊâπÊµÅÁöÑËøáÁ®ã‰∏≠Â∞ùËØï‰∫Ü‰∏§ÁßçÊñπÊ≥ïÔºåÈ¶ñÂÖàÊòØÈÄöËøápythonÁöÑScapyÂ∫ìÂØπpcapËøõË°åËß£ÊûêÔºå‰πãÂêéÊåâÁÖß‰∫îÂÖÉÁªÑËøõË°åÊâπÊµÅ,‰ΩÜÊòØËøôÊ†∑Â§ÑÁêÜ‰ºöÂá∫Áé∞ÂæàÂ§ö ÈóÆÈ¢ò „ÄÇÈóÆÈ¢òËÆ∞ÂΩï Â¶Ç‰∏ãÔºö ‰ΩøÁî®rdpcapÂáΩÊï∞ËØªÂèñpcapÊñá‰ª∂ÔºåÂçÅÂàÜÂç†Áî®ÂÜÖÂ≠ò ÔºåËØªÂèñ 90MÂ∑¶Âè≥ÁöÑpcapÊñá‰ª∂Âç†Áî®Â∞ÜËøë2-3GÂÜÖÂ≠òÔºåÂπ∂‰∏îËØªÂèñÈÄüÂ∫¶ ÂçÅÂàÜÁºìÊÖ¢Ôºå‰∏çÊòì‰∫éÊìç‰ΩúÔºàËôΩÁÑ∂ÂêéÊù•ÂèëÁé∞PcapReaderÂáΩÊï∞ËØªÂèñÈÄüÂ∫¶‰∏äÊù•‰∫ÜÔºå‰ΩÜÊòØ‰πãÂêéÁöÑÈóÆÈ¢òËøòÊòØÊ≤°ÂäûÊ≥ïËß£ÂÜ≥Ôºâ ScapyÂ∫ìÂØπÊï∞ÊçÆÂåÖÁöÑËß£Êûê‰∏çÂÆåÊï¥ÔºåÊúâ‰∫õÂçèËÆÆËß£Êûê‰∏çÂá∫Êù•ÔºåÊØîÂ¶ÇÂá∫Áé∞‰ª•‰∏ãÁöÑÊÉÖÂÜµÔºåIPÂ±Ç‰πãÂêéÁõ¥Êé•Â∞±ÊòØRawËΩΩËç∑‰∫ÜÔºåÁåúÊÉ≥ËøôÈáåÁöÑrawÊï∞ÊçÆÊòØÂÖ∂‰ªñÂçèËÆÆÂ±Ç ÁöÑÊï∞ÊçÆÔºåÂè™ÊòØscapyÊ≤°ÊúâËß£ÊûêÂá∫Êù• Áî±‰∫éÂá∫Áé∞‰∫Ü‰ª•‰∏äÁöÑÈóÆÈ¢òÔºåÂØºËá¥ÂêéÊù•Â∞±Ê≤°ÊúâÊåâÁÖßËøôÁßçÊñπÊ≥ïËøõË°å ‰∏ãÂéªÔºåËÄåÊòØÈááÁî®tsharkÁöÑÊñπÊ≥ï TsharkÂ§ÑÁêÜÂú®ÁªèËøáÂØºÂ∏àÁöÑÊåáÁÇπ‰πãÂêéÂèëÁé∞Áî®tsharkÁöÑÂ§ÑÁêÜÊïàÁéáÂæàÈ´ò„ÄÇÂ∞±ÂºÄÂßã‰ΩøÁî®tsharkÂ§ÑÁêÜÔºåtsharkÊòØwiresharkÁöÑÂëΩ‰ª§Ë°åÁâàÊú¨ÔºåÊã•ÊúâwiresharkÁöÑÂ§ßÈÉ®ÂàÜÂäüËÉΩÔºåËÉΩÁî®Áõ∏ÂÖ≥ÁöÑËøáÊª§ËßÑÂàôÁõ¥Êé•ËøõË°åÊâπÊµÅÔºå‰∏ãÈù¢ÊòØËøõË°åÊâπÊµÅÁöÑËÑöÊú¨ 123456789101112131415161718192021222324#! /bin/bashfind ./rawpcap -name '*.pcap' &gt; pcapfilename.txtwhile read line do echo "$(line)" filedir=$(echo "$(line)" | awk -F '/' '{print $3}' | awk -F '.' '{print $1}') echo $filedir dir="./streampcap/"${filedir} mkdir -p $dir tshark -r $line -T fields -e tcp.stream | sort -n | uniq -c | awk -F ' ' '{if ($2&gt;=0)print $2 }' &gt; tcp_stream_number.txt while read tcpnumber do stream=`tshark -r $line -Y "tcp.stream eq $(($tcpnumber)) " -w$dir/$tcpnumber.pcap` if [ ! $stream ] then echo "IS NULL" else echo $stream fi done &lt;tcp_stream_number.txtdone &lt; pcapfilename.txt ËÑöÊú¨ÁöÑ‰ªîÁªÜËß£ÈáäÂú®ÊàëÁöÑÂè¶‰∏ÄÁØáÂçöÂÆ¢„ÄäshellÁºñÁ®ã‰∏Ä„ÄãÈáåÈù¢Â∑≤ÁªèËØ¶ÁªÜ‰ªãÁªçËøáÔºåÊâÄ‰ª•‰∏çÂÜç‰ªîÁªÜËµòËø∞ÔºåËøôÈáå‰∏ªË¶Å‰ªãÁªç‰∏Ä‰∏ãÂÖ∂‰∏≠ÂÖ≥‰∫étsharkÁöÑÂá†‰∏™ÂëΩ‰ª§ Ëé∑ÂèñÊâÄÊúâÁöÑÊµÅÂè∑ 1tshark -r $line -T fields -e tcp.stream | sort -n | uniq -c | awk -F ' ' '{if ($2&gt;=0)print $2 }' &gt; tcp_stream_number.txt tsharkÁöÑ-e ÂèÇÊï∞ÊâìÂç∞ÊåáÂÆöÁöÑÂ≠óÊÆµÔºå‰πãÂêéÁªèËøáÊéíÂ∫èÔºåÂéªÈáçÔºåÂàÜÂâ≤Á≠âÊìç‰ΩúÂæóÂà∞ÊµÅÂè∑‰øùÂ≠òÂú®txtÊñá‰ª∂‰∏≠ ÊâπÊµÅÔºåÊØè‰∏Ä‰∏™flow‰øùÂ≠ò‰∏∫ÂØπÂ∫îÊµÅÂè∑ÁöÑpcapÊñá‰ª∂ 1tshark -r $line -Y "tcp.stream eq $(($tcpnumber)) " -w$dir/$tcpnumber.pcap ËøôÊ†∑Â∞±Â∞ÜÊâÄÊúâÁöÑpcapÊñá‰ª∂‰∏≠ÁöÑtcp flowÊèêÂèñÂá∫Êù•‰∫ÜÔºå‰πãÂêéÂú®ËøõË°åudpÊµÅÁöÑÊèêÂèñÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ ‰∫å„ÄÅÁõÆÂâç‰∏∫Ê≠¢Âá∫Áé∞ÁöÑ‰∏Ä‰∫õÈóÆÈ¢ò ÂéüÂßãÊï∞ÊçÆ‰∏≠Èô§‰∫Ütcp flowÂíåudp flow‰πãÂ§ñËøòÊúâ‰∏Ä‰∫õarp „ÄÅicmp„ÄÅigmp‰πãÁ±ªÁöÑÊä•Êñá‰ø°ÊÅØÔºåËøô‰∫õ‰ø°ÊÅØÊÑüËßâ‰∏äÊòØÊ≤°ÊúâflowÊ¶ÇÂøµÁöÑÔºåÂõ†‰∏∫ÈÉΩÊ≤°Êúâ‰∫îÂÖÉÁªÑÁöÑÊ¶ÇÂøµÔºåÊâÄ‰ª•Ëøô‰∫õÊä•ÊñáÊòØ‰∏çÊòØÈúÄË¶Å‰∏¢ÂºÉÁõÆÂâçÊöÇÊó∂Âè™ÊèêÂèñtcpÂíåudp flow ÊâπÊµÅÂÆåÊàê‰πãÂêéÈúÄË¶ÅÂØπflowÊñá‰ª∂ËøõË°åËØªÂèñÔºåÁªüËÆ°flowÁöÑ‰ø°ÊÅØ ÔºåÂåÖÊã¨flow Â§ßÂ∞è„ÄÅflowÊåÅÁª≠Êó∂Èó¥„ÄÅflowÈÄüÁéáÂíåsleep timeÔºåËøôÈáåÁöÑËøô‰∏™sleep time‰∏çÁü•ÈÅìÊòØÂ¶Ç‰ΩïÂ§ÑÁêÜÁöÑÔºåÁî±‰∫éÂú®ÊâπÊµÅÁöÑËøáÁ®ã‰∏≠ÈÉΩ‰∏çÊòØÊåâÁÖßÊó∂Èó¥È°∫Â∫èÁöÑÔºåÊâÄ‰ª•flowÊñá‰ª∂ÁöÑÂ∫èÂè∑Âπ∂‰∏çÊòØÊåâÁÖßÊó∂Èó¥È°∫Â∫èÊéíÂàóÁöÑÔºåÊâÄ‰ª•Êó†Ê≥ïÈÄöËøáÂâçÂêé‰∏§‰∏™flowÁöÑÊï∞ÊçÆÂåÖÁöÑÁõ∏ÂØπÊó∂Èó¥Êù•ËÆ°ÁÆósleep timeÔºåÁõÆÂâçÁöÑÊÉ≥Ê≥ïÊòØÊåâÁÖßÊØè‰∏™flowÁöÑËµ∑ÂßãÊó∂Èó¥ËøõË°åÊéíÂ∫è„ÄÇ‰πãÂêéÁî®ÊØè‰∏™flowÁöÑÂêéÂêé‰∏Ä‰∏™flow‰πãÈó¥ÁöÑÊó∂Èó¥Â∑ÆÁÆó‰Ωúsleep timeÔºåËøôÊ†∑ÁöÑËØùÂ∞±Ë¶ÅÂ∞ÜtcpÂíåudpÊï¥ÁêÜÂú®‰∏ÄËµ∑ÊéíÂ∫è„ÄÇ Êï¥ÁêÜÂÆåÊâÄÊúâÁöÑflow‰πãÂêéÔºå‰ºöÂèëÁé∞tcp flow‰∏≠Ê≤°Êúâdns ÂíåntpÁöÑÊü•ËØ¢ÔºåÊâÄ‰ª•Ëøô‰∏§‰∏™ÁâπÂæÅ‰∏∫Á©∫ÔºåÊÄé‰πàËß£ÂÜ≥Á©∫ÂÄºÈóÆÈ¢òÔºåÁõÆÂâçÁöÑÊÉ≥Ê≥ïÊòØÂ∞ÜÊâÄÊúâÁöÑÁ©∫ÂÄºÈÉΩÂΩí‰∏∫‰∏ÄÁ±ª document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>Â≠¶‰π†ÁßëÁ†î</category>
      </categories>
      <tags>
        <tag>Êú∫Âô®Â≠¶‰π†</tag>
        <tag>IoT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[shellÁºñÁ®ãÔºà‰∏ÄÔºâ]]></title>
    <url>%2F2019%2F09%2F18%2Ftshark%2F</url>
    <content type="text"><![CDATA[ÊúÄËøëÁî±‰∫éÈúÄË¶ÅÂú®Linux‰∏≠Â§ÑÁêÜÂ§ßÈáèÁöÑÁΩëË∑ØÊï∞ÊçÆÔºåÊ≤°ÊúâÂèØËßÜÂåñÁöÑwiresharkÂèØÁî®ÔºåËΩ¨ËÄåÊó∂ÂÄôÂëΩ‰ª§Ë°åÁâàÊú¨ÁöÑtsharkÔºå‰ΩÜÊòØÁî®‰∫éÂú®ÂëΩ‰ª§Ë°å‰∏≠ËøêË°åÔºåÂΩìÊï∞ÊçÆÈáèÂ∑®Â§ßÁöÑÊó∂ÂÄôÊìç‰ΩúÁπÅÊùÇÔºåÊâÄ‰ª•ÂÜô‰∫Ü‰∏Ä‰∏™Â∞èËÑöÊú¨Ëá™Âä®ÂåñËøêË°åÔºåËÆ∞ÂΩï‰∏Ä‰∏ãËá™Â∑±‰ªéÈõ∂ÂºÄÂßãÂ≠¶shellÁºñÁ®ãÁöÑËøáÁ®ã ËÑöÊú¨ÂäüËÉΩ ÁªüËÆ°ÊØè‰∏™pcapÊñá‰ª∂‰∏≠ÁöÑtcpÊµÅÂè∑ Â∞ÜÊØè‰∏™pcapÊñá‰ª∂‰∏≠ÁöÑÊâÄÊúâÊï∞ÊçÆÂåÖÊåâÁÖßÂêå‰∏Ä‰∏™flowÂàÜÂºÄÔºåÊØè‰∏Ä‰∏™flow‰øùÂ≠ò‰∏∫‰∏Ä‰∏™pcapÊñá‰ª∂ÔºåÂç≥ÊâπÊµÅ Áî±‰∫éÊâπÊµÅ‰πãÂêéÁöÑÂ∞èÊñá‰ª∂ÁâπÂà´Â§öÔºåÊâÄ‰ª•Ê≥®ÊÑèÂëΩÂêçÂíåÊñá‰ª∂ÁöÑÂ≠òÊîæÁÆ°ÁêÜ ËÑöÊú¨ÁºñÂÜôËøáÁ®ãÊ¶ÇËßà123456789101112131415161718192021222324#! /bin/bashfind ./rawpcap -name '*.pcap' &gt; pcapfilename.txtwhile read line do echo "$(line)" filedir=$(echo "$(line)" | awk -F '/' '{print $3}' | awk -F '.' '{print $1}') echo $filedir dir="./streampcap/"${filedir} mkdir -p $dir tshark -r $line -T fields -e tcp.stream | sort -n | uniq -c | awk -F ' ' '{if ($2&gt;=0)print $2 }' &gt; tcp_stream_number.txt while read tcpnumber do stream=`tshark -r $line -Y "tcp.stream eq $(($tcpnumber)) " -w$dir/$tcpnumber.pcap` if [ ! $stream ] then echo "IS NULL" else echo $stream fi done &lt;tcp_stream_number.txtdone &lt; pcapfilename.txt ËØ≠Ê≥ïËß£ËØª ÊâæÂà∞ÊâÄÊúâpcapÊñá‰ª∂Âπ∂Â∞ÜÊñá‰ª∂Ë∑ØÂæÑ‰øùÂ≠òÂà∞pcapfilename.txtÊñá‰ª∂‰∏≠ 1find ./rawpcap -name '*.pcap' &gt; pcapfilename.txt findÂëΩ‰ª§ÂêéÊé•‰∏§‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞./rawpcapË°®Á§∫Êü•ÊâæÁöÑË∑ØÂæÑÔºå-nameÊåáÂÆöÊåâÁÖßÁªôÂÆöÁöÑÂêçÁß∞Ê†ºÂºèÊü•ÊâæÔºå‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÂåπÈÖçÊâÄÊúâpcapÁªìÂ∞æÁöÑÊñá‰ª∂ ÈÄöËøáÈáçÂÆöÂêëÁ¨¶&gt;Â∞Üfind ÁöÑÁªìÊûúËæìÂá∫Âà∞pacpfilename.txt‰∏≠ ÈÄêË°åËØªÂèñÊñáÊú¨Êñá‰ª∂pcpafilename.txt 123456while read line do ... ... ...done &lt; pcapfilename.txt ‰∏äÈù¢ËøôÁßçÁªìÊûÑÊòØshellËÑöÊú¨‰∏≠ÈÄêË°åËØªÂèñÊñáÊú¨Êñá‰ª∂ÁöÑÊ†áÂáÜÊ†ºÂºè lineÊòØËØªÂèñÊñáÊú¨Êñá‰ª∂‰∏≠ÊØè‰∏ÄË°åÁöÑÂÄºÁöÑÂèòÈáèÔºåÂêéÈù¢ÂØπlineËøõË°åÊìç‰Ωú done &lt;ÂêéÈù¢ÁöÑÊñá‰ª∂ÂêçÊòØË¶ÅËØªÂèñÁöÑÊñá‰ª∂Âêç Linux‰∏âÂâëÂÆ¢‰πã‰∏ÄawkÁöÑÁÆÄÂçï‰ΩøÁî®ÊñπÊ≥ï 1echo "$(line)" | awk -F '/' '{print $3}' | awk -F '.' '{print $1}' Âà©Áî®ÁÆ°ÈÅìÁ¨¶Â∞ÜechoÁöÑËæìÂá∫ÁªìÊûúÂêëÂêé‰º†ÈÄíÔºå‰πãÂêéÁ±ª‰ºº awkÂëΩ‰ª§ÁöÑ -F ÂèÇÊï∞ÊåáÂÆöÂàÜÈöîÁ¨¶ ÂêéÈù¢Á¨¨‰∫å‰∏™ÂèÇÊï∞ÁöÑÁî®Ê≥ï'{Â≠óÁ¨¶‰∏≤1 Â≠óÁ¨¶‰∏≤2}'ÂÖ∂‰∏≠Â≠óÁ¨¶‰∏≤1 ÊåáÂÆöÂëΩ‰ª§Ôºå‰∏äÈù¢Áî®ÁöÑÊòØprintË°®Á§∫ËæìÂá∫ÔºåÁ¨¨‰∫å‰∏™Â≠óÁ¨¶‰∏≤ÊòØ$2Ë°®Á§∫ËæìÂá∫ÂàÜÂâ≤‰πãÂêéÁöÑÁ¨¨‰∫åÈÉ®ÂàÜÔºà‰ªé1ÂºÄÂßãÊï∞Ôºâ Â∞ÜÊüê‰∏ÄË°åÂëΩ‰ª§ÁöÑËøêË°åÁªìÊûú‰º†ÈÄÅÁªôÊüê‰∏™ÂèòÈáè 1filedir=$(echo "$(line)" | awk -F '/' '{print $3}' | awk -F '.' '{print $1}') ‰ΩøÁî®$()Ê†ºÂºèÔºåÊã¨Âè∑‰∏≠ÁöÑÂÜÖÂÆπÊòØË¶ÅËøêË°åÁöÑÂëΩ‰ª§ shellËÑöÊú¨‰∏≠‰∏§‰∏™Â≠óÁ¨¶‰∏≤ÁöÑËøûÊé• 1dir="./streampcap/"${filedir} Â¶Ç‰∏äÊâÄÁ§∫ÔºåÁõ¥Êé•Â∞Ü‰∏§‰∏™Â≠óÁ¨¶‰∏≤Êîæ‰∏ÄËµ∑Ôºå‰∏çË¶ÅÁ©∫Ê†ºÂ∞±Ë°å tsharkÁöÑ‰ΩøÁî® 1tshark -r $line -T fields -e tcp.stream | sort -n | uniq -c | awk -F ' ' '{if ($2&gt;=0)print $2 }' &gt; tcp_stream_number.txt -r ÂèÇÊï∞ÊåáÂÆöËæìÂÖ•Êñá‰ª∂ -e ÊåáÂÆöËæìÂá∫Â≠óÊÆµ sort -nÊéíÂ∫è uniq -cÂéªÈáç ifÂà§ÂÆöËØ≠Âè•Ê†ºÂºè 123456if [ ÈÄªËæëË°®ËææÂºè ]then ...else ...fi ËÑöÊú¨Ëß£ËØª Á¨¨3Ë°åÊâæÂà∞./rawpcapÊñá‰ª∂Â§π‰∏≠ÊâÄÊúâÁöÑpcapÊñá‰ª∂ÔºåÂπ∂Â∞ÜÊñá‰ª∂ÊâÄÂú®Ë∑ØÂæÑÂêçÂ≠òÊîæÂú®pcapfilename.txt‰∏≠ Á¨¨4-24Ë°åÁöÑÂ§ßÂæ™ÁéØÈÄêË°åÈÅçÂéÜÊñá‰ª∂pcapfilename.txtÔºåÂ∞ÜÊØè‰∏ÄË°åÁöÑÂÜÖÂÆπËØªÂèñÂà∞ÂèòÈáèline‰∏≠ Á¨¨6-10Ë°åÈÄöËøáawkÂ∑•ÂÖ∑ÊâæÂà∞Ë∑ØÂæÑ‰∏≠ÈúÄË¶ÅÁöÑÈÉ®ÂàÜË∑ØÂæÑÂêçÔºàÈô§‰∫ÜÊñá‰ª∂Âêç‰πãÂ§ñÁöÑË∑ØÂæÑÂêçÔºâÔºå‰øùÂ≠òÂú®ÂèòÈáè‰∏≠ÔºåÂπ∂Áõ∏Â∫îÁ©ø‰ª∂ÂØπÂ∫îÁöÑÊñá‰ª∂Â§πÁî®‰∫éÂ≠òÊîæÊâπÊµÅ‰πãÂêéÁöÑÊµÅÊñá‰ª∂ Á¨¨11Ë°åÈÄöËøátsharkÈÅçÂéÜlineÂèòÈáèÊâÄÊåáÂêëÁöÑpcapÊñá‰ª∂ÔºåÊèêÂèñÂá∫ÊâÄÊúâÁöÑflowÂè∑Ôºå‰øùÂ≠òÂú®tcp_stream_number.txt‰∏≠ Á¨¨12-22Ë°åÁöÑÂ∞èÂæ™ÁéØÈÅçÂéÜÊØè‰∏Ä‰∏™flowÂè∑ÔºåÂ∞ÜÂÖ∂‰øùÂ≠òÂú®tcpnumberÂèòÈáè‰∏≠ Á¨¨14Ë°åÁî®tsharkËøõË°åÊâπÊµÅÂ§ÑÁêÜÔºå‰ªélineÊåáÂêëÁöÑÊñá‰ª∂‰∏≠ÊèêÂèñÂá∫ÊâÄÊúâflowÂè∑‰∏∫tcpnumberÁöÑÊâÄÊúâÊï∞ÊçÆÂåÖ‰øùÂ≠ò‰∏∫ÂêçÁß∞‰∏∫tcpnumberÁöÑpcapÊñá‰ª∂ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>Â≠¶‰π†ÁßëÁ†î</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®python scapyÂ∫ìÂàÜÊûêpcapÊµÅÈáèÊñá‰ª∂]]></title>
    <url>%2F2019%2F09%2F17%2Fscapy%2F</url>
    <content type="text"><![CDATA[ÂÆâË£ÖÂπ∂ÂØºÂÖ•12pip install scapyfrom scapy.all import * ‰ΩøÁî®ËØªÂèñpcapÊñá‰ª∂1packets = rdpcap('../../IoT/pcaps/16-09-23.pcap') document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>Â≠¶‰π†ÁßëÁ†î</category>
      </categories>
      <tags>
        <tag>ÁΩëÁªúÊµÅÈáè</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂØπËÆ∫Êñá„ÄäClassifying IoT Devices in Smart Environments Using Network Traffic Characteristics„ÄãÁöÑÁøªËØë]]></title>
    <url>%2F2019%2F09%2F12%2F18tmc%2F</url>
    <content type="text"><![CDATA[ÊëòË¶ÅÁâ©ËÅîÁΩëË¢´Ë™â‰∏∫Á§æ‰ºöÁöÑ‰∏ã‰∏Ä‰∏™ÂèëÂ±ïÊµ™ÊΩÆÔºåÊô∫ËÉΩÂÆ∂Â±Ö„ÄÅ‰ºÅ‰∏öÂíåÂüéÂ∏ÇË£ÖÂ§áÁùÄÂ§ßÈáèÁöÑÁâ©ËÅîÁΩëËÆæÂ§áÔºåÁÑ∂ËÄåËøô‰∫õÊô∫ËÉΩÁéØÂ¢ÉÁöÑÊéßÂà∂ËÄÖÂπ∂Ê≤°ÊúâÂÖÖÂàÜÊÑèËØÜÂà∞Ëøô‰∫õÁâ©ËÅîÁΩëËÆæÂ§áÁöÑ‰ª∑ÂÄºÔºåÊõ¥‰∏çÁî®ËØ¥ËÉΩÂê¶ËÆ©Ëøô‰∫õËÆæÂ§áÊäµÂæ°ÁΩëÁªúÊîªÂáª‰∫Ü„ÄÇÂú®ËøôÁâáËÆ∫Êñá‰∏≠ÔºåÊàë‰ª¨ÈÄöËøá‰ΩøÁî®Âú®ÁΩëÁªúÁ∫ßËé∑ÂæóÁöÑÊµÅÈáèÁâπÊÄßÂºÄÂèëÁî®‰∫éÁâ©ËÅîÁΩëËÆæÂ§áÁöÑÂº∫Â§ßÁöÑÔºàrobustÔºâÊ°ÜÊû∂Êù•Â∫îÂØπÔºàaddressÔºâËøô‰∏™ÊåëÊàò„ÄÇÊàë‰ª¨ÁöÑÂ∑•‰Ωú‰∏ªË¶ÅÂàÜ‰∏∫Âõõ‰∏™ÈÉ®ÂàÜ„ÄÇÈ¶ñÂÖàÔºåÊàë‰ª¨Êê≠Âª∫‰∫Ü‰∏Ä‰∏™Êã•Êúâ28‰∏™‰∏çÂêåIoTËÆæÂ§áÁöÑÁöÑÊô∫ËÉΩÁéØÂ¢ÉÔºåËøô‰∫õIoTËÆæÂ§áÂåÖÊã¨ÁõëÊéßÊëÑÂÉèÂ§¥„ÄÅÁÅØ„ÄÅÊèíÂ∫ß„ÄÅ‰º†ÊÑüÂô®‰ª•ÂèäÂÅ•Â∫∑ÁõëÊéß‰º†ÊÑüÂô®ÔºåÊàë‰ª¨‰ªéËøô‰∫õÂü∫Á°ÄÁéØÂ¢É‰∏≠Êî∂ÈõÜÂπ∂Êï¥ÂêàÈïøËææ6‰∏™ÊúàÁöÑÁΩëÁªúÊµÅÈáèÔºåËøô‰∫õÊµÅÈáèÁöÑ‰∏Ä‰∏™Â≠êÈõÜÂ∞Ü‰ºöË¢´ÂÖ¨ÂºÄÁî®‰∫éÂºÄÊ∫êÁ§æÂå∫Á†îÁ©∂ÔºõÁ¨¨‰∫åÔºåÊàë‰ª¨‰ΩøÁî®ÁªüËÆ°Â±ûÊÄßÂØπÂ∫ïÂ±ÇÁΩëÁªúÊµÅÈáèÁâπÊÄßÊèê‰æõ‰∫Ü‰∏Ä‰∫õËßÅËß£ÔºåËøô‰∫õÁªüËÆ°Â±ûÊÄßÂåÖÊã¨Ê¥ªÂä®Âë®Êúü„ÄÅÁ´ØÂè£Âè∑„ÄÅ‰ø°Âè∑Ê®°ÂºèÂíåÂä†ÂØÜÊ®°Âºè;Á¨¨‰∏âÔºåÊàë‰ª¨ÂºÄÂèë‰∫Ü‰∏Ä‰∏™Âü∫‰∫éÂàÜÁ±ªÁÆóÊ≥ïÁöÑÂ§öÁ∫ßÊú∫Âô®Â≠¶‰π†Ê®°ÂûãÔºàmulti-stage machineÔºâÂπ∂‰∏îÊºîÁ§∫Ôºàdemonstrate ÔºâÂÆÉÂú®Âå∫ÂàÜÂÖ∑‰ΩìÁöÑIoTËÆæÂ§áÁöÑËÉΩÂäõÔºåÂü∫‰∫é‰ªñ‰ª¨ÁöÑÁΩëÁªúÊ¥ªÂä®ÂáÜÁ°ÆÁéáË∂ÖËøá99%ÔºõÊúÄÂêéÊàë‰ª¨ËÆ®ËÆ∫‰∫ÜÊàêÊú¨„ÄÅÈÄüÂ∫¶‰πãÈó¥ÁöÑÊùÉË°°Ôºàtrade-offsÔºâÂíåÂ∫îÁî®‰∫éÁúüÂÆûÁΩëÁªúÁöÑË°®Áé∞„ÄÇÊàë‰ª¨ÁöÑÁ†îÁ©∂Êé®Âä®‰∫ÜÊô∫ËÉΩÁéØÂ¢ÉÁÆ°ÁêÜËÄÖÁõëÊéß‰ªñÁöÑIoTËÆæÂ§áÁöÑË°®Áé∞„ÄÅÂäüËÉΩÂíåÁΩëÁªúÂÆâÂÖ®ÊÄßÁöÑÊñπÂºèÔºåËÄå‰∏çÈúÄË¶Å‰ªª‰ΩïÁâπÊÆäËÆæÂ§áÂíåÂçèËÆÆ„ÄÇ ‰ªãÁªçËÅîÁΩëËÆæÂ§áÁöÑÊï∞ÈáèÊ≠£Âú®ÊÄ•ÂâßËÜ®ËÉÄÔºàballoonÔºâ,ËøéÊù•ÔºàusheringÔºâÁâ©ËÅîÁΩëÁöÑÊó∂‰ª£„ÄÇÁâ©ËÅîÁΩëÔºàIoTÔºâÊåáÁöÑÊòØÊï∞‰ª•‰∫øËÆ°ÁöÑ‰ΩéÂäüËÄóËÆæÂ§á‰∏éËÆæÂ§á‰πãÈó¥Êàñ‰∏éËøúÁ´ØÁöÑÊúçÂä°Âô®‰πãÈó¥Âú®‰∫íËÅîÁΩë‰∏äËá™‰∏ªÔºàautonomouslyÔºâÁöÑÈÄö‰ø°„ÄÇIoTËÆæÂ§áÂåÖÊã¨ÊØèÂ§©ÈÉΩÂú®‰ΩøÁî®ÁöÑÁâ©ÂìÅÔºå‰æãÂ¶ÇÂè∞ÁÅØ„ÄÅÁÖßÁõ∏Êú∫„ÄÅ‰º†ÊÑüÂô®„ÄÅÈó®ÈîÅ„ÄÅÊ∏©ÊéßÂô®ÔºàthermostatsÔºâ„ÄÅÁîµÊ∫êÂºÄÊ∫êÂíåÂÆ∂Áî®ÁîµÂô®ÔºåËøô‰∫õÂá∫Ë¥ßÈáèÂ∑≤ÁªèËææÂà∞‰∫ÜÊé•Ëøë200‰∫øÂú®2020Âπ¥„ÄÇÊó†Êï∞ÁöÑIoTËÆæÂ§áÊúüÂæÖÊâæÂà∞ÂÆÉ‰ª¨Êú™Êù•Âú®ÂÆ∂Â∫≠„ÄÅ‰ºÅ‰∏ö„ÄÅÊ†°Âõ≠„ÄÅÂüéÂ∏Ç‰∏≠ÁöÑÊñπÂºèÔºåÂàõÈÄ†ÔºàengenderÔºâÊúâÂà©‰∫éÊàë‰ª¨Á§æ‰ºöÂíåÁîüÊ¥ªÁöÑÊô∫ËÉΩÁéØÂ¢É„ÄÇ IoTËÆæÂ§áÁöÑÊï∞ÈáèÂ¢ûÈïøÁöÑÂæàÂø´ÔºåÁÑ∂ËÄåÂ∏¶Êù•‰∫Ü‰∏Ä‰∏™ÈáçË¶ÅÁöÑÈóÆÈ¢ò„ÄÇÊô∫ËÉΩÁéØÂ¢ÉÁöÑÁÆ°ÁêÜËÄÖÂèëÁé∞ÂæàÈöæÂéªÁ°ÆÂÆöÂì™‰∫õËÆæÂ§áËøûÊé•‰∫Ü‰ªñ‰ª¨ÁöÑÁΩëÁªúÔºåÊõ¥Âä†Èöæ‰ª•Êé¢Áü•ÔºàascertainÔºâÊØè‰∏™ËÆæÂ§áÊòØÂê¶Â∑•‰ΩúÊ≠£Â∏∏ÔºåËøôÊòØ‰∏Ä‰∏™ÁªÑÁªáÁÆ°ÁêÜËøô‰∫õËµÑ‰∫ßÁöÑ‰∏ªË¶Å‰ªªÂä°ÔºåÂæÄÂæÄÈúÄË¶ÅÂá†‰∏™‰∏çÂêåÁöÑÈÉ®Èó®Âêà‰Ωú„ÄÇ‰∏æ‰æãÊù•ËØ¥ÔºåÂú®‰∏Ä‰∏™Âú∞Âå∫ÂßîÂëò‰ºöÔºàcouncilÔºâÊù•ËØ¥ÔºåÁÅØÁÆ°‰º†ÊÑüÂô®ÂèØËÉΩÁî±Âü∫Á°ÄËÆæÊñΩÂõ¢ÈòüÂÆâË£Ö„ÄÅÊ±°Ê∞¥ÂíåÂûÉÂúæ‰º†ÊÑüÂô®ÂèØËÉΩË¢´Âç´ÁîüÈÉ®Èó®Ôºàsanitation departmentÔºâÂÆâË£Ö„ÄÅÊ±ÇÁîüÊëÑÂÉèÂ§¥ÂèØËÉΩË¢´Âú∞Âå∫Êú∫ÊàøÁÆ°ÁêÜÔºåÂçèË∞ÉÂêÑÈÉ®Èó®‰ª•Ëé∑ÂèñIoTËÆæÂ§áÁöÑ‰ø°ÊÅØ‰∏ç‰ªÖËÄóÊó∂ÁπÅÈáçËÄå‰∏îÈîôËØØÁéáÈ´òÔºå‰ΩøÂæóÂú®‰ªª‰ΩïÊó∂ÂÄôÁî®ÂºÑÊ∏ÖÊ•öÂì™‰∫õIoTËÆæÂ§áÊ≠£Âú®ËøêË°åÊàê‰∏∫‰∏çÂèØËÉΩ„ÄÇÂèäÊó∂Ëé∑ÂæóIoTËÆæÂ§áÁöÑÂèØËßÅÊÄßÂØπ‰∫éÁÆ°ÁêÜËÄÖÊù•ËØ¥Ëá≥ÂÖ≥ÈáçË¶Å„ÄÇÈÇ£‰∫õË¥üË¥£Á°Æ‰øùËÆæÂ§áÁöÑÁΩëÁªúÂÆâÂÖ®‰ªªÂä°ÁöÑ‰∫∫ÂëòÈúÄË¶ÅÊèê‰æõÂøÖË¶ÅÁöÑÊúçÂä°Ë¥®Èáè„ÄÅÂπ∂Âú®Âá∫Áé∞ÈóÆÈ¢òÁöÑÊó∂ÂÄôËøÖÈÄüÈöîÁ¶ª.ÊÄùÁßëÊúÄËøëÁöÑÂÆâÂÖ®Êä•Âëä‰∏ÄÁõ¥Âú®Âº∫Ë∞ÉÔºàemphasizeÔºâÂèØËßÅÊÄßÁöÑÈáçË¶ÅÊÄßÔºåÁâπÂà´ÊòØÊúÄËøëÂá∫Áé∞ÁöÑ‰∏§‰ª∂‰∫ãÊòæÂæóÂ∞§‰∏∫Á™ÅÂá∫„ÄÇ2017Âπ¥7ÊúàÁªÑÊàêËµåÂú∫ÁöÑÈ±ºÁº∏‰º†ÊÑüÂô®Âíå2017Âπ¥2Êúà‰ªéËá™Â∑±ÁöÑËá™Âä®ÂîÆË¥ßÊú∫ÊîªÂáªÂ§ßÂ≠¶Ê†°Âõ≠ÁΩë„ÄÇËøô‰∏§‰∏™‰æãÂ≠ê‰∏≠ÔºåÁΩëÁªúÂàÜÊÆµÈÉΩÊúâÂèØËÉΩÈòªÊ≠¢ÊîªÂáªÔºåÊõ¥Â•ΩÁöÑÂèØËßÅÊÄßÂèØ‰ª•Âø´ÈÄüÈöîÁ¶ªÔºå‰ª•ÈôêÂà∂ÁΩëÁªúÊîªÂáªÂØπ‰ºÅ‰∏öÁΩëÁªúÁöÑÁ†¥Âùè ÂèØ‰ª•È¢ÑÊúüÔºåÂèØ‰ª•ÈÄöËøáÂÖ∂MACÂú∞ÂùÄÂíåDHCPÂçèÂïÜÊù•ËØÜÂà´ËÆæÂ§á„ÄÇÁÑ∂ËÄåÔºåËøôÂ∞ÜÈù¢‰∏¥Âá†‰∏™ÊåëÊàòÔºöÈ¶ñÂÖàIoTËÆæÂ§áÂà∂ÈÄ†ÂïÜÈÄöÂ∏∏‰ΩøÁî®Á¨¨‰∏âÊñπÊèê‰æõÁöÑNICÔºàÁΩëÂç°ÔºâÔºåÂõ†Ê≠§ÔºåMACÂú∞ÂùÄÁöÑÁªÑÁªáÂîØ‰∏ÄÊ†áËØÜÁ¨¶ÔºàOUIÔºâÂâçÁºÄÂèØËÉΩÊó†Ê≥ï‰º†ËææÊúâÂÖ≥IoTËÆæÂ§áÁöÑ‰ªª‰Ωï‰ø°ÊÅØÔºõÂÖ∂Ê¨°ÔºåÊÅ∂ÊÑèËÆæÂ§áÂèØËÉΩ‰ºöÊ¨∫È™óMACÂú∞ÂùÄ;ËÆ∏Â§öÁâ©ËÅîÁΩëËÆæÂ§á‰∏çÂú®ÂÖ∂DHCPËØ∑Ê±Ç‰∏≠ËÆæÁΩÆ‰∏ªÊú∫ÂêçÈÄâÈ°πÔºõ‰∫ãÂÆû‰∏äÔºåÊàë‰ª¨ÂèëÁé∞Êàë‰ª¨Á†îÁ©∂ÁöÑÂ§ßÁ∫¶‰∏ÄÂçäÁöÑÁâ©ËÅîÁΩëËÆæÂ§áÊ≤°ÊúâÊòæÁ§∫ÂÆÉ‰ª¨ÁöÑ‰∏ªÊú∫ÂêçÔºåÂ¶ÇË°®1ÊâÄÁ§∫; Âç≥‰ΩøÁâ©ËÅîÁΩëËÆæÂ§áÊö¥Èú≤ÂÖ∂‰∏ªÊú∫ÂêçÔºåÂÆÉ‰πüÂèØËÉΩÂπ∂‰∏çÊÄªÊòØÊúâÊÑè‰πâÁöÑÔºà‰æãÂ¶ÇË°®1‰∏≠ÁöÑWithingsÂ©¥ÂÑøÁõëËßÜÂô®ÁöÑWBP-EE4CÔºâÔºõÊúÄÂêéÔºåÁî®Êà∑ÂèØ‰ª•Êõ¥ÊîπËøô‰∫õ‰∏ªÊú∫ÂêçÔºà‰æãÂ¶ÇHPÊâìÂç∞Êú∫ÂèØ‰ª•Ë¢´Ëµã‰∫à‰ªªÊÑè‰∏ªÊú∫ÂêçÔºâ„ÄÇÁî±‰∫éËøô‰∫õÂéüÂõ†ÔºåÂü∫‰∫éDHCPÂπ∂‰∏çÊòØ‰∏Ä‰∏™ÂæàÂ•ΩÁöÑËß£ÂÜ≥ÊñπÊ°àÁî®‰∫éÊ≠£Á°ÆËØÜÂà´Â§ßËßÑÊ®°ÁöÑËÆæÂ§á„ÄÇ ËøôÁØáËÆ∫Êñá‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáÂºÄÂèë‰∏Ä‰∏™Âº∫Â§ßÁöÑÊ°ÜÊû∂Êù•Ëß£ÂÜ≥‰∏äËø∞ÈóÆÈ¢òÔºåËØ•Ê°ÜÊû∂Èô§‰∫Ü‰ΩøÁî®ÁΩëÁªúÊµÅÈáèÁâπÂæÅÂØºÂá∫ÁöÑÁªüËÆ°Â±ûÊÄßÁöÑÈ´òÁ≤æÂ∫¶ÁöÑ‰∏ÄÁ±ªÈùûÁâ©ËÅîÁΩëËÆæÂ§áÂ§ñÔºåËøòÂØπÊØè‰∏™Áâ©ËÅîÁΩëËÆæÂ§áËøõË°åÂàÜÁ±ªÔºå‰ªéÂÆöÊÄß‰∏äËÆ≤ÔºåÂ§ßÂ§öÊï∞Áâ©ËÅîÁΩëËÆæÂ§áÈÉΩ‰ºöÂÅ∂Â∞îÂèëÈÄÅÁü≠Êó∂Èó¥ÁöÑÊï∞ÊçÆ„ÄÇÂÆöÈáèÁöÑÊù•ËØ¥ÔºåÊàë‰ª¨Âú®[6]‰∏≠ÁöÑÂàùÊ≠•Â∑•‰ΩúÊòØÈ¶ñÊ¨°Â∞ùËØïÁ†îÁ©∂IoTËÆæÂ§áÂú®‰∏ÄÊ¨°ÊµÅÈáèÁàÜÂèëÊúüÈó¥ÂèëÈÄÅÂ§öÂ∞ëÊµÅÈáè‰ª•ÂèäÂÆÉ‰ª¨Âú®Ê¥ªÂä®‰πãÈó¥Èó≤ÁΩÆÂ§öÈïøÊó∂Èó¥„ÄÇÊàë‰ª¨ËøòËØÑ‰º∞‰∫ÜÂÆÉ‰ª¨ÊâßË°å‰∫ÜÂ§öÂ∞ë‰ø°Âè∑ÈáèÔºà‰æãÂ¶ÇÂüüÂêçÊü•ËØ¢‰ΩøÁî®DNSÔºåÊó∂Èó¥ÂêåÊ≠•‰ΩøÁî®NTPÔºâ‰∏é‰ªñ‰ª¨‰∫ßÁîüÁöÑÊï∞ÊçÆÊµÅÈáèËøõË°åÊØîËæÉ„ÄÇÊú¨ÊñáÈÄöËøáÂØπÂåÖÂê´28Áßç‰∏çÂêåÁâ©ËÅîÁΩëËÆæÂ§áÁöÑËØïÈ™åÂè∞Âú®Êõ¥ÈïøÊó∂Èó¥Ôºà6‰∏™ÊúàÔºâÂÜÖÊçïËé∑ÁöÑË∑üË∏™Êï∞ÊçÆÈááÁî®Êõ¥ÂÖ®Èù¢ÔºàcomprehensiveÔºâÁöÑÂ±ûÊÄßÈõÜÔºåÂØπÊàë‰ª¨‰πãÂâçÁöÑÂ∑•‰ΩúËøõË°å‰∫ÜÈáçÂ§ßÊâ©Â±ï„ÄÇ ÊØ´Êó†ÁñëÈóÆÔºå‰∫ÜËß£Áâ©ËÅîÁΩëÊµÅÈáèÁöÑÊÄßË¥®ÂèòÂæóË∂äÊù•Ë∂äÈáçË¶ÅÔºåËøôÊ†∑ÂÅöÊúâÂä©‰∫éÂåÖÂê´‰∏çÂøÖË¶ÅÁöÑÂ§öÊí≠/ÂπøÊí≠ÊµÅÈáèÔºå‰ªéËÄåÂáèÂ∞ëÂÆÉ‰ª¨ÂØπÂÖ∂‰ªñÂ∫îÁî®Á®ãÂ∫èÁöÑÂΩ±ÂìçÔºåÂÆÉËøò‰ΩøÊô∫ËÉΩÂüéÂ∏ÇÂíå‰ºÅ‰∏öÁöÑËøêËê•ÂïÜËÉΩÂ§üÊ†πÊçÆÁéØÂ¢ÉÔºåÂÅ•Â∫∑ÊàñÂÆâÂÖ®Â∫îÁî®ÊâÄÈúÄÁöÑÂèØÈù†ÊÄßÔºåÊçüÂ§±ÂíåÂª∂ËøüÊù•Á°ÆÂÆöÂÖ∂ÁΩëÁªúÁöÑÈÄÇÂΩìÊÄßËÉΩÊ∞¥Âπ≥„ÄÇÁÑ∂ËÄåÔºåË°®ÂæÅÁâ©ËÅîÁΩëÊµÅÈáèÁöÑÊúÄ‰ª§‰∫∫‰ø°ÊúçÁöÑÁêÜÁî±ÊòØÊ£ÄÊµãÂíåÂáèËΩªÁΩëÁªúÂÆâÂÖ®ÊîªÂáª„ÄÇ‰ºóÊâÄÂë®Áü•ÔºåÁâ©ËÅîÁΩëËÆæÂ§áÁöÑÊÄßË¥®ÂíåËÆæËÆ°Êòì‰∫éÊ∏óÈÄèÔºåÂÖ≥‰∫éÁâ©ËÅîÁΩëËÆæÂ§áÂ¶Ç‰ΩïË¢´Á†¥ÂùèÂπ∂Áî®‰∫éÂèëÂä®Â§ßËßÑÊ®°ÊîªÂáªÁöÑÊñ∞ÊïÖ‰∫ãÊ≠£Âú®Âá∫Áé∞.Áâ©ËÅîÁΩëËÆæÂ§áÁöÑÂ∑®Â§ßÂºÇÊûÑÊÄß‰øÉ‰ΩøÁ†îÁ©∂‰∫∫ÂëòÊèêÂá∫ÁΩëÁªúÁ∫ßÂÆâÂÖ®Êú∫Âà∂ÔºåÂàÜÊûêÊµÅÈáèÊ®°Âºè‰ª•ËØÜÂà´ÊîªÂáª,Ëøô‰∫õÊñπÊ≥ïÁöÑÊàêÂäü‰æùËµñ‰∫éÂØπ‚ÄúÊ≠£Â∏∏‚ÄùÁâ©ËÅîÁΩëÊµÅÈáèÈÖçÁΩÆÊñá‰ª∂ÁöÑËâØÂ•ΩÁêÜËß£„ÄÇ Êàë‰ª¨Âú®ËøôÈ°πÂ∑•‰Ωú‰∏≠ÁöÑ‰∏ªË¶ÅÈáçÁÇπÊòØÂª∫Á´ã‰∏Ä‰∏™Âü∫‰∫éÂêÑÁßçÁΩëÁªúÊµÅÈáèÁâπÊÄßÁöÑÊú∫Âô®Â≠¶‰π†Ê°ÜÊû∂Ôºå‰ª•ËØÜÂà´ÂíåÂàÜÁ±ªÁΩëÁªú‰∏äÁâ©ËÅîÁΩëËÆæÂ§áÁöÑÈªòËÆ§ÔºàÂç≥Âü∫Á∫øÔºâË°å‰∏∫,Êú™Êù•ÂèØËÉΩ‰ºö‰ΩøÁî®ËøôÊ†∑ÁöÑÊ°ÜÊû∂Êù•Ê£ÄÊµãÁâ©ËÅîÁΩëËÆæÂ§áÁöÑÂºÇÂ∏∏Ë°å‰∏∫ÔºàÂèØËÉΩÊòØÁî±‰∫éÁΩëÁªúÊîªÂáªÔºâ,ËøôÁßçÂºÇÂ∏∏Ê£ÄÊµãÊñπÊ°àË∂ÖÂá∫‰∫ÜÊú¨ÊñáÁöÑËåÉÂõ¥„ÄÇÊú¨ÊñáÂü∫‰∫éÁΩëÁªúÊµÅÈáèÁâπÂæÅÂ°´Ë°•‰∫Ü‰∏éÁâ©ËÅîÁΩëËÆæÂ§áÂàÜÁ±ªÁõ∏ÂÖ≥ÁöÑÊñáÁåÆ‰∏≠ÁöÑÈáçË¶ÅÁ©∫ÁôΩ„ÄÇÊàë‰ª¨ÁöÑË¥°ÁåÆÊòØÔºö Êàë‰ª¨‰ΩøÁî®28‰∏™IoTËÆæÂ§áÊê≠Âª∫‰∫Ü‰∏Ä‰∏™ÂÆûÈ™åÂÆ§Ôºå‰ª•ÂÆûÁé∞Êô∫ËÉΩÁéØÂ¢É„ÄÇËøô‰∫õËÆæÂ§áÂåÖÊã¨Áõ∏Êú∫ÔºåÁÅØÔºåÊèíÂ§¥ÔºåËøêÂä®‰º†ÊÑüÂô®ÔºåÁîµÂô®ÂíåÂÅ•Â∫∑ÁõëËßÜÂô®„ÄÇÊàë‰ª¨‰ªéËøôÁßçÁéØÂ¢É‰∏≠Êî∂ÈõÜÂíåÁªºÂêàÊï∞ÊçÆÔºå‰∏∫Êúü6‰∏™Êúà„ÄÇÊàë‰ª¨ÁöÑÊï∞ÊçÆÂ≠êÈõÜÂèØ‰æõÁ†îÁ©∂Á§æÂå∫‰ΩøÁî®„ÄÇ Êàë‰ª¨Á°ÆÂÆöÂÖ≥ÈîÆÁöÑÁªüËÆ°Â±ûÊÄßÔºåÂ¶ÇÊ¥ªÂä®Âë®ÊúüÔºåÁ´ØÂè£Âè∑Ôºå‰ø°‰ª§Ê®°ÂºèÂíåÂØÜÁ†ÅÂ•ó‰ª∂ÔºåÂπ∂‰ΩøÁî®ÂÆÉ‰ª¨Êù•Ê∑±ÂÖ•‰∫ÜËß£Âü∫Á°ÄÁΩëÁªúÊµÅÈáèÁâπÂæÅ Êàë‰ª¨ÂºÄÂèë‰∫Ü‰∏ÄÁßçÂü∫‰∫éÂ§öÈò∂ÊÆµÊú∫Âô®Â≠¶‰π†ÁöÑÂàÜÁ±ªÁÆóÊ≥ïÔºåÂπ∂ËØÅÊòé‰∫ÜÂÆÉËÉΩÂ§üÊ†πÊçÆÁΩëÁªúË°å‰∏∫ËØÜÂà´ÂÖ∑ÊúâË∂ÖËøá99ÔºÖÁ≤æÂ∫¶ÁöÑÁâπÂÆöÁâ©ËÅîÁΩëËÆæÂ§á Êàë‰ª¨ÈÄöËøáÊ£ÄÊü•ÂàÜÁ±ªÂô®ÁöÑÊàêÊú¨ÔºåÈÄüÂ∫¶ÂíåÂáÜÁ°ÆÊÄß‰πãÈó¥ÁöÑÊùÉË°°Êù•ÂÆûÊó∂ËØÑ‰º∞ÂàÜÁ±ªÊ°ÜÊû∂ÁöÑÈÉ®ÁΩ≤„ÄÇ Êú¨ÊñáÁöÑÂÖ∂‰ΩôÈÉ®ÂàÜÂÆâÊéíÂ¶Ç‰∏ãÔºö¬ß2ÊèèËø∞‰∫ÜÁõ∏ÂÖ≥ÁöÑÂÖàÂâçÂ∑•‰Ωú„ÄÇÊàë‰ª¨Âú®¬ß3‰∏≠‰ªãÁªç‰∫ÜIoTËÆæÁΩÆÂíåÊï∞ÊçÆË∑üË∏™ÔºåÂπ∂Âú®¬ß4‰∏≠ÊèèËø∞‰∫ÜÂêÑÁßçIoTËÆæÂ§áÁöÑÊµÅÈáèÂ±ûÊÄß„ÄÇÂú®¬ß5‰∏≠ÔºåÊàë‰ª¨ÊèêÂá∫‰∫ÜÂü∫‰∫éÊú∫Âô®Â≠¶‰π†ÁöÑÂ§öÈò∂ÊÆµËÆæÂ§áÂàÜÁ±ªÊñπÊ≥ïÂπ∂ËØÑ‰º∞ÂÖ∂ÊÄßËÉΩÔºåÁÑ∂ÂêéÂú®¬ß6‰∏≠ËÆ®ËÆ∫‰∫ÜÊâÄÊèêÂá∫ÁöÑÁ≥ªÁªüÁöÑÂÆûÊó∂Êìç‰Ωú„ÄÇËØ•ËÆ∫ÊñáÂú®¬ß7‰∏≠ÂæóÂá∫ÁªìËÆ∫„ÄÇ Áõ∏ÂÖ≥Â∑•‰ΩúÊúâÂ§ßÈáèÁöÑÂ∑•‰ΩúË°®ÂæÅ‰∏ÄËà¨ÁöÑ‰∫íËÅîÁΩëÊµÅÈáè„ÄÇËøô‰∫õÂÖàÂâçÁöÑÂ∑•‰Ωú‰∏ªË¶ÅÈõÜ‰∏≠Âú®Â∫îÁî®Á®ãÂ∫èÊ£ÄÊµãÔºà‰æãÂ¶ÇWebÊµèËßàÔºåÊ∏∏ÊàèÔºåÈÇÆ‰ª∂ÔºåSkype VoIPÔºåÁÇπÂØπÁÇπÁ≠âÔºâ„ÄÇÁÑ∂ËÄåÔºå‰∏ìÊ≥®‰∫éË°®ÂæÅÁâ©ËÅîÁΩëÊµÅÈáèÔºà‰πüÁß∞‰∏∫Êú∫Âô®ÂØπÊú∫Âô®ÊàñM2MÊµÅÈáèÔºâÁöÑÁ†îÁ©∂‰ªçÂ§Ñ‰∫éËµ∑Ê≠•Èò∂ÊÆµ„ÄÇ ÂÆûËØÅÁóïËøπÂàÜÊûê:[20]‰∏≠ÁöÑÂ∑•‰ΩúÊòØÁ¨¨‰∏ÄÊ¨°Ê∑±ÂÖ•Á†îÁ©∂M2MÊµÅÈáèÊÄßË¥®ÁöÑÂ§ßËßÑÊ®°Á†îÁ©∂‰πã‰∏Ä„ÄÇÈúÄË¶Å‰∫ÜËß£M2MÊµÅÈáèÊòØÂê¶ÂØπËúÇÁ™ùÁΩëÁªúÁöÑËÆæËÆ°ÂíåÁÆ°ÁêÜÊèêÂá∫‰∫ÜÊñ∞ÁöÑÊåëÊàò.ËØ•Â∑•‰Ωú‰ΩøÁî®Ë∑®Ë∂ä‰∏ÄÁ∫ßËúÇÁ™ùÁΩëÁªúËøêËê•ÂïÜ‰∏ÄÂë®ÁöÑÊµÅÈáèË∑üË∏™ÔºåÂπ∂Â∞ÜM2MÊµÅÈáè‰∏é‰º†ÁªüÊô∫ËÉΩÊâãÊú∫ÊµÅÈáè‰ªéÂ§ö‰∏™‰∏çÂêåËßíÂ∫¶ËøõË°åÊØîËæÉ - Êó∂Èó¥ÂèòÂåñÔºåÁßªÂä®ÊÄßÔºåÁΩëÁªúÊÄßËÉΩÁ≠â„ÄÇËØ•Á†îÁ©∂ÈÄöÁü•ÁΩëÁªúËøêËê•ÂïÜÂú®ÁÆ°ÁêÜÁΩëÁªúÊó∂Ë¶ÅËÆ§ËØÜÂà∞Ëøô‰∫õÂõ†Á¥† Âú®[21]‰∏≠Ôºå‰ΩúËÄÖÊåáÂá∫Âçï‰∏™M2MËÆæÂ§á‰∫ßÁîüÁöÑÊµÅÈáèÂèØËÉΩÂæàÂ∞èÔºå‰ΩÜÊï∞ÁôæÊàñÊï∞ÂçÉ‰∏™M2MËÆæÂ§á‰∫ßÁîüÁöÑÊÄªÊµÅÈáèÂ∞ÜÊòØÂ∑®Â§ßÁöÑ,Ëøô‰∫õËßÇÂØüÁªìÊûúÂú®ÊüêÁßçÁ®ãÂ∫¶‰∏äÂæóÂà∞‰∫Ü[22]Ôºå[23]ÁöÑËØÅÂÆûÔºåÂÖ∂‰∏≠ÊåáÂá∫ÔºåËøúÁ®ãÊÇ£ËÄÖÁõëÊµãÂ∫îÁî®È¢ÑËÆ°ÊØèÂ§©‰∫ßÁîüÁ∫¶0.35 MBÔºåÊô∫ËÉΩÁîµË°®ÊØèÂ§©‰∫ßÁîüÁ∫¶0.07 MB„ÄÇ ËÅöÂêàÊµÅÈáèÊ®°Âûã:Âú®[24]‰∏≠ÊèêÂá∫‰∫ÜËÄ¶ÂêàÈ©¨Â∞îÂèØÂ§´Ë∞ÉÂà∂Ê≥äÊùæËøáÁ®ãÊ°ÜÊû∂Êù•ÊçïËé∑Âçï‰∏™Êú∫Âô®Á±ªÂûãÈÄö‰ø°ÁöÑË°å‰∏∫‰ª•ÂèäÊï∞‰∏á‰∏™M2MËÆæÂ§áÁöÑÈõÜ‰ΩìË°å‰∏∫„ÄÇCMMPPÊ°ÜÊû∂ÁöÑÂ§çÊùÇÊÄßÈöèÁùÄM2MËÆæÂ§áÁöÑÊï∞ÈáèÂëàÁ∫øÊÄßÂ¢ûÈïøÔºå‰ΩøÂÖ∂ÊúâÊïàÂú∞Â§ßËßÑÊ®°ÂêàÊàêM2MÊµÅÈáè,Âú®[25]‰∏≠Ôºå‰ΩúËÄÖË°®ÊòéÂèØ‰ª•Â∞ÜM2MËÆæÂ§áÁöÑÔºàÊµÅÈáèÔºâÁä∂ÊÄÅÂàÜ‰∏∫‰∏â‰∏™ÈÄöÁî®Á±ªÂà´ÔºåÂç≥ÂÆöÊúüÊõ¥Êñ∞Ôºå‰∫ã‰ª∂È©±Âä®ÂíåÊúâÊïàË¥üËΩΩ‰∫§Êç¢Ôºå‰ª•Âèä‰∏Ä‰∫õ‰ΩøÁî®Ëøô‰∫õÁ±ªÂûãÁöÑÂª∫Ê®°Á≠ñÁï•„ÄÇÈÄöËøáËΩ¶ÈòüÁÆ°ÁêÜ‰∏≠ÁöÑÁî®‰æãÁ§∫Âá∫‰∫ÜÊ®°ÂûãÈÖç‰ª∂ÁöÑÂõæÁ§∫ÔºåËØ•ËΩ¶ËæÜÁÆ°ÁêÜÂåÖÊã¨Áî±ËøêËæìÂÖ¨Âè∏ËøêË°åÁöÑ1000ËæÜÂç°ËΩ¶.ËØ•ÊãüÂêàÂü∫‰∫éÊù•Ëá™2G / 3GÁΩëÁªúÁöÑÊµãÈáèÁöÑM2MÊµÅÈáè,Âú®[26]‰∏≠ÊûÑÂª∫‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊ®°ÂûãÔºåÁî®‰∫é‰º∞ÁÆóÊó†Á∫ø‰º†ÊÑüÂô®ÁΩëÁªú‰∏≠ËøûÊé•ÁöÑÂÆ∂Â∫≠‰∏≠‰∫ßÁîüÁöÑM2MÊµÅÈáè„ÄÇÁî±‰∫é‰º†ÊÑüÂô®ÁöÑË°å‰∏∫ÈùûÂ∏∏ÁâπÂÆö‰∫éÂ∫îÁî®ÔºåÂõ†Ê≠§ËØ•Â∑•‰ΩúËØÜÂà´ÂèØÂΩíÂõ†‰∫é‰ªª‰Ωï‰º†ÊÑüÂô®ËÆæÂ§áÁöÑÊüê‰∫õÂ∏∏ËßÅÈÄö‰ø°Ê®°Âºè.‰ΩøÁî®Ëøô‰∫õÂ±ûÊÄßÔºåÊèêÂá∫‰∫ÜÂõõ‰∏™Âπø‰πâÊñπÁ®ãÊù•‰º∞ËÆ°Áî±‰º†ÊÑüÂô®ÁΩëÁªúÂêØÁî®ÁöÑËøûÊé•ÂÖ¨ÂØì/ÂÆ∂Â∫≠‰∫ßÁîüÁöÑÊµÅÈáè„ÄÇ ‰ΩøÁî®Êú∫Âô®Â≠¶‰π†ÔºöÂú®ÊñáÁåÆ‰∏≠Â∑≤ÁªèÊèêÂá∫‰∫ÜÂêÑÁßçÂü∫‰∫éÊú∫Âô®Â≠¶‰π†ÁöÑÂàÜÊûêÊñπÊ≥ïÊù•ÂØπ‰∫§ÈÄöÂ∫îÁî®ËøõË°åÂàÜÁ±ªÊàñËØÜÂà´ÂÖ∏ÂûãËÆ°ÁÆóÊú∫ÁΩëÁªúÁöÑÊÅ∂ÊÑèËΩØ‰ª∂/ÂÉµÂ∞∏ÁΩëÁªú„ÄÇ[27]‰∏≠ÁöÑÂ∑•‰Ωú‰ΩøÁî®Ê∑±Â∫¶Â≠¶‰π†Êù•ÂàÜÁ±ªÊµÅÔºå‰æãÂ¶ÇHTTPÔºåSMTPÔºåTelnetÔºåQUICÔºåOffice365ÂíåYouTubeÔºåÈÄöËøáËÄÉËôëÂÖ≠‰∏™ÁâπÂæÅÔºåÂç≥Ê∫ê/ÁõÆÁöÑÁ´ØÂè£Âè∑ÔºåÊúâÊïàËΩΩËç∑ÈáèÔºåTCPÁ™óÂè£Â§ßÂ∞èÔºåÂà∞ËææÈó¥ÈöîÊó∂Èó¥Âíå‰ªéÊµÅÁöÑÂâç20‰∏™ÂåÖ‰∏≠ÊèêÂèñÁöÑÊµÅÈáèÊñπÂêë„ÄÇ[28]‰∏≠ÂºÄÂ±ïÁöÑÂ∑•‰ΩúË°®ÊòéÔºåÂÉµÂ∞∏ÁΩëÁªúÂÖ∑ÊúâÂèØËØÜÂà´ÁöÑÊµÅÈáèÊ®°ÂºèÔºåÂèØ‰ª•ÈÄöËøáËÄÉËôëËøûÁª≠ÊµÅÈáè‰πãÈó¥ÁöÑÂπ≥ÂùáÊó∂Èó¥ÔºåÊµÅÈáèÊåÅÁª≠Êó∂Èó¥ÔºåÂÖ•Á´ô/Âá∫Á´ôÊµÅÈáè‰ª•ÂèäÊµÅÈáèÂºÄÂßãÊó∂Èó¥ÂÜÖÁöÑÂÇÖÈáåÂè∂ÂèòÊç¢Á≠âÁâπÂæÅËøõË°åÂàÜÁ±ª„ÄÇÈÄöËøáÂ∞ÜËøô‰∫õÊµÅÁ∫ßÁâπÂæÅ‰∏éÂåÖÁ∫ßÂà´Â±ûÊÄßÔºàÂåÖÊã¨ÂåÖÂ§ßÂ∞èÔºåÊúâÊïàËΩΩËç∑ÁöÑÂ≠óËäÇÂàÜÂ∏ÉÔºåÂåÖÁöÑÂà∞ËææÈó¥ÈöîÊó∂Èó¥ÂíåTLSÊè°ÊâãÂÖÉÊï∞ÊçÆÔºâÁõ∏ÁªìÂêàÔºåÂú®[29]Âíå[30]‰∏≠Â¢ûÂº∫‰∫ÜÂØπÁΩëÁªú‰∏äÊÅ∂ÊÑèÊ¥ªÂä®ÁöÑÊ£ÄÊµãÔºàÂç≥ÂØÜÁ†ÅÂ•ó‰ª∂‰ª£Á†ÅÔºâ„ÄÇÊ≠§Â§ñÔºå‰ΩúËÄÖÂèëÂ∏É‰∫Ü‰∏Ä‰∏™Âêç‰∏∫Joy [31]ÁöÑÂü∫‰∫élibpcapÁöÑÂºÄÊ∫êÂ∑•ÂÖ∑ÔºåÁî®‰∫é‰ªéÁΩëÁªúÊµÅÈáèÁöÑË¢´Âä®ÊçïËé∑‰∏≠ÊèêÂèñËøô‰∫õÂäüËÉΩ Âú®Áâ©ËÅîÁΩëÁöÑËÉåÊôØ‰∏ãÔºå[32]‰ΩøÁî®Êú∫Âô®Â≠¶‰π†Êù•ÂØπÊù•Ëá™ÁΩëÁªú‰∏äÁöÑÊéàÊùÉËÆæÂ§áÁöÑÂçï‰∏™TCPÊµÅËøõË°åÂàÜÁ±ª„ÄÇÂÆÉ‰ΩøÁî®‰∫Ü300Â§ö‰∏™Â±ûÊÄßÔºàÊï∞ÊçÆÂåÖÁ∫ßÂíåÊµÅÁ∫ßÔºâÔºå‰ΩÜÊúÄÊúâÂΩ±ÂìçÂäõÁöÑÊòØÊï∞ÊçÆÂåÖÁîüÂ≠òÊó∂Èó¥ÔºàTTLÔºâÁöÑÊúÄÂ∞èÂÄºÔºå‰∏≠ÂÄºÂíåÂπ≥ÂùáÂÄºÔºåÂèëÈÄÅÂíåÊé•Êî∂ÁöÑÊÄªÂ≠óËäÇÊï∞ÔºåÂåÖÁöÑÊÄªÊï∞ÈáçÁΩÆÔºàRSTÔºâÊ†áÂøóÔºå‰ª•ÂèäÊúçÂä°Âô®ÁöÑAlexaÊéíÂêç ËôΩÁÑ∂‰∏äËø∞ÊâÄÊúâÂ∑•‰ΩúÈÉΩÂÅöÂá∫‰∫ÜÈáçË¶ÅË¥°ÁåÆÔºå‰ΩÜ‰ªñ‰ª¨Âπ∂Êú™Âú®Êô∫ËÉΩÁéØÂ¢ÉÔºàÂ¶ÇÂÆ∂Â∫≠ÔºåÂüéÂ∏ÇÔºåÊ†°Âõ≠Êàñ‰ºÅ‰∏öÔºâ‰∏≠ÂØπÁâ©ËÅîÁΩëËÆæÂ§áËøõË°åÁªÜÁ≤íÂ∫¶Ë°®ÂæÅÂíåÂàÜÁ±ª„ÄÇÊ≠§Â§ñÔºåËøòÊ≤°ÊúâÂºÄÂèëÂá∫ËÉΩÂ§üÊ†πÊçÆÁΩëÁªúÊµÅÈáèÁâπÂæÅËøõË°åÁâ©ËÅîÁΩëËÆæÂ§áÂàÜÁ±ªÁöÑÁªüËÆ°Ê®°ÂûãÔºåÊúÄÈáçË¶ÅÁöÑÊòØÔºåÂÖàÂâçÁöÑÂ∑•‰Ωú‰∏ç‰ºöÂÖ¨ÂºÄ‰ªª‰ΩïÊï∞ÊçÆÈõÜ‰æõÁ†îÁ©∂Á§æÂå∫‰ΩøÁî®ÂíåÊûÑÂª∫„ÄÇÊàë‰ª¨ÁöÑÂ∑•‰ΩúÂÖãÊúç‰∫ÜËøô‰∫õÁº∫ÁÇπ„ÄÇ Áâ©ËÅîÁΩëÊµÅÈáèÊî∂ÈõÜÂíåÊï¥ÂêàÂú®Êú¨ËäÇ‰∏≠ÔºåÊàë‰ª¨Â∞Ü‰ªãÁªçÁî®‰∫éÊî∂ÈõÜÂíåÂêàÊàêÊù•Ëá™ÂêÑÁßçÁâ©ËÅîÁΩëËÆæÂ§áÁöÑÊµÅÈáèÁöÑÊô∫ËÉΩÁéØÂ¢ÉÂü∫Á°ÄÊû∂ÊûÑ ÂÆûÈ™åËØïÈ™åÂè∞Âõæ1ÊèèËø∞‰∫Ü‚ÄúÊô∫ËÉΩÁéØÂ¢É‚ÄùÁöÑÁúüÂÆû‰ΩìÁ≥ªÁªìÊûÑÔºåÂÆÉÈÄöËøáÂÖ∂ÔºàÊúâÁ∫ø/Êó†Á∫øÔºâÁΩëÁªúÂü∫Á°ÄËÆæÊñΩ‰∏∫ÂêÑÁßçÁâ©ËÅîÁΩëÂíåÈùûÁâ©ËÅîÁΩëËÆæÂ§áÊèê‰æõÊúçÂä°ÔºåÂπ∂ÂÖÅËÆ∏ÂÆÉ‰ª¨ÈÄöËøáÁΩëÂÖ≥‰∏é‰∫íËÅîÁΩëÊúçÂä°Âô®ÈÄö‰ø°„ÄÇ‰ΩøÁî®OpenWrtÂõ∫‰ª∂ÁâàÊú¨Chaos CalmerÔºà15.05.1Ôºår48532ÔºâÂà∑Êñ∞ÁöÑTP-LinkÊé•ÂÖ•ÁÇπÂÖÖÂΩìÂÖ¨ÂÖ±‰∫íËÅîÁΩëÁöÑÁΩëÂÖ≥„ÄÇÊàë‰ª¨ËøòÂú®ÁΩëÂÖ≥‰∏äÂÆâË£Ö‰∫ÜÈ¢ùÂ§ñÁöÑOpenWrtËΩØ‰ª∂ÂåÖÔºåÂç≥Áî®‰∫éÊçïËé∑ÊµÅÈáèÁöÑtcpdumpÔºåÁî®‰∫éÁºñÂÜôËÑöÊú¨ÁöÑbashÔºà4.3.39-1ÔºâÔºåÁî®‰∫éÂú®ÁΩëÂÖ≥‰∏äÂÆâË£ÖÂ§ñÈÉ®USBÂ≠òÂÇ®ÁöÑÂùóÂÆâË£ÖÂåÖÔºåkmod-usb-coreÂíåkmod-usb-storageÔºà3.18.23-1ÔºâÔºåÁî®‰∫éÂ∞ÜÊµÅÈáèË∑üË∏™Êï∞ÊçÆÂ≠òÂÇ®Âú®USBÂ≠òÂÇ®Âô®‰∏ä„ÄÇ Âú®Êàë‰ª¨ÁöÑÂÆûÈ™åÂÆ§ËÆæÁΩÆ‰∏≠ÔºåTP-LinkÊé•ÂÖ•ÁÇπÁöÑWANÊé•Âè£ÈÄöËøáÂ§ßÂ≠¶ÁΩëÁªúËøûÊé•Âà∞ÂÖ¨ÂÖ±InternetÔºåËÄåIoTËÆæÂ§áÂàÜÂà´ËøûÊé•Âà∞LANÂíåWLANÊé•Âè£„ÄÇÊàë‰ª¨ÁöÑÊô∫ËÉΩÁéØÂ¢ÉÂÖ±Êúâ28‰∏™Áã¨ÁâπÁöÑÁâ©ËÅîÁΩëËÆæÂ§áÔºå‰ª£Ë°®‰∏çÂêåÁöÑÁ±ªÂà´‰ª•ÂèäÂá†‰∏™ÈùûÁâ©ËÅîÁΩëËÆæÂ§áÔºåÂú®ËøôÈáåÔºåÁâ©ËÅîÁΩëÊòØÊåáÁâπÂÆöÁî®ÈÄîÁöÑ‰∫íËÅîÁΩëËøûÊé•ËÆæÂ§áÔºà‰æãÂ¶ÇÊëÑÂÉèÊú∫ÂíåÁÉüÈõæ‰º†ÊÑüÂô®ÔºâÔºåËÄåÈÄöÁî®ËÆæÂ§áÔºà‰æãÂ¶ÇÁîµËØùÂíåÁ¨îËÆ∞Êú¨ÁîµËÑëÔºâÂ±û‰∫éÈùûÁâ©ËÅîÁΩëÁ±ªÂà´„ÄÇ Áâ©ËÅîÁΩëËÆæÂ§áÂåÖÊã¨ÊëÑÂÉèÂ§¥ÔºàNest DropcamÔºåSam-sung SmartCamÔºåNetatmo WelcomeÔºåBelkinÊëÑÂÉèÂ§¥ÔºåTP-LinkÊó•Â§ú‰∫ëÊëÑÂÉèÂ§¥ÔºåWithingsÊô∫ËÉΩÂ©¥ÂÑøÁõëËßÜÂô®ÔºåÈáë‰∏ùÈõÄÊëÑÂÉèÂ§¥ÔºåÂÖ´ÊúàÈó®ÈìÉÔºåÈìÉÈìõÈó®ÈìÉÔºâÔºåÂºÄÂÖ≥ÂíåËß¶ÂèëÂô®ÔºàiHomeÔºâ ÔºåTP-LinkÊô∫ËÉΩÊèíÂ§¥ÔºåBelkin WemoËøêÂä®‰º†ÊÑüÂô®ÔºåBelkin Wemo SwitchÔºâÔºåÈõÜÁ∫øÂô®ÔºàSmart ThingsÔºåAmazon EchoÔºâÔºåÁ©∫Ê∞îË¥®Èáè‰º†ÊÑüÂô®ÔºàNEST ProtectÁÉüÈõæÊä•Ë≠¶Âô®ÔºåNetatmoÊ∞îË±°Á´ôÔºåAwairÁ©∫Ê∞îË¥®ÈáèÁõëÊµãÂô®ÔºâÔºåÁîµÂ≠êËÆæÂ§áÔºàTribyÊâ¨Â£∞Âô®Ôºå PIXSTAR PhotoframeÔºåÊÉ†ÊôÆÊâìÂç∞Êú∫ÔºåHelloËä≠ÊØîÂ®ÉÂ®ÉÔºåË∞∑Ê≠åChromecastÔºâÔºåÂåªÁñóËÆæÂ§áÔºàÂ∏¶Êô∫ËÉΩÁß§ÔºåWithings AuraÊô∫ËÉΩÁù°Áú†‰º†ÊÑüÂô®ÔºåBlipcareË°ÄÂéãËÆ°ÔºâÂíåÁÅØÊ≥°ÔºàPhips HueÂíåLiFXÊô∫ËÉΩÁÅØÊ≥°Ôºâ„ÄÇ‰∏Ä‰∫õÈùûÁâ©ËÅîÁΩëËÆæÂ§á‰πüËøûÊé•Âà∞ÊµãËØïÂπ≥Âè∞ÔºåÂ¶ÇÁ¨îËÆ∞Êú¨ÁîµËÑëÔºåÊâãÊú∫ÂíåAndroidÂπ≥ÊùøÁîµËÑë„ÄÇÂπ≥ÊùøÁîµËÑëÁî®‰∫éÈÖçÁΩÆÂêÑ‰∏™ËÆæÂ§áÂà∂ÈÄ†ÂïÜÊé®ËçêÁöÑÁâ©ËÅîÁΩëËÆæÂ§á Ë∑üË∏™Êï∞ÊçÆ‰ΩøÁî®Âú®OpenWrt‰∏äËøêË°åÁöÑtcpdumpÂ∑•ÂÖ∑Êî∂ÈõÜLANÁ´ØÁöÑÊâÄÊúâÊµÅÈáè„ÄÇÂú®ÊµÅÈáèË∑üË∏™‰∏≠ÔºåÁâ©ÁêÜËÆæÂ§á‰∏éÂ∑≤Áü•MACÂú∞ÂùÄÔºàÁî±‰∫éÂ§Ñ‰∫éÂêå‰∏ÄLAN‰∏≠ÔºâÊàñIPÂú∞ÂùÄÔºàÂç≥Êó†NATÔºâ‰πãÈó¥ËøõË°å‰∏ÄÂØπ‰∏ÄÊò†Â∞ÑÈùûÂ∏∏ÈáçË¶Å„ÄÇÊçïËé∑LAN‰∏äÁöÑÊµÅÈáèÂÖÅËÆ∏Êàë‰ª¨‰ΩøÁî®MACÂú∞ÂùÄ‰Ωú‰∏∫ËÆæÂ§áÁöÑÊ†áËØÜÁ¨¶Ôºå‰ª•Â∞ÜÂÖ∂ÊµÅÈáè‰∏éÂåÖÊã¨ÁΩëÁªú‰∏≠ÁöÑËÆ∏Â§öÂÖ∂‰ªñËÆæÂ§áÁöÑÊµÅÈáèÊ∑∑ÂêàÈöîÁ¶ª„ÄÇÊàë‰ª¨ÂºÄÂèë‰∫Ü‰∏Ä‰∏™ËÑöÊú¨Êù•Ëá™Âä®ÂåñÊï∞ÊçÆÊî∂ÈõÜÂíåÂ≠òÂÇ®ËøáÁ®ã„ÄÇÁîüÊàêÁöÑË∑üË∏™‰Ωú‰∏∫pcapÊñá‰ª∂Â≠òÂÇ®Âú®ËøûÊé•Âà∞ÁΩëÂÖ≥ÁöÑ1 TBÂ≠òÂÇ®ÁöÑÂ§ñÈÉ®USBÁ°¨ÁõòÈ©±Âä®Âô®‰∏äÔºåÊ≠§ËÆæÁΩÆÂÖÅËÆ∏ËøûÁª≠Âá†‰∏™ÊúàËÆ∞ÂΩïÊµÅÈáè Êàë‰ª¨‰ªé2016Âπ¥10Êúà1Êó•Ëá≥2017Âπ¥4Êúà13Êó•ÂºÄÂßãÂú®Êô∫ËÉΩÁéØÂ¢É‰∏≠ËÆ∞ÂΩïÁΩëÁªúÊµÅÈáè‰∏∫Êúü26Âë®„ÄÇÂéüÂßãË∑üË∏™Êï∞ÊçÆÂåÖÂê´Êï∞ÊçÆÂåÖÊ†áÂ§¥ÂíåÊúâÊïàË¥üËΩΩ‰ø°ÊÅØÔºåÊï∞ÊçÆÊî∂ÈõÜÂíåÂ≠òÂÇ®ËøáÁ®ãÊØèÂ§©Âú®ÂΩìÂú∞Êó∂Èó¥ÂçàÂ§úÂºÄÂßãÔºå‰ΩøÁî®OpenWrt‰∏äÁöÑCron‰Ωú‰∏ö„ÄÇÊàë‰ª¨Âú®OpenWrt‰∏äÁºñÂÜô‰∫Ü‰∏Ä‰∏™ÁõëÊéßËÑöÊú¨Ôºå‰ª•Á°Æ‰øùÊï∞ÊçÆÊî∂ÈõÜ/Â≠òÂÇ®È°∫Âà©ËøõË°å„ÄÇËØ•ËÑöÊú¨‰ª•5ÁßíÁöÑÈó¥ÈöîÊ£ÄÊü•ÁΩëÂÖ≥‰∏äËøêË°åÁöÑËøõÁ®ã„ÄÇÂ¶ÇÊûúÊó•ÂøóËÆ∞ÂΩïËøáÁ®ãÊú™ËøêË°åÔºåÂàôËÑöÊú¨‰ºöÁ´ãÂç≥ÈáçÊñ∞ÂêØÂä®ÂÆÉÔºå‰ªéËÄåÂ∞Ü‰ªª‰ΩïÊï∞ÊçÆ‰∏¢Â§±‰∫ã‰ª∂ÈôêÂà∂‰∏∫‰ªÖ5Áßí„ÄÇ‰∏∫‰∫Ü‰ΩøË∑üË∏™Êï∞ÊçÆÂÖ¨ÂºÄÂèØÁî®ÔºåÊàë‰ª¨Âú®Â§ßÂ≠¶Êï∞ÊçÆ‰∏≠ÂøÉÁöÑËôöÊãüÊú∫ÔºàVMÔºâ‰∏äËÆæÁΩÆ‰∫ÜApacheÊúçÂä°Âô®ÔºåÂπ∂ÁºñÂÜô‰∫Ü‰∏Ä‰∏™ËÑöÊú¨ÔºåÁî®‰∫éÂÆöÊúüÂ∞ÜÂ≠òÂÇ®Âú®Á°¨ÁõòÈ©±Âä®Âô®‰∏äÁöÑÂâç‰∏ÄÂ§©ÁöÑË∑üË∏™Êï∞ÊçÆ‰º†ËæìÂà∞VM‰∏ä„ÄÇ ‰∏§Âë®ÁöÑË∑üË∏™Êï∞ÊçÆÂèØ‰ª•‰ªéhttp://iotanalytics.unsw.edu.au/‰∏ãËΩΩ„ÄÇÊØèÊó•Êó•ÂøóÁöÑÂ§ßÂ∞èÂú®61 MBÂà∞2 GB‰πãÈó¥ÂèòÂåñÔºåÂπ≥Âùá‰∏∫365 MB IoTÊµÅÈáèÁâπÂæÅÊàë‰ª¨Áé∞Âú®‰ΩøÁî®ÂØπ26‰∏™Áâ©ËÅîÁΩëËÆæÂ§áÁöÑÊµÅÈáèËøõË°åÊó†Ê∫êÊï∞ÊçÆÂåÖÁ∫ßÂàÜÊûêÔºåÂú®26Âë®ÂÜÖËøõË°åËßÇÂØüÔºåÊàë‰ª¨Á†îÁ©∂‰∫ÜÂπøÊ≥õÁöÑÁâ©ËÅîÁΩëÊµÅÈáèÁâπÊÄßÔºåÂåÖÊã¨Ê¥ªÂä®Ê®°ÂºèÔºà‰æãÂ¶ÇÊ¥ªÂä®/Áù°Áú†ÊúüÈó¥ÁöÑÈü≥Èáè/Êó∂Èó¥ÂàÜÂ∏ÉÔºâÂíå‰ø°‰ª§Ôºà‰æãÂ¶ÇÔºåËØ∑Ê±ÇÁöÑÂüüÂêçÔºå‰ΩøÁî®ÁöÑÊúçÂä°Âô®Á´ØÁ´ØÂè£Âè∑ÂíåTLSÊè°Êâã‰∫§Êç¢Ôºâ IotÊµÅÈáèÊûÑÊàêÔºö Áî±ËÆæÂ§áËá™‰∏ª‰∫ßÁîüÁöÑÊµÅÈáè - ‰æãÂ¶Ç‰∏çÂèó‰∫∫‰∏∫Âπ≤È¢ÑÂΩ±ÂìçÁöÑDNSÔºåNTPÁ≠â Áî±‰∫éÁî®Êà∑‰∏éËÆæÂ§á‰∫§‰∫íËÄå‰∫ßÁîüÁöÑÊµÅÈáè - ‰æãÂ¶ÇBelkin Wemo‰º†ÊÑüÂô®ÂìçÂ∫îÁßªÂä®Ê£ÄÊµãÔºåAmazon EchoÂìçÂ∫îÁî®Êà∑ÂèëÂá∫ÁöÑËØ≠Èü≥ÂëΩ‰ª§ÔºåLiFXÁÅØÊ≥°Ê†πÊçÆÁî®Êà∑Ë¶ÅÊ±ÇÊîπÂèòÈ¢úËâ≤ÂíåÂº∫Â∫¶ÔºåNetatmo WelcomeÁõ∏Êú∫Ê£ÄÊµãÂà∞Âç†Áî®ËÄÖÂπ∂ÊåáÁ§∫LiFXÁÅØÊ≥°ÊâìÂºÄÂπ∂ÂÖ∑‰ΩìÊòæÁ§∫È¢úËâ≤ÔºåÁ≠âÁ≠â„ÄÇ Êàë‰ª¨ÁöÑÊï∞ÊçÆÈõÜÂæàÂ•ΩÂú∞ÊçïËé∑‰∫ÜÊù•Ëá™‰ª£Ë°®ÁîüÊ¥ªÊô∫ËÉΩÁéØÂ¢ÉÁöÑÂÆûÈ™åÂÆ§ÁöÑËøô‰∏§ÁßçÁ±ªÂûãÁöÑÁâ©ËÅîÁΩëÊµÅÈáèÔºàÂç≥Ë¶ÜÁõñ‰∫∫Á±ªÂú®ÁéØÂ¢É‰∏≠Â≠òÂú®Êàñ‰∏çÂ≠òÂú®ÁöÑÊó∂ÊúüÔºâ„ÄÇ ‰∏∫‰∫ÜÊèê‰æõÊúâÂÖ≥Áâ©ËÅîÁΩëÊµÅÈáèÁâπÂæÅÁöÑËßÅËß£ÔºåÊàë‰ª¨Âú®Âõæ2‰∏≠ÊòæÁ§∫‰∫ÜAmazon EchoÂíåLiFXÁÅØÊ≥°Âú®24Â∞èÊó∂ÂÜÖÁúãÂà∞ÁöÑÁΩëÁªúÊµÅÈáèÁöÑÊ°ëËëöÂõæÔºåÈÄâÊã©Ëøô‰∫õËÆæÂ§á‰ªÖÁî®‰∫éËØ¥ÊòéÁõÆÁöÑÔºåÊØè‰∏™ÂõæÊèèÁªò‰∫ÜÁî±Áõ∏Â∫îËÆæÂ§áÁîüÊàêÁöÑÊµÅÁ∫ß‰ø°ÊÅØ„ÄÇÊµÅÈáèÂåÖÊã¨Ôºö ÂçïÊí≠ÊàñÂ§öÊí≠/ÂπøÊí≠ ÂèëÂæÄÊú¨Âú∞‰∏ªÊú∫ÔºàLANÔºâÊàñInternetÊúçÂä°Âô®ÔºàWAN ÁªëÂÆöÂà∞ÂçèËÆÆÔºàTCPÔºåUDPÔºåICMPÊàñIGMPÔºâÂíåÁ´ØÂè£Âè∑„ÄÇ Âõæ2Êèê‰æõ‰∫ÜÊèèÁªò‰∏§‰∏™ËÆæÂ§áÊâÄÂ±ïÁ§∫ÁöÑÊΩúÂú®ÊµÅÈáèÊ†áÂøóÁöÑËßÜËßâËæÖÂä©Ôºå‰æãÂ¶ÇÔºåAmazon EchoÂíåLiFXÁÅØÊ≥°ÈÉΩ‰ΩøÁî®DNSÔºàÁ´ØÂè£Âè∑53ÔºâÂíåNTPÔºàÁ´ØÂè£Âè∑123Ôºâ„ÄÇËôΩÁÑ∂Amazon Echo‰ΩøÁî®HTTPÔºàÁ´ØÂè£Âè∑80ÔºâÔºåHTTPSÔºàÁ´ØÂè£Âè∑443ÔºâÂíåICMPÔºàÁ´ØÂè£Âè∑0ÔºâÔºå‰ΩÜLiFXÁÅØÊ≥°‰∏ç‰ΩøÁî®‰ªª‰ΩïËøô‰∫õÂ∫îÁî®Á®ãÂ∫èÔºåÊ≠§Â§ñÔºåÊØè‰∏™ËÆæÂ§á‰ºº‰πé‰∏éWANÊúçÂä°Âô®‰∏äÁöÑÂîØ‰∏ÄÁ´ØÂè£Âè∑ÈÄö‰ø°;Áî®‰∫éAmazon EchoÁöÑTCP 33434ÂíåÁî®‰∫éLiFXÁÅØÊ≥°ÁöÑUDP 56700ÔºåÂ¶ÇÂõæ2ÔºàaÔºâÂíå2ÔºàbÔºâ‰∏≠ÁöÑÈ°∂ÈÉ®ÊµÅÁ®ãÊâÄÁ§∫„ÄÇÊúÄÂêéÔºåÊàë‰ª¨ËßÇÂØüÂà∞Amazon EchoËÆøÈóÆ‰∫ÜËÆ∏Â§öÂüüÂêçÔºåÂåÖÊã¨softwareupdates.amazon.comÔºådevice-metrics-su.amazon.comÔºåexample.orgÔºåpindorama.amazon.comÂíåpool.ntp.org„ÄÇÁÑ∂ËÄåÔºåLiFXÁÅØÊ≥°‰ªÖ‰∏é‰∏§‰∏™ÂüüÈÄö‰ø°ÔºåÂç≥v2.broker.lifx.coÂíåpool.ntp.org„ÄÇ IoTÊ¥ªÂä®ÂíåÂç∑Ê®°ÂºèÔºàÊöÇÊó∂ÂÖàËøô‰πàÁøªËØëÔºâÊàë‰ª¨‰ªéIoTËÆæÂ§áÁöÑÊ¥ªÂä®Ê®°ÂºèÂºÄÂßãÔºåËøô‰∫õÊ®°ÂºèÁî±ÂÖ∂ÊµÅÈáèÂ±ûÊÄßÂÆö‰πâÔºåÊàë‰ª¨Âú®ÊØè‰∏™ÊµÅÁ∫ßÂà´ÂÆö‰πâÂõõ‰∏™ÂÖ≥ÈîÆÂ±ûÊÄßÔºå‰ª•Ê†πÊçÆÂÖ∂ÁΩëÁªúÊ¥ªÂä®Êù•Ë°®ÂæÅÁâ©ËÅîÁΩëËÆæÂ§áÔºö ÊµÅÈáèÔºöÂç≥‰∏ãËΩΩÂíå‰∏ä‰º†Â≠óËäÇÁöÑÊÄªÂíå ÊµÅÊåÅÁª≠Êó∂Èó¥ÔºöÂç≥ÊµÅ‰∏≠Á¨¨‰∏Ä‰∏™ÂíåÊúÄÂêé‰∏Ä‰∏™Êï∞ÊçÆÂåÖ‰πãÈó¥ÁöÑÊó∂Èó¥ Âπ≥ÂùáÊµÅÈáèÔºöÂç≥ÊµÅÈáèÈô§‰ª•ÊµÅÈáèÊåÅÁª≠Êó∂Èó¥ ËÆæÂ§á‰ºëÁú†Êó∂Èó¥ÔºöÔºàÂç≥Áâ©ËÅîÁΩëËÆæÂ§áÊ≤°ÊúâÊ¥ªÂä®ÊµÅÁöÑÊó∂Èó¥Èó¥ÈöîÔºâ Êàë‰ª¨‰ΩøÁî®Âú®26Âë®ÂÜÖÊî∂ÈõÜÁöÑË∑üË∏™Êï∞ÊçÆÔºåÂú®Âõæ3‰∏≠ÁªòÂà∂‰∫Ü‰∏ÄÁªÑÈÄâÂÆöÁöÑIoTËÆæÂ§áÁöÑ‰∏äËø∞Âõõ‰∏™Â±ûÊÄßÁöÑÊ¶ÇÁéáÂàÜÂ∏ÉÔºå‰ªéÂõæ3a‰∏≠ÂèØ‰ª•ÁúãÂá∫ÊØè‰∏™Áâ©ËÅîÁΩëËÆæÂ§áÂÄæÂêë‰∫éÊØè‰∏™ÊµÅ‰∫§Êç¢Â∞ëÈáèÊï∞ÊçÆ„ÄÇÂØπ‰∫éLiFXÁÅØÊ≥°ÁöÑÊÉÖÂÜµÔºàÁî®Á∫¢Ëâ≤Êù°Ë°®Á§∫ÔºâÔºå26ÔºÖÁöÑÊµÅÈáèÂú®[130,140]Â≠óËäÇ‰πãÈó¥‰º†ËæìÔºå20ÔºÖÂú®[120,130]Â≠óËäÇ‰πãÈó¥‰º†ËæìÔºåBelkinËøêÂä®‰º†ÊÑüÂô®ÁöÑÊµÅÈáèÔºàÁî±ÁªøËâ≤Êù°Ë°®Á§∫ÔºâÁï•È´ò;Ë∂ÖËøá35ÔºÖÁöÑÊµÅÈáèÂú®[2800,3800]Â≠óËäÇ‰πãÈó¥‰º†Ëæì„ÄÇÂØπ‰∫éAmazon EchoÔºàÁî±ËìùÊù°Ë°®Á§∫ÔºâÔºåË∂ÖËøá95ÔºÖÁöÑÊµÅÈáè‰º†ËæìÂ∞ë‰∫é1000‰∏™Â≠óËäÇ„ÄÇËôΩÁÑ∂Êàë‰ª¨‰ªÖ‰∏∫Â∞ëÊï∞ËÆæÂ§áÊèê‰æõÊµÅÈáèÁõ¥ÊñπÂõæÔºå‰ΩÜÊàë‰ª¨ÁöÑÂ§ßÂ§öÊï∞Áâ©ËÅîÁΩëËÆæÂ§áÈÉΩÂëàÁé∞Âá∫Á±ª‰ººÁöÑÂèØÈ¢ÑÊµãÊ®°Âºè„ÄÇ ÊµÅÂä®ÊåÅÁª≠Êó∂Èó¥‰πüÂá∫Áé∞Á±ª‰ººÁöÑÊ®°Âºè„ÄÇÂèÇËÄÉÂõæ3ÔºàbÔºâÔºåÊàë‰ª¨Ê≥®ÊÑèÂà∞Amazon EchoÁöÑÊµÅÈáèÊåÅÁª≠Êó∂Èó¥‰∏∫53ÁßíÔºåÊµÅÈáèÊåÅÁª≠Êó∂Èó¥Ë∂ÖËøá40ÔºÖÔºåËÄåLiFXÁÅØÊ≥°ÂíåBelkinËøêÂä®‰º†ÊÑüÂô®ÁöÑÊåÅÁª≠Êó∂Èó¥‰∏∫60ÁßíÂàÜÂà´‰∏∫50ÔºÖÂíå21ÔºÖ„ÄÇÂØπ‰∫éÂπ≥ÂùáÊµÅÈÄüÂ±ûÊÄßÔºåÂõæ3ÔºàcÔºâÊòæÁ§∫Âπ≥ÂùáÈÄüÁéáÁõ∏ÂΩìÂ∞èÔºå‰ª•ÊØèÁßí‰ΩçÊï∞‰∏∫Âçï‰ΩçÔºåÂ¶ÇÂÆöÊÄßÈ¢ÑÊúü„ÄÇÂÆöÈáèÂú∞ÔºåËØ•ÂõæÊòæÁ§∫LiFXÁÅØÊ≥°ÁöÑÂπ≥ÂùáÊµÅÈÄü‰∏∫ÊØèÁßí18‰ΩçÔºåÊé•Ëøë60ÔºÖÁöÑÊó∂Èó¥„ÄÇËøë30ÔºÖÁöÑBelkinÊµÅÁöÑÊØîÁâπÁéáÂú®59Âà∞60ÊØîÁâπ/ÁßíÁöÑËåÉÂõ¥ÂÜÖÔºåËÄåËøë40ÔºÖÁöÑAmazon EchoÊµÅÁöÑÊØîÁâπÁéáÂú®70Âà∞71ÊØîÁâπÊØèÁßíÁöÑËåÉÂõ¥ÂÜÖ„ÄÇ ÊúÄÂêéÔºåÂ∞±ËÆæÂ§áÁöÑÁù°Áú†Êó∂Èó¥ËÄåË®ÄÔºåÂõæ3ÔºàdÔºâÊòæÁ§∫BelkinËøêÂä®‰º†ÊÑüÂô®ÂíåLiFXÁÅØÊ≥°Ë°®Áé∞Âá∫ÊòéÊòæÁöÑÁù°Áú†Ê®°ÂºèÔºåÊåÅÁª≠Êó∂Èó¥‰∏∫1ÁßíÂíå60ÁßíÔºåÊ¶ÇÁéáÂàÜÂà´‰∏∫73ÔºÖÂíå48ÔºÖ„ÄÇÁÑ∂ËÄåÔºåÂØπ‰∫éAmazon EchoÔºåËßÇÂØüÂà∞ÂÖ∑ÊúâÂ∞èÊ¶ÇÁéáÁöÑÂ§ö‰∏™Áù°Áú†Êó∂Èó¥„ÄÇËøôÊòØÂõ†‰∏∫Amazon Echo‰ΩøÂÖ∂TCPËøûÊé•‰øùÊåÅÊ¥ªÂä®Áä∂ÊÄÅÔºåÂπ∂‰∏îÂè™ÊúâÂú®Êñ≠ÂºÄInternetËøûÊé•Êó∂Êâç‰ºöËøõÂÖ•‰ºëÁú†Áä∂ÊÄÅ„ÄÇÊàë‰ª¨ÁöÑÊµãËØïÂè∞‰∏≠ÁöÑÂÖ∂‰ªñËÆæÂ§á‰πüË°®Áé∞ÂæóÂÉèEchoÔºåÂπ∂‰∏î‰ºº‰πéÊ≤°ÊúâÂç†‰∏ªÂØºÂú∞‰ΩçÁöÑÁù°Áú†Ê®°Âºè„ÄÇ IoT‰ø°‰ª§Ê®°ÂºèÊàë‰ª¨Áé∞Âú®ÂÖ≥Ê≥®Â∫îÁî®Â±ÇÂçèËÆÆÔºå‰ΩøÁî®Á´ØÂè£Âè∑Êé®Êñ≠ÔºåÁâ©ËÅîÁΩëËÆæÂ§á‰∏ªË¶ÅÁî®‰∫éÂú®LANÊú¨Âú∞Âíå/ÊàñÂ§ñÈÉ®‰∏éÂÖ¨ÂÖ±‰∫íËÅîÁΩë‰∏äÁöÑÊúçÂä°Âô®ËøõË°åÈÄö‰ø°. ÊúçÂä°Á´ØÂè£Âè∑Âõæ4ÊòæÁ§∫‰∫Ü‰ªéÂêÑÁßçIoTËÆæÂ§áÂèëËµ∑ÁöÑÊâÄÊúâÊµÅÁöÑÊúçÂä°Âô®Á´ØÁ´ØÂè£Âè∑ÁöÑÊñáÂ≠ó‰∫ë„ÄÇÂØπ‰∫éÊØè‰∏™ËÆæÂ§áÔºåÂ¶ÇÊûúÊõ¥È¢ëÁπÅÂú∞‰ΩøÁî®Á´ØÂè£ÔºåÂàôÂú®Áõ∏Â∫îÁöÑÂ≠ó‰∫ë‰∏≠‰ª•Êõ¥Â§ßÁöÑÂ≠ó‰ΩìÂ§ßÂ∞èÊòæÁ§∫ÂÆÉ„ÄÇÂ≠êÊ†áÈ¢òÔºàÂç≥{}ÂÜÖÁöÑÊï∞Â≠óÔºâÊä•ÂëäÊØè‰∏™ËÆæÂ§áÁöÑÂîØ‰∏ÄÊúçÂä°Âô®Á´ØÂè£Êï∞„ÄÇÂèØ‰ª•ÁúãÂá∫ÔºåIoTËÆæÂ§áÂêÑËá™‰∏éÂ∞ëÊï∞ÊúçÂä°Âô®Á´ØÂè£ÂîØ‰∏ÄÈÄö‰ø°ÔºåËÄåÈùûIoTËÆæÂ§á‰ΩøÁî®Êõ¥ÂπøÊ≥õÁöÑÊúçÂä°ÔºàÂç≥Âõæ4ÔºàhÔºâ‰∏≠ÊòæÁ§∫‰∫Ü2382‰∏™Áã¨ÁâπÁ´ØÂè£ÔºåÂÖ∂‰∏≠ËÆ∏Â§öÈùûÂ∏∏ÁΩïËßÅÔºâ „ÄÇÊàë‰ª¨ËßÇÂØüÂà∞ÈùûÊ†áÂáÜÁ´ØÂè£33434,56700,8883Âíå25050ÂàÜÂà´Âú®Ê∫êËá™Amazon EchoÔºåLiFXÁÅØÊ≥°ÔºåAwairÁ©∫Ê∞îË¥®ÈáèÁõëÊµãÂô®ÂíåNetatmoÊ∞îË±°Á´ôÁöÑÊµÅÈáè‰∏≠Á™ÅÂá∫ÊòæÁ§∫ÔºåÂ¶ÇÂõæ4ÁöÑÈ°∂Ë°åÊâÄÁ§∫„ÄÇÊ≠§Â§ñÔºåÊàë‰ª¨Ê≥®ÊÑèÂà∞Êù•Ëá™Âêå‰∏ÄÂà∂ÈÄ†ÂïÜÁöÑËÆæÂ§áÂÖ±‰∫´Êüê‰∫õÁ´ØÂè£Ôºå‰æãÂ¶ÇÔºåÁ´ØÂè£Âè∑8443Âíå3478Âú®BelkinÁöÑËøêÂä®‰º†ÊÑüÂô®ÔºåÁîµÊ∫êÂºÄÂÖ≥ÂíåÁõ∏Êú∫‰πãÈó¥ÊòØÂ∏∏ËßÅÁöÑÔºåÂ¶ÇÂõæ4ÔºàeÔºâ-4ÔºàgÔºâÊâÄÁ§∫„ÄÇÊàë‰ª¨‰πüÊ≥®ÊÑèÂà∞Ôºå‰ºóÊâÄÂë®Áü•ÁöÑÊ†áÂáÜÁ´ØÂè£Âè∑ÔºàÂ¶Ç53ÔºàDNSÔºâÔºå123ÔºàNTPÔºâÔºå0ÔºàICMPÔºâÂíå1900ÔºàSSDPÔºâÔºâË¢´ËÆ∏Â§öÁâ©ËÅîÁΩëËÆæÂ§á‰ª•ÂèäÂÖ∑ÊúâÂêÑÁßçÈ¢ëÁéáÁöÑÈùûÁâ©ËÅîÁΩë‰ΩøÁî®ÔºåÂ¶ÇÂõæÊâÄÁ§∫Âú®Âõæ4‰∏≠„ÄÇÊ≠§Â§ñÔºåËÆ∏Â§öÁâ©ËÅîÁΩëËÆæÂ§á‰πü‰ΩøÁî®ÊúçÂä°Âô®Á´ØÁ´ØÂè£Âè∑443ÔºàTLS / SSLÔºâ„ÄÇ DNSÊü•ËØ¢DNSÊòØÂá†‰πéÊâÄÊúâËÅîÁΩëËÆæÂ§á‰ΩøÁî®ÁöÑÂ∏∏ËßÅÂ∫îÁî®Á®ãÂ∫è„ÄÇÁî±‰∫éÁâ©ËÅîÁΩëËÆæÂ§áÊòØ‰∏∫ÁâπÂÆöÁõÆÁöÑËÄåÂÆöÂà∂ËÆæËÆ°ÁöÑÔºåÂõ†Ê≠§ÂÆÉ‰ª¨ËÆøÈóÆ‰∏éÂÖ∂‰æõÂ∫îÂïÜÁâπÂÆöÁöÑÁ´ØÁÇπÊúçÂä°Âô®Áõ∏ÂØπÂ∫îÁöÑÊúâÈôêÊï∞ÈáèÁöÑÂüüÔºåÊàë‰ª¨Âú®Âõæ5‰∏≠ÁªòÂà∂‰∫ÜÁî±Âá†‰∏™IoTËÆæÂ§á‰ª•ÂèäÈùûIoTËÆøÈóÆÁöÑÂüüÂêçÁöÑËØç‰∫ë ÂèØ‰ª•ÁúãÂá∫ÔºåIoTËÆæÂ§áÂèØ‰ª•ÈÄöËøáÂÆÉ‰ª¨‰∏é‰πãÈÄö‰ø°ÁöÑÂüüÂêçËøõË°åÁõ∏ÂΩìÂå∫ÂàÜÔºå‰æãÂ¶ÇÔºåÂ¶ÇÂõæ5ÔºàaÔºâ-5ÔºàcÔºâÊâÄÁ§∫ÔºåAmazon EchoÁªèÂ∏∏ËØ∑Ê±ÇËØ∏Â¶Çexample.comÔºåexample.netÂíåexample.org‰πãÁ±ªÁöÑÂüü„ÄÇhp.comÂíåhpeprint.comÁöÑÂ≠êÂüüÂú®HPÊâìÂç∞Êú∫ÁöÑDNSÊü•ËØ¢‰∏≠ÂèØËßÅ„ÄÇ‰ΩÜÊòØÔºåÊàë‰ª¨‰πüÁúãÂà∞‰∏Ä‰∫õÁùÄÂêçÁöÑÂüüÂêçÂú®‰∏çÂêåÁöÑËÆæÂ§á‰πãÈó¥ÂÖ±‰∫´„ÄÇ‰æãÂ¶ÇÔºåbelkin.comÂíåd3gjecg2uu2faq.cloudfront.netÈÄöÂ∏∏Ë¢´BelkinËÆæÂ§áÔºàÂç≥ÊëÑÂÉèÊú∫ÔºåËøêÂä®‰º†ÊÑüÂô®ÂíåÁîµÊ∫êÂºÄÂÖ≥Ôºâ‰ΩøÁî®ÔºåÂ¶ÇÂõæ5ÔºàdÔºâ-5ÔºàfÔºâÊâÄÁ§∫„ÄÇÊàñËÄÖpool.ntp.orgÂú®Google DropcamÔºåAwairÁ©∫Ê∞îË¥®ÈáèÁõëÊµãÂô®ÂíåLiFXÁÅØÊ≥°‰∫ßÁîüÁöÑ‰∫§ÈÄöÊµÅÈáèÊñπÈù¢ÈùûÂ∏∏Á™ÅÂá∫ÔºåÂ¶ÇÂõæ5ÔºàbÔºâ-5ÔºàhÔºâÊâÄÁ§∫ÔºåÂÜçÊ¨°ËÄÉËôëÂõæ5ÔºàiÔºâ‰∏≠ÁöÑÈùûIoTÔºåÊàë‰ª¨ÁúãÂà∞Â§ßÁ∫¶12000‰∏™ËÆøÈóÆËøáÁöÑÂîØ‰∏ÄÂüüÔºå‰∏éIoTËÆæÂ§áÁõ∏ÊØîÔºåÂÖ∂‰∏≠Âè™ÊúâÂ∞ëÊï∞ÂüüË¢´ÈáçÂ§çËÆøÈóÆ„ÄÇ Êàë‰ª¨ËøòÂèëÁé∞IoTËÆæÂ§áÂú®‰ΩøÁî®DNSÂçèËÆÆÁöÑÈ¢ëÁéáÊñπÈù¢Â≠òÂú®Â∑ÆÂºÇÔºåÊàë‰ª¨‰ªéÊµÅÈáèË∑üË∏™‰∏≠ËßÇÂØüÂà∞Áâ©ËÅîÁΩëËÆæÂ§áÂú®ÂÖ∂ËøêË°åÁöÑ‰∏çÂêåÈò∂ÊÆµÁîüÊàêDNSÊü•ËØ¢;‰æãÂ¶ÇÔºå‰ªÖÂú®ÂêØÂä®Èò∂ÊÆµÔºà‰æãÂ¶ÇGoogle DropcampÔºâÊàñ‰∏éÁî®Êà∑Ôºà‰æãÂ¶ÇHello BarbieÔºâ‰∫§‰∫íÊó∂ÊàñÂÆöÊúüÔºà‰æãÂ¶ÇAmazon EchoÔºâÂ¶ÇÂõæ6ÊâÄÁ§∫ÔºåÊüê‰∫õIoTËÆæÂ§áÂú®ÂÖ∂DNSÊü•ËØ¢ÁöÑÈ¢ëÁéá‰∏≠Ë°®Áé∞Âá∫ÁâπÂæÅÁ≠æÂêç„ÄÇ LiFXÁÅØÊ≥°ÂíåAmazon EchoÈùûÂ∏∏È¢ëÁπÅÂú∞ÂèëÈÄÅDNSÊü•ËØ¢ÔºàÂç≥ÊØè5ÂàÜÈíüÔºâÔºå‰ΩÜÂÉèBelkinËøêÂä®‰º†ÊÑüÂô®ËøôÊ†∑ÁöÑËÆæÂ§áÊØè30ÂàÜÈíüÂè™ËØ∑Ê±Ç‰∏ÄÊ¨°ÂüüÂêç„ÄÇ NTPÊü•ËØ¢Â¶ÇÂâçÊâÄËø∞ÔºåNTPÊòØÁâ©ËÅîÁΩëËÆæÂ§á‰ΩøÁî®ÁöÑÂè¶‰∏ÄÁßçÊµÅË°åÂçèËÆÆÔºåÂõ†‰∏∫Á≤æÁ°ÆÂíåÂèØÈ™åËØÅÁöÑÊó∂Â∫èÂØπ‰∫éÁâ©ËÅîÁΩëÊìç‰ΩúËá≥ÂÖ≥ÈáçË¶Å„ÄÇËÆ∏Â§öÁâ©ËÅîÁΩëËÆæÂ§áÂÄæÂêë‰∫é‰ª•Âë®ÊúüÊÄßÊñπÂºè‰ΩøÁî®NTPÂçèËÆÆÔºàUDPÁ´ØÂè£123ÔºâÔºå‰ª•‰æøÂ∞ÜÂÆÉ‰ª¨ÁöÑÊó∂Èó¥‰∏éÂÖ¨ÂÖ±ÂèØÁî®ÁöÑNTPÊúçÂä°Âô®ÂêåÊ≠•„ÄÇ‰æãÂ¶ÇÔºåAwairÁ©∫Ê∞îË¥®ÈáèÁõëÊµãÂô®ÔºåLiFXÁÅØÊ≥°ÂíåGoogle Dropcam‰ªépool.ntp.orgËé∑ÂèñÊó∂Èó¥ÊúçÂä°Âô®ÁöÑIPÂú∞ÂùÄ„ÄÇÊàë‰ª¨ËøòÂèëÁé∞Êó∂Èó¥ÂêåÊ≠•Âú®Êàë‰ª¨ÁöÑÊµãËØïÂè∞‰∏≠ÂèçÂ§çÂá∫Áé∞ÔºåÂπ∂‰∏îËÆ∏Â§öÁâ©ËÅîÁΩëËÆæÂ§áÂú®‰ΩøÁî®NTPÊó∂Ë°®Áé∞Âá∫ÂèØËØÜÂà´ÁöÑÊ®°Âºè„ÄÇ‰æãÂ¶ÇÔºåBelkinÁîµÊ∫êÂºÄÂÖ≥ÔºåLiFXÁÅØÊ≥°ÂíåSmartThingsÈõÜÁ∫øÂô®ÂàÜÂà´ÊØèÈöî60,300Âíå600ÁßíÂèëÈÄÅNTPËØ∑Ê±ÇÔºåÂ¶ÇÂõæ7ÁöÑÁõ¥ÊñπÂõæÊâÄÁ§∫„ÄÇ ÂØÜÁ†ÅÂ•ó‰ª∂ËÆ∏Â§öÁâ©ËÅîÁΩëËÆæÂ§á‰ΩøÁî®TLS / SSLÂçèËÆÆÔºàÁ´ØÂè£Âè∑443Ôºâ‰∏éInternet‰∏ä ÂêÑËá™ÁöÑÊúçÂä°Âô®ËøõË°åÈÄö‰ø°Ôºå‰∏∫‰∫ÜÂêØÂä®TLSËøûÊé•Âπ∂‰∏éÊúçÂä°Âô®ÂçèÂïÜÂÆâÂÖ®ÁÆóÊ≥ïÔºåËÆæÂ§áÈÄöËøáÂèëÈÄÅ‚ÄúÂÆ¢Êà∑Á´ØHello‚ÄùÊï∞ÊçÆÂåÖÂºÄÂßãÊè°ÊâãÔºåËØ•Êï∞ÊçÆÂåÖÂÖ∑ÊúâÂèØ‰ª•ÊîØÊåÅÁöÑ‚ÄúÂØÜÁ†ÅÂ•ó‰ª∂‚ÄùÂàóË°®ÔºåÊåâÂÖ∂‰ºòÂÖàÈ°∫Â∫èÊéíÂàó„ÄÇ‰æãÂ¶ÇÔºåÂõæ8ÔºàaÔºâÂíå8ÔºàbÔºâÊèèÁªò‰∫ÜAmazon EchoÂêë‰∏§‰∏™‰∏çÂêåÁöÑAmazonÊúçÂä°Âô®Êèê‰æõÁöÑÂØÜÁ†ÅÂ•ó‰ª∂„ÄÇÊØè‰∏™ÂØÜÁ†ÅÂ•ó‰ª∂ÔºàÂç≥4‰Ωç‰ª£Á†ÅÔºâÂèØ‰ª•ÈááÁî®380‰∏™ÂèØËÉΩÂÄº‰∏≠ÁöÑ‰∏Ä‰∏™ÔºåÂπ∂Ë°®Á§∫ÂØÜÈí•‰∫§Êç¢ÔºåÊâπÈáèÂä†ÂØÜÂíåÊ∂àÊÅØËÆ§ËØÅÁ†ÅÔºàMACÔºâÁöÑÁÆóÊ≥ï ‰æãÂ¶ÇÔºåÁî±AmazonÊúçÂä°Âô®ÂçèÂïÜÁöÑÂØÜÁ†Å002fÂàÜÂà´‰ΩøÁî®RSAÔºåAES 128 CBCÂíåSHAÂçèËÆÆËøõË°åÂØÜÈí•‰∫§Êç¢ÔºåÊâπÈáèÂä†ÂØÜÂíåÊ∂àÊÅØËÆ§ËØÅ„ÄÇ Âú®Êàë‰ª¨ÁöÑËÆæÁΩÆ‰∏≠ÔºåÊàë‰ª¨ÂèëÁé∞28‰∏™IoTËÆæÂ§á‰∏≠Êúâ17‰∏™ÔºåÂåÖÊã¨Amazon EchoÔºåAugust Doorbell CamÔºåAwairÁ©∫Ê∞îË¥®ÈáèÁõëËßÜÂô®ÔºåBelkinÁõ∏Êú∫ÔºåCanaryÁõ∏Êú∫ÔºåDrop-camÔºåGoogle ChromecastÔºåHello BarbieÔºåHP ENVYÊâìÂç∞Êú∫,iHomeÔºåNetatmoÊ¨¢ËøéÁõ∏Êú∫ÔºåÈ£ûÂà©Êµ¶HueÁÅØÊ≥°ÔºåÁöÆÂÖãÊñØÁõ∏Ê°ÜÔºåRing DoorbellÔºåTrilbyÔºåWithings AuraÊô∫ËÉΩÁù°Áú†‰º†ÊÑüÂô®ÂíåWithings ScaleÔºå‰ΩøÁî®TLS / SSLËøõË°åÈÄö‰ø°.Êàë‰ª¨ÂèëÁé∞ÔºåÂΩìÂ∞ÜSSL‰º†ÈÄÅÂà∞‰∏çÂêåÁöÑÊúçÂä°Âô®Êó∂ÔºåAmazon EchoÊÄªÂÖ±‰ΩøÁî®‰∫î‰∏™‰∏çÂêåÁöÑÂØÜÁ†ÅÂ•ó‰ª∂Â≠óÁ¨¶‰∏≤ÔºåTribyÊâ¨Â£∞Âô®‰ΩøÁî®‰∏§‰∏™Â≠óÁ¨¶‰∏≤ÔºåËÄåPixtarÁõ∏Ê°Ü‰ªÖ‰ΩøÁî®‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ËøõË°åÊâÄÊúâSSLÈÄö‰ø°„ÄÇ Êàë‰ª¨Â∞ÜÂõæ9‰∏≠Ëøô‰∏â‰∏™ËÆæÂ§áÁöÑÂîØ‰∏ÄÂØÜÁ†ÅÂ•ó‰ª∂Â≠óÁ¨¶‰∏≤ÁªòÂà∂‰∏∫Á¶ªÊï£‰ø°Âè∑ÔºöxËΩ¥ÊòØÂá∫Áé∞Âú®Êèê‰æõÁöÑÂ•ó‰ª∂‰∏≠ÁöÑ4‰ΩçÂØÜÁ†ÅÁöÑÈ°∫Â∫èÔºåyËΩ¥ÊòØÂêÑ‰∏™ÂØÜÁ†ÅÁöÑÁ¥¢ÂºïÔºàÂç≥Êù•Ëá™{1,2Ôºå‚Ä¶Ôºå380}ÁöÑÂÄº„ÄÇ ÂèØ‰ª•ÁúãÂá∫ÔºåÂØÜÁ†ÅÂ•ó‰ª∂‰ø°Âè∑ÁöÑÈõÜÂêà‰∏∫ÊØè‰∏™IoTËÆæÂ§áÂèëÂá∫‰∫ÜÂîØ‰∏ÄÁöÑÁ≠æÂêç„ÄÇÂú®ÁâπÊÆäÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÂèëÁé∞Pixtar photoframe‰∏é8‰∏™Èó®ÈìÉ‰ΩøÁî®ÁöÑ18‰∏™Â•ó‰ª∂‰∏≠ÁöÑ‰∏Ä‰∏™ÂÖ±‰∫´ÂÖ∂Âçï‰∏™ÂØÜÁ†ÅÂ•ó‰ª∂ - Êàë‰ª¨Â∞ÜÂú®¬ß5.2‰∏≠ÁúãÂà∞Ôºå‰ªÖ‰æùÈù†ÂØÜÁ†ÅÂ•ó‰ª∂Â±ûÊÄßÂ∞ÜÊó†Ê≥ïÊúâÊïàÂú∞ÂØπPixtarÁõ∏Ê°ÜÊµÅÈáèËøõË°åÂàÜÁ±ª.. ÁÑ∂ËÄåÔºåÊúâËÆ∏Â§öËÆæÂ§áÂæàÂ∞ë‰∫§Êç¢ÂØÜÁ†ÅÂ•ó‰ª∂ÔºåËÄåÊòØÂ∏åÊúõÈïøÊó∂Èó¥‰øùÊåÅÂÖ∂TLSËøûÊé•Â≠òÊ¥ª„ÄÇ‰æãÂ¶ÇÔºåGoogle DropcamÂú®ÂêØÂä®Êó∂Âª∫Á´ã‰∏éÂÖ∂Ëá™Ë∫´ÊúçÂä°Âô®ÁöÑTLSËøûÊé•ÔºåÂπ∂‰∏îÂè™Ë¶ÅÂÆÉÂÖ∑ÊúâÁΩëÁªúËøûÊé•Â∞±Áª¥ÊåÅÊ≠§ËøûÊé•ÔºåËÄåAmazon EchoÂíåPixstarÁÖßÁõ∏Ê°ÜÊØèÂ∞èÊó∂ÂàÜÂà´ÂêØÂä®Âπ≥Âùá1Âíå2‰∏™TLSËøûÊé•„ÄÇ ÊÄªÁªìÔºöÂú®Êú¨ËäÇ‰∏≠ÔºåÊàë‰ª¨Ê†πÊçÆÁâ©ËÅîÁΩëËÆæÂ§áÁöÑÂü∫Á°ÄÁΩëÁªúÊµÅÈáèÁâπÂæÅÁ°ÆÂÆö‰∫Ü8‰∏™ÂÖ≥ÈîÆÂ±ûÊÄß„ÄÇÂÆÉ‰ª¨ÊòØÊµÅÈáèÔºåÊµÅÈáèÊåÅÁª≠Êó∂Èó¥ÔºåÂπ≥ÂùáÊµÅÈáèÔºåËÆæÂ§á‰ºëÁú†Êó∂Èó¥ÔºåÊúçÂä°Âô®Á´ØÂè£Âè∑ÔºåDNSÊü•ËØ¢ÔºåNTPÊü•ËØ¢ÂíåÂØÜÁ†ÅÂ•ó‰ª∂„ÄÇËôΩÁÑ∂ÂèØ‰ª•ÈÄöËøá‰ªÖËÄÉËôë‰∏Ä‰∏™Êàñ‰∏§‰∏™ÊµÅÈáèÂ±ûÊÄßÔºà‰æãÂ¶ÇÂüüÂêçÔºåÁ´ØÂè£Âè∑ÊàñÂØÜÁ†ÅÂ•ó‰ª∂ÂàóË°®ÔºâÊù•ÂîØ‰∏ÄÂú∞ËØÜÂà´Êüê‰∫õËÆæÂ§áÔºà‰æãÂ¶ÇÔºåAmazon EchoÊàñLiFXÁÅØÊ≥°ÔºâÔºå‰ΩÜËøô‰∫õËÆæÂ§áÈÉΩÂ≠òÂú®ÊåëÊàò„ÄÇ‰æãÂ¶ÇÔºåÂú®ÊµÅÈáè‰∏≠ÂæàÂ∞ëËßÇÂØüÂà∞ËØ∏Â¶ÇÂØÜÁ†ÅÂ•ó‰ª∂ÂàóË°®‰πãÁ±ªÁöÑÂº∫Â±ûÊÄßÔºà‰æãÂ¶ÇÔºåÊØèÂ§©‰ªÖ‰∏ÄÊ¨°Ôºâ„ÄÇ‰Ωú‰∏∫Âè¶‰∏ÄÁ§∫‰æãÔºåÊù•Ëá™Áõ∏Âêå‰æõÂ∫îÂïÜÁöÑ‰∏çÂêåÁ±ªÂûãÁöÑËÆæÂ§áËÆøÈóÆÁ±ª‰ººÁöÑÂüüÂπ∂‰ΩøÁî®Áõ∏ÂêåÁöÑÁ´ØÂè£Âè∑Êù•ËÆøÈóÆ‰∫ëÊúçÂä°Âô®„ÄÇÊçïËé∑ËØ∏Â¶ÇËøô‰∫õÂ±ûÊÄßÁöÑÂá∫Áé∞Ê¨°Êï∞Ôºà‰æãÂ¶ÇÔºåËÆøÈóÆÂüüÁöÑÊ¨°Êï∞Êàñ‰ΩøÁî®ËØ•Á´ØÂè£ÁöÑÊµÅÁöÑÊï∞ÈáèÔºâÁ≠âÊñπÈù¢ÔºåÁªìÂêàÂÖ∂‰ªñÂ±ûÊÄßÔºåÊûÅÂ§ßÂú∞ÊèêÈ´ò‰∫ÜÂå∫ÂàÜÊù•Ëá™Âêå‰∏ÄÂà∂ÈÄ†ÂïÜÁöÑËÆæÂ§áÁöÑÈ¢ÑÊµãËÉΩÂäõ„ÄÇÂú®‰∏ã‰∏ÄËäÇ‰∏≠ÔºåÊàë‰ª¨Â∞Ü‰ΩøÁî®Ëøô‰∫õÂ±ûÊÄßÁöÑÁªÑÂêàÂºÄÂèëÂü∫‰∫éÂ§öÈò∂ÊÆµÊú∫Âô®Â≠¶‰π†ÁöÑÁÆóÊ≥ïÔºå‰ª•Â∏ÆÂä©È´òÁ≤æÂ∫¶Âú∞ÂØπÁâ©ËÅîÁΩëËÆæÂ§áËøõË°åÂàÜÁ±ª„ÄÇ Âü∫‰∫éÂàÜÁ±ªÊ®°ÂûãÁöÑÊú∫Âô®Â≠¶‰π†‰∏∫‰∫Ü‰ªéÊàë‰ª¨ÁöÑË∑üË∏™Êï∞ÊçÆÂêàÊàêÂ±ûÊÄßÔºåÊàë‰ª¨È¶ñÂÖà‰ΩøÁî®JoyÂ∑•ÂÖ∑Â∞ÜÂéüÂßãpcapÊñá‰ª∂ËΩ¨Êç¢‰∏∫ÊØèÂ∞èÊó∂ÊµÅÈáè,ÁÑ∂ÂêéÔºåÂØπ‰∫éÁªôÂÆöÁöÑIoTËÆæÂ§áÔºåÊàë‰ª¨ËÆ°ÁÆó‰∏ä‰∏ÄËäÇ‰∏≠ÈíàÂØπÊØèÂ∞èÊó∂ÂÆû‰æãÂÆö‰πâÁöÑÊµÅÈáèÊ¥ªÂä®Âíå‰ø°‰ª§Â±ûÊÄß„ÄÇ‰ªéË∑®Ë∂ä26Âë®ÁöÑË∑üË∏™‰∏≠Ëé∑ÂæóÁöÑÊØè‰∏™ËÆæÂ§áÁöÑÂÆû‰æãÊï∞ÂèñÂÜ≥‰∫éËØ∏Â¶ÇËÆæÂ§áÂú®Á∫øÁöÑÊåÅÁª≠Êó∂Èó¥ÊàñËÆæÂ§áÂ¶Ç‰ΩïÁîüÊàêÊµÅÈáèÔºàËá™‰∏ªÊàñ‰∫§‰∫íÂºèÔºâÁ≠âÂõ†Á¥†,‰æãÂ¶ÇÔºåBlipcare BPÁõëËßÜÂô®Âè™Êúâ13‰∏™Â∞èÊó∂ÂÆû‰æãÔºåÂõ†‰∏∫ÂÆÉ‰ªÖÂú®Áî®Êà∑‰ΩøÁî®ËÆæÂ§áÊó∂ÊâçÁîüÊàêÊµÅÈáè„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÊàë‰ª¨‰∏∫Google DropcamÊî∂ÈõÜ‰∫Ü4177‰∏™ÂÆû‰æã Â§öÁ∫ßËÆæÂ§áÂàÜÁ±ªÊû∂ÊûÑÊàë‰ª¨Ê≥®ÊÑèÂà∞Êàë‰ª¨ÁöÑ‰∏â‰∏™Â±ûÊÄßÔºåÂç≥‚ÄúÂüüÂêçÈõÜ‚ÄùÔºå‚ÄúËøúÁ®ãÁ´ØÂè£Âè∑ÈõÜ‚ÄùÂíå‚ÄúÂØÜÁ†ÅÂ•ó‰ª∂ÈõÜ‚ÄùÊòØÂêç‰πâ‰∏äÁöÑÔºàÂç≥‰∏çË¢´ËßÜ‰∏∫Êï∞ÂÄºÔºâÂíåÂ§öÂÄºÔºà‰æãÂ¶ÇÔºå{‚Äú 53‚ÄúÔºö3Ôºå‚Äù123‚ÄúÔºö1Ôºå‚Äù443‚ÄúÔºö2}Ë°®Á§∫‰∏ÄÁªÑËøúÁ®ãÁ´ØÂè£Âè∑ÔºåÂÖ∂‰∏≠‰∏â‰∏™Âá∫Áé∞Á´ØÂè£Âè∑53Ôºå‰∏§Ê¨°Âá∫Áé∞Á´ØÂè£123Ôºå‰∏ÄÊ¨°Âá∫Áé∞Á´ØÂè£Âè∑443Ôºâ„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨‰∏∫IoTÂàÜÁ±ªÂô®ÈááÁî®‰∫Ü‰∏§Èò∂ÊÆµÂàÜÂ±ÇÊû∂ÊûÑÔºåÂ¶ÇÂõæ10ÊâÄÁ§∫„ÄÇ Èô§‰∫ÜËøô‰∫õÁã¨ÁâπÁöÑÂçïËØç‰πãÂ§ñÔºåÊàë‰ª¨Â∞ÜÈùûIoTËÆæÂ§áÁöÑÊâÄÊúâÁõ∏Â∫îÂçïËØçËÅöÂêà‰∏∫‚ÄúÂÖ∂‰ªñ‚Äù - ÊØè‰∏™Stage-0Áü©Èòµ‰∏≠Áß∞‰∏∫‚ÄúÂÖ∂‰ªñ‚ÄùÁöÑÂàóË°®Á§∫Âú®IoTÊµÅÈáè‰∏≠Êú™ÁúãÂà∞ÁöÑÂçïËØç„ÄÇËØ•Áü©ÈòµÁöÑÊØè‰∏™ÂçïÂÖÉÊ†ºÊòØÁªôÂÆöÂÆû‰æã‰∏≠ËøôÁßçÂîØ‰∏ÄÂçïËØçÁöÑÂá∫Áé∞Ê¨°Êï∞„ÄÇÂ¶ÇÂõæ10ÊâÄÁ§∫ÔºåÈò∂ÊÆµ0ÁöÑÊØè‰∏™ÂàÜÁ±ªÂô®‰∫ßÁîü‰∏§‰∏™ËæìÂá∫ÔºåÂç≥ÊöÇÂÆöÁ±ªÂíåÁΩÆ‰ø°Ê∞¥Âπ≥ÔºåÂÖ∂‰∏éÂÖ∂‰ªñÂçïÂÄºÂÆöÈáèÂ±ûÊÄßÔºàÂç≥ÊµÅÈáèÔºåÊåÅÁª≠Êó∂Èó¥ÔºåÈÄüÁéáÔºåÁù°Áú†Êó∂Èó¥ÔºåDNSÔºåNTPÔºâ‰∏ÄËµ∑ÔºàÔºâÈó¥ÈöîÔºâË¢´ÈÄÅÂÖ•Stage-1ÂàÜÁ±ªÂô®Ôºå‰∫ßÁîüÊúÄÁªàËæìÂá∫ÔºàÂç≥ËÆæÂ§áËØÜÂà´ÂÖ∑ÊúâÁΩÆ‰ø°Ê∞¥Âπ≥Ôºâ„ÄÇ Á¨¨0Á∫ß-Â≠óË¢ãÂàÜÁ±ªÂô®Êàë‰ª¨‰ΩøÁî®Êú¥Á¥†Ë¥ùÂè∂ÊñØÂ§öÂàÜÁ±ªÂô®Êù•ÂàÜÊûêÊàë‰ª¨Êú∫Âô®ÁöÑÁ¨¨0Èò∂ÊÆµ‰∏≠ÁöÑÊØè‰∏™ÂçïËØçÂåÖ„ÄÇÂ∑≤ÁªèË°®Êòé[35]ÔºåÂΩìÂ§ÑÁêÜÂ§ßÈáèÁã¨ÁâπÂçïËØçÊó∂ÔºåËØ•ÂàÜÁ±ªÂô®Âú®ÊñáÊú¨ÂàÜÁ±ª‰∏≠Ë°®Áé∞ËâØÂ•Ω„ÄÇÂú®ËÆ≠ÁªÉÈò∂ÊÆµÔºåÂàÜÁ±ªÂô®ÈááÁî®ÂçïËØçÁöÑÂàÜÂ∏ÉÔºå‰æãÂ¶Ç‰∏™‰∫∫Áã¨ÁâπÁöÑÂüüÂêçÔºåÂπ∂‰ΩøÁî®‰ª•‰∏ãÊñπÊ≥ïËÆ°ÁÆóÁªôÂÆöËØæÁ®ãÁöÑÊØè‰∏™ÂçïËØçÁöÑÊ¶ÇÁéáÔºö ÂÖ∂‰∏≠wjÊòØËÆ≠ÁªÉÊï∞ÊçÆÈõÜ‰∏≠ÁöÑÂîØ‰∏ÄÂçïËØçÔºà‰æãÂ¶ÇÔºåÁ´ØÂè£Âè∑56700Ôºâ; ciÊòØÁ±ªÂà´Ê†áÁ≠æÔºà‰æãÂ¶ÇLiFXÁÅØÊ≥°Ôºâ; DÊòØÊâÄÊúâÂÆû‰æãÁöÑÊï∞Èáè„ÄÇ$n_l,c_i,w_j^{train}$ÊòØÁ±ªÊ†áÁ≠æ‰∏∫ciÁöÑÊØè‰∏™ÂÆû‰æã‰∏≠ÁöÑwjÂá∫Áé∞Ê¨°Êï∞ÔºåNÊòØÂîØ‰∏ÄÂ≠óÁöÑÊÄªÊï∞Ôºà‰æãÂ¶ÇÔºåÊàë‰ª¨ÁöÑÊï∞ÊçÆÈõÜ‰∏≠ÊúâN = 421‰∏™ÂîØ‰∏ÄÁ´ØÂè£Âè∑ÔºåÂú®ÊµãËØïÈò∂ÊÆµÔºåÂàÜÁ±ªÂô®ÈúÄË¶Å‰∏∫ÊâÄÊúâÂèØËÉΩÁöÑÁ±ªËÆ°ÁÆó‰ª•‰∏ãÊ¶ÇÁéáÔºö ÂÖ∂‰∏≠$W^{test}$Ë°®Á§∫${w_1:n_1^{test},w_2:n_2^{test},‚Ä¶,w_N:n_N^{test}}$ÔºõËÄå$n_j^{test}$ÊòØwjÂú®‰∏Ä‰∏™ÊµãËØïÂÆû‰æã‰∏≠ÁöÑÂá∫Áé∞Ê¨°Êï∞,$Pr(c_i^{train})$Êï¥‰∏™ËÆ≠ÁªÉÊï∞ÊçÆÈõÜ‰∏≠Á±ªciÁöÑÂ≠òÂú®Ê¶ÇÁéá,ÔºàÂç≥ciËÆ≠ÁªÉÂÆû‰æãÁöÑÊï∞ÈáèÈô§‰ª•ÊâÄÊúâËÆ≠ÁªÉÂÆû‰æãÁöÑÊÄªÊï∞ÔºâÂàÜÁ±ªÂô®ÊúÄÁªàÈÄâÊã©ÁªôÂá∫‰∏ÄÁªÑÁªôÂÆöÂçïËØçÂèäÂÖ∂Âá∫Áé∞ÁöÑÔºà2Ôºâ‰∏≠ÊúÄÂ§ßÊ¶ÇÁéáÁöÑÁ±ª„ÄÇËØ∑Ê≥®ÊÑèÔºåÂ¶ÇÊûúËÆ≠ÁªÉÂÆû‰æãÂú®ÂêÑ‰∏™Á±ª‰πãÈó¥ÂÖ¨Âπ≥ÂàÜÂ∏ÉÔºåÈÇ£‰πàNaive Bayes MultinomialÂàÜÁ±ªÂô®Â∞±ËÉΩÂæàÂ•ΩÂú∞ËøêË°å[35]„ÄÇ Á¨¨1Á∫ß-ÂàÜÁ±ªÂô®Êàë‰ª¨Êúâ‰∏Ä‰∏™Èò∂ÊÆµ1ÂàÜÁ±ªÂô®ÔºåÂÆÉÂèØ‰ª•Ëé∑ÂèñÊâÄÊúâÂÆöÈáèÂ±ûÊÄß‰ª•ÂèäÊØè‰∏™Èò∂ÊÆµ0ÂàÜÁ±ªÂô®ÁöÑËæìÂá∫ÂØπ„ÄÇÁî±‰∫éÈò∂ÊÆµ1Â±ûÊÄß‰∏çÊòØÁ∫øÊÄßÂèØÂàÜÁöÑÔºåÂπ∂‰∏îÈò∂ÊÆµ0ÂàÜÁ±ªÂô®ÁöÑËæìÂá∫ÊòØÊ†áÁß∞ÂÄºÔºåÂõ†Ê≠§Êàë‰ª¨‰ΩøÁî®Âü∫‰∫éÈöèÊú∫Ê£ÆÊûóÁöÑÈò∂ÊÆµ1ÂàÜÁ±ªÂô®„ÄÇÈÄâÊã©ÈöèÊú∫Ê£ÆÊûóÁöÑÂè¶‰∏Ä‰∏™ÂéüÂõ†ÊòØ‰∏éÂÖ∂‰ªñÂÜ≥Á≠ñÊ†ëÂàÜÁ±ªÂô®Áõ∏ÊØîÔºåÂØπËøáÂ∫¶ÊãüÂêàÁöÑÈ´òÂÆπÂøçÂ∫¶„ÄÇ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>Â≠¶‰π†ÁßëÁ†î</category>
      </categories>
      <tags>
        <tag>Êú∫Âô®Â≠¶‰π†</tag>
        <tag>IoT</tag>
        <tag>ÁΩëÁªúÊµÅÈáè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LinuxÊúçÂä°Âô®ÂÆâË£ÖftpÊúçÂä°]]></title>
    <url>%2F2019%2F05%2F05%2Fvsftp%2F</url>
    <content type="text"><![CDATA[ubuntu16.04ÈÖçÁΩÆvsftpÊúçÂä°Âô®ÂÆâË£Övsftpd ÂÆâË£Ö 1sudo apt-get install vsftpd ÈÖçÁΩÆ /etc/vsftp.conf 1234567891011121314151617181920# ÂÖÅËÆ∏ÂåøÂêçÁî®Êà∑ÂíåÊú¨Âú∞Áî®Êà∑ÁôªÂΩïÔºåÊú¨Âú∞Áî®Êà∑Âç≥/etc/passwd‰∏≠ÁöÑÁî®Êà∑anonymous_enable=YESlocal_enable=YES# Á¶ÅÊ≠¢ÂÖ®Â±ÄÂÜôÂëΩ‰ª§write_enable=YES# Á¶ÅÊ≠¢ÂåøÂêçÁî®Êà∑‰∏ä‰º†ÂíåÂàõÂª∫Êñá‰ª∂Â§πanon_upload_enable=NOanon_mkdir_write_enable=NO# Âè™ÂÖÅËÆ∏userlistÁöÑÁî®Êà∑ÁôªÂΩïuserlist_enable=YESuserlist_deny=NOuserlist_file=/etc/vsftpd.user_list# Ê≥®ÊÑèÔºö‰ΩøÁî®‰∫Üvsftpd.user_listÂêéÔºåË¶ÅÂú®ÂÖ∂‰∏≠Âä†ÂÖ•anonymousÊâçËÉΩ‰ΩøÁî®ÂåøÂêçÁî®Êà∑ÁôªÂΩïÔºåÂ¶Ç‰ª•‰∏ãÂÜÖÂÆπÔºåË°®Á§∫Âè™ÊúâÂåøÂêçÁî®Êà∑ÂíåÂêç‰∏∫ftpÁöÑÁî®Êà∑Ôºå‰ª•ÂèäÊú¨Âú∞Áî®Êà∑ubuntuÂèØ‰ª•ÁôªÂΩïanonymousftpubuntu ÂàõÂª∫/etc/vsftpd.user_listÊñá‰ª∂ 12ubunturoot Âü∫Êú¨Êìç‰Ωú ÂêØÂä®„ÄÅÈáçÂêØ„ÄÅÂÖ≥Èó≠ 123sudo /etc/init.d/vsftpd startsudo /etc/init.d/vsftpd stopsudo /etc/init.d/vsftpd restart document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>tools</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊúçÂä°Âô®Êê≠Âª∫ss]]></title>
    <url>%2F2019%2F05%2F01%2Fss%2F</url>
    <content type="text"><![CDATA[Ubuntu16.04ÊúçÂä°Âô®Êê≠Âª∫ssÊúçÂä° ÂÆâË£Öunzip wget 1sudo apt-get install unzip wget ÂÆâË£Öshadowsocks 12345wget https://github.com/ToyoDAdoubi/doubi/archive/master.zipunzip master.zipcd ./mastersudo chmod 777 ssr.shsudo ./ssr.sh ÂÆâË£ÖËøáÁ®ã‰∏ÄË∑ØÈÉΩÊúâÊèêÁ§∫ÔºåÂçÅÂàÜÁÆÄÂçï document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>tools</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux/MacOS ÈÖçÁΩÆoh-my-zsh]]></title>
    <url>%2F2019%2F04%2F28%2Fzsh%2F</url>
    <content type="text"><![CDATA[Linux/Mac OS‰∏ãÂÆâË£Öoh my zshÂπ∂ÈÖçÁΩÆ‰∏ªÈ¢òÂíåÊèí‰ª∂ÂÆâË£Öoh my zsh ÂÆâË£Ögit „ÄÅzsh Linux(Ubuntu16.04) 1sudo apt-get install zsh git Mac OS 12#ÂÖàËá™Ë°åÁôæÂ∫¶ÂÆâË£Öhomebrewbrew install git ÂÆâË£Öoh my zsh(‰∏§ÁßçÁ≥ªÁªüÂëΩ‰ª§Áõ∏Âêå) 1sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)" ‰øÆÊîπ‰∏ªÈ¢òÔºövim ÔΩû/.zshrc 12#ÊâæÂà∞ÂØπÂ∫îË°åÊîπ‰∏∫ZSH_THEME="agnoster" source ~/.zshrc ÈÖçÁΩÆÊèí‰ª∂ wd ÂÆÉÁöÑ‰ΩúÁî®Â∞±ÊòØËÉΩÂ§üÂø´ÈÄüÁöÑÂàáÊç¢Âà∞Â∏∏Áî®ÁöÑÁõÆÂΩï„ÄÇ ‚Äã Êàë‰ª¨Áî®ÂëΩ‰ª§Ë°åÊó∂ÁªèÂ∏∏‰ºöÈÅáÂà∞ËøôÊ†∑‰∏ÄÁßçÊÉÖÂÜµÔºå Êàë‰ª¨Â∏∏Áî®ÁöÑÁõÆÂΩïÂ∞±ÈÇ£‰πàÂá†‰∏™ÔºåËÄåËøô‰∫õÁõÆÂΩïÊúâÊó∂ÂÄô‰ºöÂÜçÂæàÊ∑±ÁöÑÂ±ÇÁ∫ß‰∏≠„ÄÇ ‰ΩøÁî® cd ÂëΩ‰ª§Âú®Ëøô‰∫õÊ∑±Â±ÇÁ∫ßÁõÆÂΩï‰∏≠ÂàáÊç¢Â∞±ÊØîËæÉËÄóË¥πÊó∂Èó¥‰∫Ü„ÄÇ ‚Äã ‰æãÂ¶Ç NginxÁöÑwwwrootÁõÆÂΩï/usr/share/nginx/html ,Êàë‰ª¨ËøõÂÖ•Ëøô‰∏™ÁõÆÂΩïÔºåËæìÂÖ•wd add html #Ëøô‰∏™htmlËøô‰∏™ÂêçÁß∞ÊòØÂèØ‰ª•Èöè‰æøÂèñÁöÑ. ‰∏ãÊ¨°ÂÜçËøõÂÖ•Ëøô‰∏™ÁõÆÂΩïÂ∞±ÂèØ‰ª•Áõ¥Êé•ËæìÂÖ• wd thml wdÁî®Ê≥ïÔºö 12345678910111213141516171819202122Usage: wd [command] [point]Commands: add &lt;point&gt; Adds the current working directory to your warp points add Adds the current working directory to your warp points with current directory's name add! &lt;point&gt; Overwrites existing warp point add! Overwrites existing warp point with current directory's name rm &lt;point&gt; Removes the given warp point rm Removes the given warp point with current directory's name show &lt;point&gt; Print path to given warp point show Print warp points to current directory list Print all stored warp points ls &lt;point&gt; Show files from given warp point (ls) path &lt;point&gt; Show the path to given warp point (pwd) clean! Remove points warping to nonexistent directories -v | --version Print version -d | --debug Exit after execution with exit codes (for testing) -c | --config Specify config file (default ~/.warprc) -q | --quiet Suppress all output help Show this extremely helpful text sudo ËøûÊåâ‰∏§Ê¨°EscÊ∑ªÂä†ÊàñÂéªÊéâsudo zsh-syntax-highlighting ‚Äã #È´ò‰∫ÆÂèØÁî®ÂëΩ‰ª§ Linux 1git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting Mac OS 12brew install zsh-syntax-highlightingsource /usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh zsh-autosuggestions ‚Äã #ËÆ∞ÂΩï‰∏ä‰∏ÄÊù°ÂëΩ‰ª§ÔºåÂπ∂Ëá™Âä®Âª∫ËÆÆ 1git clone git://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions ÂÆâË£Ö Âú®ÔΩû/.zshrc‰∏ãÈÖçÁΩÆ 12345678# Add wisely, as too many plugins slow down shell startup.plugins=( git zsh-autosuggestions zsh-syntax-highlighting wd sudo) ÊúÄÂêésource ~/.zshrc document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>tools</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>ÊûÅÂÆ¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰∏ÉÁâõ‰∫ëÂëΩ‰ª§Ë°å‰∏äËΩΩÂ∑•ÂÖ∑‰ΩøÁî®]]></title>
    <url>%2F2019%2F04%2F24%2Fqshell%2F</url>
    <content type="text"><![CDATA[Linux/Mac OS ‰∏ã‰∏ÉÁâõ‰∫ëÂêåÊ≠•Â∑•ÂÖ∑qshellÁöÑÈÖçÁΩÆ‰∏é‰ΩøÁî®@TOC ‰∏ãËΩΩ‰∏éÂÆâË£Ö Âú®ÂÆòÊñπ‰∏ãËΩΩÈ°µÈù¢‰∏ãËΩΩÂç≥ÂèØÔºåqshell ‰∏ãËΩΩÂêéËß£ÂéãÔºåÂπ∂Â∞ÜÁ≥ªÁªüÊâÄÂØπÂ∫îÁâàÊú¨ÈáçÂëΩÂêç‰∏∫qshell ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè ÁºñËæëÔΩû/.zshrc ÊàñËÄÖÔΩû/.bashrcÊñá‰ª∂Â∞ÜqshellË∑ØÂæÑÊ∑ªÂä†Âà∞ÁéØÂ¢ÉÂèòÈáè‰∏≠ÔºåÊàëÁöÑË∑ØÂæÑ‰∏∫ 1export PATH=$PATH:/home/sun/ÊñáÊ°£/tools/qiniu ‰ΩøÈÖçÁΩÆÊñá‰ª∂ÁîüÊïà 1source ~/.zshrc ÁôªÂΩïË¥¶Êà∑1qshell account ak sk È©¨ËµõÂÖã‰ΩçÁΩÆÂàÜÂà´Â°´ÂÜô‰∏™‰∫∫ÁöÑak Âíåsk quploadÁöÑ‰ΩøÁî® ÈÖçÁΩÆÊñá‰ª∂qupload.json,ÊØè‰∏™ÂèÇÊï∞ÁöÑÂÖ∑‰Ωì‰ΩúÁî®ËØ∑ÂèÇËÄÉÂÆòÊñπÊñáÊ°£ 12345678910111213141516{ "src_dir" : "/home/sun/ÂõæÁâá", "bucket" : "ydm-ng", "up_host" : "http://upload-z1.qiniu.com", "ignore_dir" : false, "overwrite" : false, "check_exists" : true, "check_hash" : false, "check_size" : false, "rescan_local" : true, "log_file" : "upload.log", "log_level" : "info", "log_rotate" : 1, "log_stdout" : false, "file_type" : 0} ÊâßË°åÂëΩ‰ª§‰∏∫ 1qshell qupload [&lt;ThreadCount&gt;] &lt;LocalUploadConfig&gt; Á¨¨‰∏Ä‰∏™‰∏∫ÂèØÈÄâÂèÇÊï∞Ôºå‰∏ÄËà¨ÈÄâ10ÔºåÁ¨¨‰∫å‰∏™‰∏∫ÈÖçÁΩÆÊñá‰ª∂Ë∑ØÂæÑ ‰∏ÄËà¨‰∏∫‰∫ÜËäÇÁúÅÊìç‰ΩúÊó∂Èó¥ÔºåÂú®zshrcÈÖçÁΩÆÂà´Âêç 1alias qupload="qshell qupload 10 /Users/sun/Documents/tools/qshell/qupload.json" Âú®ÁîüÊïàsource ~/.zshÂç≥ÂèØ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>tools</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>ÊûÅÂÆ¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú®ÊúçÂä°Âô®‰∏äÈÉ®ÁΩ≤jupyterbook]]></title>
    <url>%2F2019%2F04%2F21%2Fjupyter-notebook%2F</url>
    <content type="text"><![CDATA[LinuxÊúçÂä°Âô®ÈÖçÁΩÆjupyter-notebookÂÆûÁé∞ËøúÁ®ãËÆøÈóÆ‰∏ãËΩΩanacondaÂú®Ê∏ÖÂçéÈïúÂÉè‰∏ä‰∏ãËΩΩanacondaÂØπÂ∫îÁâàÊú¨123wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-5.2.0-Linux-x86_64.shsudo chmod +x Anaconda* Ê≥®ÊÑèÂÆâË£ÖËøáÁ®ã‰∏≠ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáèÂπ∂‰∏îÊòØÁéØÂ¢ÉÂèòÈáèÁîüÊïà ÁîüÊàêÈÖçÁΩÆÊñá‰ª∂1jupyter notebook --generate-config ÁîüÊàêÁßòÈí• ËøõÂÖ•ipython123451. In [1]: from notebook.auth import passwd2. In [2]: passwd()3. Enter password:4. Verify password:5. Out[2]: 'sha1:ce23d945972f:34769685a7ccd3d08c84a18c63968a41f1140274' Â§çÂà∂ÁßòÈí•ÔºåÂêéÈù¢Ë¶ÅÁî® ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂ vim ~/.jupyter/jupyter_notebook_config.py1231. c.NotebookApp.ip='ÊúçÂä°Âô®IP'2. c.NotebookApp.password = u'sha:ce...ÂàöÊâçÂ§çÂà∂ÁöÑÈÇ£‰∏™ÁßòÈí•'3. c.NotebookApp.open_browser = False ÂêéÂè∞ÂêØÂä®jupyter-notebook12```bashnohup jupyter notebook &gt; jupyter.log &amp; ÂêéÂè∞ÂêØÂä®jupyter-lab1nohup jupyter-lab &gt;&gt; ./jupyter-notebook/jupyter-lab.log &amp; ÂêéÂè∞ËøêË°åÂπ∂‰∏îÁîüÊàêÈÖçÁΩÆÊñá‰ª∂ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>tools</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>Linux</tag>
        <tag>ÊûÅÂÆ¢</tag>
        <tag>ÂºÄÂèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LinuxÁ≥ªÁªüddÂëΩ‰ª§‰ΩøÁî®]]></title>
    <url>%2F2019%2F04%2F17%2Fdd%2F</url>
    <content type="text"><![CDATA[Linux‰∏ãÁî®ddÂëΩ‰ª§Âà∂‰ΩúUÁõòÂêØÂä®Áõò Âú®manjaroÁ≥ªÁªü‰∏ãÊµãËØï Êü•ËØ¢UÁõòÂØπÂ∫îÊñá‰ª∂sudo fdisk -l 12345678910111213141516171819202122Disk /dev/nvme0n1Ôºö238.5 GiBÔºå256060514304 Â≠óËäÇÔºå500118192 ‰∏™ÊâáÂå∫ÂçïÂÖÉÔºöÊâáÂå∫ / 1 * 512 = 512 Â≠óËäÇÊâáÂå∫Â§ßÂ∞è(ÈÄªËæë/Áâ©ÁêÜ)Ôºö512 Â≠óËäÇ / 512 Â≠óËäÇI/O Â§ßÂ∞è(ÊúÄÂ∞è/ÊúÄ‰Ω≥)Ôºö512 Â≠óËäÇ / 512 Â≠óËäÇÁ£ÅÁõòÊ†áÁ≠æÁ±ªÂûãÔºögptÁ£ÅÁõòÊ†áËØÜÁ¨¶Ôºö09CDCE5C-F487-42C9-83BF-B41ACD262434ËÆæÂ§á Ëµ∑ÁÇπ Êú´Â∞æ ÊâáÂå∫ Â§ßÂ∞è Á±ªÂûã/dev/nvme0n1p1 4097 618497 614401 300M EFI Á≥ªÁªü/dev/nvme0n1p2 618498 481648510 481030013 229.4G Linux Êñá‰ª∂Á≥ªÁªü/dev/nvme0n1p3 481648511 500103449 18454939 8.8G Linux swapDisk /dev/sdaÔºö28.7 GiBÔºå30752000000 Â≠óËäÇÔºå60062500 ‰∏™ÊâáÂå∫ÂçïÂÖÉÔºöÊâáÂå∫ / 1 * 512 = 512 Â≠óËäÇÊâáÂå∫Â§ßÂ∞è(ÈÄªËæë/Áâ©ÁêÜ)Ôºö512 Â≠óËäÇ / 512 Â≠óËäÇI/O Â§ßÂ∞è(ÊúÄÂ∞è/ÊúÄ‰Ω≥)Ôºö512 Â≠óËäÇ / 512 Â≠óËäÇÁ£ÅÁõòÊ†áÁ≠æÁ±ªÂûãÔºödosÁ£ÅÁõòÊ†áËØÜÁ¨¶Ôºö0xcad4ebeaËÆæÂ§á ÂêØÂä® Ëµ∑ÁÇπ Êú´Â∞æ ÊâáÂå∫ Â§ßÂ∞è Id Á±ªÂûã/dev/sda4 * 256 60062499 60062244 28.7G c W95 FAT32 (LBA) ÂèëÁé∞UÁõòÂØπÂ∫îÁöÑÊòØ/dev/sda4 ‰ΩøÁî®ddÂëΩ‰ª§ÂÜôÂÖ•isoÊñá‰ª∂ 1sudo dd if=/home/sun/manjaro.iso of=/dev/sda4 bs=4M document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>ÂëΩ‰ª§</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Èü≥‰πê‰∏ãËΩΩÂ∑•ÂÖ∑]]></title>
    <url>%2F2019%2F04%2F14%2FCoolMusic%2F</url>
    <content type="text"><![CDATA[CoolMusicÁöÑ‰ΩøÁî®ÊñπÊ≥ïMusicDownloaderMusicDownloader ÊòØÂü∫‰∫épythonÁöÑ‰∏Ä‰∏™Èü≥‰πê‰∏ãËΩΩÈ°πÁõÆ„ÄÇ È°πÁõÆÂú∞ÂùÄ:https://github.com/Michel-liu/MusicDownloaderÂÖ∂‰∏ªË¶ÅÂäüËÉΩÊúâÔºö ÊâπÈáè‰∏ãËΩΩÁΩëÊòì‰∫ëÈü≥‰πêÊ≠åÂçï ÈÄöËøáÂÖ≥ÈîÆÂ≠óÊêúÁ¥¢ÔºåÊêúÁ¥¢Âπ∂‰∏ãËΩΩÁâπÂÆöÁöÑÈü≥‰πê ‰ΩøÁî®ËØ¥Êòé ÁôªÈôÜËá™Â∑±ÁöÑÁΩëÊòì‰∫ëÈü≥‰πêË¥¶Âè∑„ÄÇ Âú®ÂΩìÂâçÁïåÈù¢ËøõÂÖ•ÂºÄÂèëËÄÖÂ∑•ÂÖ∑ÔºåËøõÂÖ•ÁΩëÁªúÈÄâÈ°πÂç°ÔºåÂπ∂ÈáçÊñ∞Âä†ËΩΩÁïåÈù¢„ÄÇ ‰ΩøÁî®ÊêúÁ¥¢Â∑•ÂÖ∑ÔºåÈöèÊÑèÊêúÁ¥¢‰Ω†Ê≠åÂçï‰∏≠ÁöÑ‰∏Ä‰∏™ÂÖ≥ÈîÆÂ≠óÔºåÂÆö‰ΩçÂà∞‰∏Ä‰∏™ÂêçÂ≠ó‰ª•detail?csrf_tokenÂºÄÂ§¥ÁöÑÊñá‰ª∂„ÄÇ ÈÄâ‰∏≠ËØ•Êñá‰ª∂ÔºåÂú®Âè≥‰æßHeadersÈÄâÈ°πÂç°‰∏≠ÊãâÂà∞È°µÊú´ÔºåÊâæÂà∞Form DataÔºåÂ∞ÜÂÖ∂‰∏≠ÁöÑparams‰∏éencSecKeyÂ§çÂà∂Âà∞Êàë‰ª¨È°πÁõÆÁöÑconfig.py‰∏≠„ÄÇ Â∞Üconfig.py‰∏≠ÁöÑFileSaveDirÊîπ‰∏∫‰Ω†Ëá™Â∑±Âú®Êú¨Âú∞ÊÉ≥Ë¶Å‰øùÂ≠òÁöÑË∑ØÂæÑ„ÄÇ ËøêË°åmain.pyÊñá‰ª∂Âç≥ÂèØ„ÄÇ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>tools</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>Áà¨Ëô´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SSRÂëΩ‰ª§Ë°åÁâàÊú¨ÈÖçÁΩÆ]]></title>
    <url>%2F2019%2F04%2F11%2FCLI_ss%2F</url>
    <content type="text"><![CDATA[ubuntu 16.04ÈÖçÁΩÆshadowsocks+proxychains4 ÂÆûÁé∞ÁªàÁ´Ø‰ª£ÁêÜÂÆâË£ÖPython-pip ubuntu16.04ÈªòËÆ§ÂÆâË£ÖPython2.7ÔºåÊâÄ‰ª•‰∏çÈúÄË¶ÅÂÆâË£ÖpythonÔºåÂÆâË£ÖpythonÁöÑÂåÖÁÆ°ÁêÜÂ∑•ÂÖ∑Â∞±Ë°å‰∫Ü 1sudo apt-get install python-pip ÂÆâË£Öshadowsocks 1sudo pip install shadowsocks ÈÖçÁΩÆÊú¨Âú∞vim /home/ubuntu/shadowsocks.json 12345678{ "server":"11.22.33.44",# ‰Ω†ÊúçÂä°Á´ØÁöÑIP "server_port":50003, # ‰Ω†ÊúçÂä°Á´ØÁöÑÁ´ØÂè£ "local_port":1080, #Êú¨Âú∞Á´ØÂè£Ôºå‰∏ÄËà¨ÈªòËÆ§1080 "password":"123456", #ssÊúçÂä°Á´ØËÆæÁΩÆÁöÑÂØÜÁ†Å "timeout":600, #Ë∂ÖÊó∂ËÆæÁΩÆ ÂíåÊúçÂä°Á´Ø‰∏ÄÊ†∑ "method":"aes-256-cfb" #Âä†ÂØÜÊñπÊ≥ï ÂíåÊúçÂä°Á´Ø‰∏ÄÊ†∑} ÂàõÂª∫ÊúçÂä°ÂêØÂä®ËÑöÊú¨shadowsocks.sh 1sslocal -c /home/ubuntu/shadowsocks.json ÂèØËÉΩ‰ºöÊä•Èîô document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>tools</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>ÊûÅÂÆ¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ryuÊéßÂà∂Âô®ÂÆûÁé∞ÈõÜÁ∫øÂô®]]></title>
    <url>%2F2019%2F04%2F06%2F2%2F</url>
    <content type="text"><![CDATA[2 Switching Hub[TOC]2.1 Switching Hub ‰∫§Êç¢ÈõÜÁ∫øÂô®ÊúâÂæàÂ§öÁßç‰∏çÂêåÁöÑÂäüËÉΩÔºåÂú®ËøôÊàë‰ª¨ÁúãÁúãÊã•Êúâ‰ª•‰∏ãÂäüËÉΩÁöÑÈõÜÁ∫øÂô®Ôºö ËÉΩÂ§üÂ≠¶‰π†ÈõÜÁ∫øÂô®Á´ØÂè£ËøûÊé•‰∏ªÊú∫ÁöÑMACÂú∞ÂùÄÂπ∂Â∞ÜÂÖ∂‰øùÂ≠òÂú®MACÂú∞ÂùÄË°®‰∏≠ ÂΩìÊî∂Âà∞MACÂú∞ÂùÄÂ∑≤Áü•ÁöÑÊä•ÊñáÊó∂ÔºåÂ∞ÜÂÖ∂ËΩ¨ÂèëÂà∞ÂØπÂ∫îÁ´ØÂè£ ÂΩìÊî∂Âà∞Âú∞ÂùÄÊú™Áü•ÁöÑÊä•ÊñáÁöÑÊó∂ÂÄôÔºåËøõË°åÊ≥õÊ¥™ ËÆ©Êàë‰ª¨Áî®ryuÊù•ÂÆûÁé∞ËøôÁßçÂäüËÉΩÁöÑ‰∫§Êç¢Êú∫ 2.2 openflow‰∫§Êç¢ÈõÜÁ∫øÂô®openflow‰∫§Êç¢Êú∫ÂèØ‰ª•ÂÆûÁé∞‰∏ãÂàóÂäüËÉΩÈÄöËøáÊé•ÂèóÊéßÂà∂Âô®ÁöÑÊåá‰ª§(‰æãÂ¶ÇryuÊéßÂà∂Âô®) ÊîπÂÜôÊé•ÂèóÊï∞ÊçÆÂåÖÁöÑÂú∞ÂùÄÊàñËÄÖ‰ªéÁâπÂÆöÁ´ØÂè£ËΩ¨ÂèëÊï∞ÊçÆÂåÖ ËΩ¨ÂèëÊï∞ÊçÆÂåÖÂà∞ÊéßÂà∂Âô®(packet-In) ÊéßÂà∂Âô®‰ªéÊåáÂÆöÁ´ØÂè£ËΩ¨ÂèëÊï∞ÊçÆÂåÖ(Packet-Out) ÂèØ‰ª•ÂÆûÁé∞ÁªÑÂêà‰∫ÜËøô‰∫õÂäüËÉΩÁöÑ‰∫§Êç¢ÈõÜÁ∫øÂô®„ÄÇÈ¶ñÂÖàÔºåÊÇ®ÈúÄË¶Å‰ΩøÁî®Packet-InÂäüËÉΩÊù•Â≠¶‰π†MACÂú∞ÂùÄ„ÄÇÊéßÂà∂Âô®ÂèØ‰ª•‰ΩøÁî®Packet-InÂáΩÊï∞‰ªé‰∫§Êç¢Êú∫Êé•Êî∂Êï∞ÊçÆÂåÖ„ÄÇ‰∫§Êç¢Êú∫ÂàÜÊûêÊî∂Âà∞ÁöÑÊï∞ÊçÆÂåÖÔºå‰ª•‰∫ÜËß£‰∏ªÊú∫ÁöÑMACÂú∞ÂùÄÂíåÊúâÂÖ≥ËøûÊé•Á´ØÂè£ÁöÑ‰ø°ÊÅØ„ÄÇÂ≠¶‰π†‰πãÂêéÔºå‰∫§Êç¢Êú∫‰º†ËæìÊé•Êî∂ÁöÑÊï∞ÊçÆÂåÖ„ÄÇ‰∫§Êç¢Êú∫Ë∞ÉÊü•Êï∞ÊçÆÂåÖÁöÑÁõÆÁöÑMACÂú∞ÂùÄÊòØÂê¶Â±û‰∫éÂ∑≤Áü•‰∏ªÊú∫„ÄÇÊ†πÊçÆË∞ÉÊü•ÁªìÊûúÔºå‰∫§Êç¢Êú∫ÊâßË°å‰ª•‰∏ãÂ§ÑÁêÜ„ÄÇ Â¶ÇÊûú‰∏ªÊú∫Â∑≤ÁªèÊòØÂ∑≤Áü•‰∏ªÊú∫‚Ä¶‰ΩøÁî®Packet-OutÂäüËÉΩ‰ªéËøûÊé•ÁöÑÁ´ØÂè£ËΩ¨ÂèëÊï∞ÊçÆÂåÖ„ÄÇ Â¶ÇÊûú‰∏ªÊú∫ÊòØÊú™Áü•‰∏ªÊú∫‚Ä¶‰ΩøÁî®Packet-OutÂäüËÉΩÊâßË°åÊ≥õÊ¥™ ‰ª•‰∏ã‰ΩøÁî®ÈôÑÂõæ‰ª•ÈÄêÊ≠•ÁöÑÊñπÂºèËØ¥Êòé‰∏äËø∞Êìç‰ΩúÔºö ÂàùÂßãÁä∂ÊÄÅ ÂàùÂßãÁä∂ÊÄÅ‰∏ãÊµÅË°®‰∏∫Á©∫ÔºåÂÅáËÆæ‰∏ªÊú∫AËøûÊé•Á´ØÂè£1Ôºå‰∏ªÊú∫BËøûÊé•Á´ØÂè£4Ôºå‰∏ªÊú∫CËøûÊé•Á´ØÂè£3 ‰∏ªÊú∫A-&gt; ‰∏ªÊú∫B ÂΩìÊï∞ÊçÆÂåÖ‰ªé‰∏ªÊú∫AÂèëÈÄÅÂà∞‰∏ªÊú∫BÁöÑÊó∂ÂÄôÔºå‰∏Ä‰∏™Packet-InÊ∂àÊÅØÂ∞Ü‰ºöË¢´ÂèëÈÄÅÂà∞ÊéßÂà∂Âô®Âπ∂‰∏î‰∏ªÊú∫AÁöÑMACÂú∞ÂùÄÂ∞Ü‰ºöË¢´Á´ØÂè£1Â≠¶‰π†„ÄÇ‰ΩÜÊòØÁî±‰∫é‰∏ªÊú∫BÁöÑÁ´ØÂè£Ëøò‰∏çÁü•ÈÅìÔºåÂõ†Ê≠§Êï∞ÊçÆÂåÖË¢´Ê≥õÊ¥™Âà∞Èô§‰∫ÜÁ´ØÂè£1‰ª•Â§ñÁöÑÊâÄÊúâÁ´ØÂè£Âπ∂‰∏îË¢´‰∏ªÊú∫BÂíå‰∏ªÊú∫CÊé•Âèó„ÄÇ Packet-InÔºö ÂÖ•Á´ØÂè£:1 ÁõÆÁöÑ‰∏ªÊú∫ÔºöB Ê∫ê‰∏ªÊú∫ÔºöA Packet-OutÔºö Âä®‰ΩúÔºöËæìÂá∫ÔºöÊ≥õÊ¥™ ‰∏ªÊú∫B-&gt;‰∏ªÊú∫A ÂΩì‰∏ªÊú∫BÂõûÂ∫î‰∏ªÊú∫AÁöÑÊï∞ÊçÆÂåÖËøîÂõûÁöÑÊó∂ÂÄôÔºåÁî±‰∫éÂ∑≤ÁªèÊúâ‰∏Ä‰∏™ÊµÅË°®È°πË¢´Âä†ÂÖ•Âà∞ÊµÅË°®‰∏≠ÊâÄ‰ª•Êï∞ÊçÆÂåÖÂ∞ÜË¢´ËΩ¨ÂèëÂà∞Á´ØÂè£1ÔºåÊâÄ‰ª•‰∏ªÊú∫CÂ∞Ü‰∏ç‰ºöÊî∂Âà∞BÂèëÈÄÅÁöÑÊï∞ÊçÆÂåÖ Packet-In: ÂÖ•Á´ØÂè£Ôºö4 ÁõÆÁöÑ‰∏ªÊú∫Ôºö‰∏ªÊú∫A Ê∫ê‰∏ªÊú∫Ôºö‰∏ªÊú∫B Packet-Out: Âä®‰ΩúÔºöËæìÂá∫ÔºöÁ´ØÂè£1 ‰∏ªÊú∫A-&gt;‰∏ªÊú∫B ÂΩì‰∏ªÊú∫AÂÜç‰∏ÄÊ¨°Âêë‰∏ªÊú∫BÂèëÈÄÅÊï∞ÊçÆÂåÖÁöÑÊó∂ÂÄôÔºåÁî±‰∫éÂâçÈù¢‰∏ªÊú∫BÂõûÂ∫îÊï∞ÊçÆÂåÖÁöÑÊó∂ÂÄôÔºåÁ´ØÂè£4Â∑≤ÁªèÂ≠¶‰π†Âà∞‰∏ªÊú∫BÁöÑMACÂú∞ÂùÄÔºåÊâÄ‰ª•Ëøô‰∏ÄÊ¨°Êï∞ÊçÆÂåÖÂ∞Ü‰ºöÁõ¥Êé•ÂêëÁ´ØÂè£4ÂèëÈÄÅ Packet-In ÂÖ•Á´ØÂè£Ôºö1 ÁõÆÁöÑ‰∏ªÊú∫Ôºö‰∏ªÊú∫B Ê∫ê‰∏ªÊú∫Ôºö‰∏ªÊú∫A Packet-OutÔºö Âä®‰ΩúÔºöËæìÂá∫ÔºöÁ´ØÂè£4 ‰∏ãÈù¢Êàë‰ª¨Êù•ÁúãÁúã‰∫§Êç¢ÈõÜÁ∫øÂô®ÁöÑryuÊ∫êÁ†ÅÂÆûÁé∞ 2.3 ‰ΩøÁî®RyuÂÆûÁé∞‰∫§Êç¢ÈõÜÁ∫øÂô®Ê∫êÁ†ÅÂú®ryu/app/example_switch_13.py Èô§‰∫Ü‰∏äËø∞‰πãÂ§ñÔºåËøòÊúâsimple_switch.pyÔºàOpenFlow 1.0ÔºâÂíåsimple_switch_12.pyÔºàOpenFlow 1.2ÔºâÔºåÂÖ∑‰ΩìÂèñÂÜ≥‰∫éOpenFlowÁöÑÁâàÊú¨Ôºå‰ΩÜÊàë‰ª¨Áúã‰∏Ä‰∏ãÊîØÊåÅOpenFlow 1.3ÁöÑÂÆûÁé∞ Ê∫ê‰ª£Á†ÅÂæàÁü≠ÔºåÂõ†Ê≠§Êàë‰ª¨Âú®‰∏ãÈù¢ÊòæÁ§∫‰∫ÜÂÆåÊï¥ÁöÑÊ∫ê‰ª£Á†Å 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101# Copyright (C) 2016 Nippon Telegraph and Telephone Corporation.## Licensed under the Apache License, Version 2.0 (the "License");# you may not use this file except in compliance with the License.# You may obtain a copy of the License at## http://www.apache.org/licenses/LICENSE-2.0## Unless required by applicable law or agreed to in writing, software# distributed under the License is distributed on an "AS IS" BASIS,# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or# implied.# See the License for the specific language governing permissions and# limitations under the License.from ryu.base import app_managerfrom ryu.controller import ofp_eventfrom ryu.controller.handler import CONFIG_DISPATCHER, MAIN_DISPATCHERfrom ryu.controller.handler import set_ev_clsfrom ryu.ofproto import ofproto_v1_3from ryu.lib.packet import packetfrom ryu.lib.packet import ethernetclass ExampleSwitch13(app_manager.RyuApp): OFP_VERSIONS = [ofproto_v1_3.OFP_VERSION] def __init__(self, *args, **kwargs): super(ExampleSwitch13, self).__init__(*args, **kwargs) # initialize mac address table. self.mac_to_port = {} @set_ev_cls(ofp_event.EventOFPSwitchFeatures, CONFIG_DISPATCHER) def switch_features_handler(self, ev): datapath = ev.msg.datapath ofproto = datapath.ofproto parser = datapath.ofproto_parser # install the table-miss flow entry. match = parser.OFPMatch() actions = [parser.OFPActionOutput(ofproto.OFPP_CONTROLLER, ofproto.OFPCML_NO_BUFFER)] self.add_flow(datapath, 0, match, actions) def add_flow(self, datapath, priority, match, actions): ofproto = datapath.ofproto parser = datapath.ofproto_parser # construct flow_mod message and send it. inst = [parser.OFPInstructionActions(ofproto.OFPIT_APPLY_ACTIONS, actions)] mod = parser.OFPFlowMod(datapath=datapath, priority=priority, match=match, instructions=inst) datapath.send_msg(mod) @set_ev_cls(ofp_event.EventOFPPacketIn, MAIN_DISPATCHER) def _packet_in_handler(self, ev): msg = ev.msg datapath = msg.datapath ofproto = datapath.ofproto parser = datapath.ofproto_parser # get Datapath ID to identify OpenFlow switches. dpid = datapath.id self.mac_to_port.setdefault(dpid, {}) # analyse the received packets using the packet library. pkt = packet.Packet(msg.data) eth_pkt = pkt.get_protocol(ethernet.ethernet) dst = eth_pkt.dst src = eth_pkt.src # get the received port number from packet_in message. in_port = msg.match['in_port'] self.logger.info("packet in %s %s %s %s", dpid, src, dst, in_port) # learn a mac address to avoid FLOOD next time. self.mac_to_port[dpid][src] = in_port # if the destination mac address is already learned, # decide which port to output the packet, otherwise FLOOD. if dst in self.mac_to_port[dpid]: out_port = self.mac_to_port[dpid][dst] else: out_port = ofproto.OFPP_FLOOD # construct action list. actions = [parser.OFPActionOutput(out_port)] # install a flow to avoid packet_in next time. if out_port != ofproto.OFPP_FLOOD: match = parser.OFPMatch(in_port=in_port, eth_dst=dst) self.add_flow(datapath, 1, match, actions) # construct packet_out message and send it. out = parser.OFPPacketOut(datapath=datapath, buffer_id=ofproto.OFP_NO_BUFFER, in_port=in_port, actions=actions, data=msg.data) datapath.send_msg(out) ËÆ©Êàë‰ª¨Êù•ÁúãÁúãÂêÑËá™ÂÆûÁé∞ÁöÑÂÜÖÂÆπ„ÄÇ 2.3.1 Á±ªÂÆö‰πâÂíåÂàùÂßãÂåñ‰∏∫‰∫ÜÂÆûÁé∞‰∏Ä‰∏™ryuÂ∫îÁî®Ôºå ryu.base.app_manager.RyuAppË¢´ÂºïÁî®ÔºåÊ≠§Â§ñÔºåË¶Å‰ΩøÁî®OpenFlow 1.3ÔºåOpenFlow 1.3ÁâàÊú¨ÊòØ‰∏∫OFP_VERSIONSÊåáÂÆöÁöÑ„ÄÇÊ≠§Â§ñÔºåÂÆö‰πâ‰∫ÜMACÂú∞ÂùÄË°®mac_to_port. Âú®OpenFlowÂçèËÆÆ‰∏≠ÔºåÂ∑≤ÁªèÂÆö‰πâ‰∫Ü‰∏Ä‰∫õËøáÁ®ãÔºå‰æãÂ¶ÇOpen-Flow‰∫§Êç¢Êú∫ÂíåÊéßÂà∂Âô®‰πãÈó¥ÈÄö‰ø°ÊâÄÈúÄÁöÑÊè°Êâã„ÄÇ‰ΩÜÊòØÔºåÁî±‰∫éRyuÁöÑÊ°ÜÊû∂Ë¥üË¥£Â§ÑÁêÜËøô‰∫õÁ®ãÂ∫èÔºåÂõ†Ê≠§Âú®ryu app‰∏≠‰∏çÈúÄË¶Å‰∫ÜËß£Ëøô‰∫õ„ÄÇ 12345678class ExampleSwitch13(app_manager.RyuApp): OFP_VERSIONS = [ofproto_v1_3.OFP_VERSION] def __init__(self, *args, **kwargs): super(ExampleSwitch13, self).__init__(*args, **kwargs) # initialize mac address table. self.mac_to_port = {} 2.3.2 ‰∫ã‰ª∂Â§ÑÁêÜÂáΩÊï∞ÂØπ‰∫éRyuÔºåÂΩìÊé•Êî∂Âà∞OpenFlowÊ∂àÊÅØÊó∂ÔºåÁîüÊàêÂØπÂ∫î‰∫éËØ•Ê∂àÊÅØÁöÑ‰∫ã‰ª∂„ÄÇ RyuÂ∫îÁî®Á®ãÂ∫èÂÆûÁé∞‰∫Ü‰∏éÂ∏åÊúõÊé•Êî∂ÁöÑÊ∂àÊÅØÁõ∏ÂØπÂ∫îÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫è„ÄÇ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÖ∑ÊúâÂèÇÊï∞ÁöÑ‰∫ã‰ª∂ÂØπË±°ÁöÑÂáΩÊï∞ÔºåÂπ∂‰ΩøÁî®ryu.controller.handler.set_ev_clsË£ÖÈ•∞Âô®Êù•Ë£ÖÈ•∞„ÄÇ set_ev_clsÊåáÂÆöÊîØÊåÅÊé•Êî∂Ê∂àÊÅØÁöÑ‰∫ã‰ª∂Á±ª‰ª•ÂèäÂèÇÊï∞ÁöÑOpenFlow‰∫§Êç¢Êú∫ÁöÑÁä∂ÊÄÅ„ÄÇ‰∫ã‰ª∂Á±ªÂêçÁß∞‰∏∫ryu.controller.ofp_event.EventOFP + „ÄÇ‰æãÂ¶ÇÔºåÂú®Packet-InÊ∂àÊÅØÁöÑÊÉÖÂÜµ‰∏ãÔºåÂÆÉÂèò‰∏∫EventOFPPacketIn„ÄÇÊúâÂÖ≥ËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖRyuÁöÑÊ†áÈ¢ò‰∏∫API ReferenceÁöÑÊñáÊ°£„ÄÇÂØπ‰∫éÁä∂ÊÄÅÔºåËØ∑ÊåáÂÆö‰ª•‰∏ã‰πã‰∏ÄÊàñÂàóË°®„ÄÇ Ê∑ªÂä†Áº∫Â§±ÊµÅË°®È°π Âú®‰∏éOpenFlow‰∫§Êç¢Êú∫ÂÆåÊàêÊè°Êâã‰πãÂêéÔºåÂ∞ÜÁº∫Â§±ÊµÅË°®È°πÊ∑ªÂä†Âà∞‰∫§Êç¢Êú∫ÊµÅË°®‰∏≠‰ª•ÂáÜÂ§áÊé•Êî∂Packet-InÊ∂àÊÅØ„ÄÇÂÖ∑‰ΩìÂú∞ÔºåÂú®Êé•Êî∂Âà∞‰∫§Êç¢Êú∫ÁâπÂæÅÔºàÁâπÂæÅÂõûÂ§çÔºâÊ∂àÊÅØÊó∂ÔºåÊ∑ªÂä†Ë°®Áº∫Â§±ÊµÅÊù°ÁõÆ„ÄÇ 12345@set_ev_cls(ofp_event.EventOFPSwitchFeatures, CONFIG_DISPATCHER) def switch_features_handler(self, ev): datapath = ev.msg.datapath ofproto = datapath.ofproto parser = datapath.ofproto_parser Âú®ev.msg‰∏≠ÔºåÂ≠òÂÇ®‰∏éËØ•‰∫ã‰ª∂ÂØπÂ∫îÁöÑOpenFlowÊ∂àÊÅØÁ±ªÁöÑÂÆû‰æã„ÄÇÂú®Êú¨‰æã‰∏≠ÔºåÂÆÉÊòØryu.ofproto.ofproto_v1_3_parser.OFPSwitchFeatures„ÄÇÂú®msg.datapath‰∏≠ÔºåÂ≠òÂÇ®‰∏éÂèëÂá∫Ê≠§Ê∂àÊÅØÁöÑOpenFlow‰∫§Êç¢Êú∫ÂØπÂ∫îÁöÑryu.controller.controller.DatapathÁ±ªÁöÑÂÆû‰æã„ÄÇDatapathÁ±ªÊâßË°åÈáçË¶ÅÁöÑÂ§ÑÁêÜÔºå‰æãÂ¶Ç‰∏éOpenFlow‰∫§Êç¢Êú∫ÁöÑÂÆûÈôÖÈÄö‰ø°‰ª•Âèä‰∏éÊé•Êî∂ÁöÑÊ∂àÊÅØÁõ∏ÂØπÂ∫îÁöÑ‰∫ã‰ª∂ÁöÑÂèëÂ∏É„ÄÇRyuÂ∫îÁî®Á®ãÂ∫è‰ΩøÁî®ÁöÑdatapath‰∏ªË¶ÅÂ±ûÊÄßÂ¶Ç‰∏ãÔºö RyuÂ∫îÁî®Á®ãÂ∫è‰∏≠‰ΩøÁî®ÁöÑDatapathÁ±ªÁöÑ‰∏ªË¶ÅÊñπÊ≥ïÂ¶Ç‰∏ãÔºö send_msgÔºàmsgÔºâ ÂèëÈÄÅOpenFlowÊ∂àÊÅØ„ÄÇ msgÊòØ‰∏éÂèëÈÄÅOpenFlowÊ∂àÊÅØÂØπÂ∫îÁöÑryu.ofproto.ofproto_parser.MsgBaseÁöÑÂ≠êÁ±ª„ÄÇ‰∫§Êç¢ÈõÜÁ∫øÂô®Âπ∂‰∏çÁâπÂà´‰ΩøÁî®Êî∂Âà∞ÁöÑ‰∫§Êç¢Êú∫ÂäüËÉΩÊ∂àÊÅØÊú¨Ë∫´„ÄÇÂÆÉË¢´‰Ωú‰∏∫‰∫ã‰ª∂Â§ÑÁêÜ‰ª•Ëé∑ÂæóÊ∑ªÂä†Ë°®Áº∫Â§±ÊµÅÊù°ÁõÆÁöÑÂÆöÊó∂„ÄÇ 123456def switch_features_handler(self, ev): # install the table-miss flow entry. match = parser.OFPMatch() actions = [parser.OFPActionOutput(ofproto.OFPP_CONTROLLER, ofproto.OFPCML_NO_BUFFER)] self.add_flow(datapath, 0, match, actions) Table-missÊµÅÊù°ÁõÆÂÖ∑ÊúâÊúÄ‰ΩéÔºà0Ôºâ‰ºòÂÖàÁ∫ßÔºåÂπ∂‰∏îËØ•Êù°ÁõÆÂåπÈÖçÊâÄÊúâÂàÜÁªÑ„ÄÇÂú®ËØ•Êù°ÁõÆÁöÑÊåá‰ª§‰∏≠ÔºåÈÄöËøáÊåáÂÆöËæìÂá∫Âà∞ÊéßÂà∂Âô®Á´ØÂè£ÁöÑËæìÂá∫Âä®‰ΩúÔºåÂ¶ÇÊûúÊé•Êî∂ÁöÑÊï∞ÊçÆÂåÖ‰∏é‰ªª‰ΩïÊ≠£Â∏∏ÊµÅÊù°ÁõÆÈÉΩ‰∏çÂåπÈÖçÔºåÂàôÂèëÂá∫Packet-In„ÄÇÁîüÊàêÁ©∫ÂåπÈÖç‰ª•ÂåπÈÖçÊâÄÊúâÊï∞ÊçÆÂåÖ„ÄÇÂåπÈÖçÂú®OFPMatchÁ±ª‰∏≠Ë°®Á§∫„ÄÇÊé•‰∏ãÊù•ÔºåÁîüÊàêOUTPUTÊìç‰ΩúÁ±ªÔºàOFPActionOutputÔºâÁöÑÂÆû‰æã‰ª•‰º†ËæìÂà∞ÊéßÂà∂Âô®Á´ØÂè£„ÄÇÊéßÂà∂Âô®Ë¢´ÊåáÂÆö‰∏∫ËæìÂá∫ÁõÆÁöÑÂú∞ÔºåOFPCML_NO_BUFFERË¢´ÊåáÂÆö‰∏∫max_lenÔºå‰ª•‰æøÂ∞ÜÊâÄÊúâÊï∞ÊçÆÂåÖÂèëÈÄÅÂà∞ÊéßÂà∂Âô®„ÄÇÊúÄÂêéÔºå‰∏∫‰ºòÂÖàÁ∫ßÊåáÂÆö0ÔºàÊúÄ‰ΩéÔºâÔºåÂπ∂ÊâßË°åadd_flowÔºàÔºâÊñπÊ≥ï‰ª•ÂèëÈÄÅFlow ModÊ∂àÊÅØ„ÄÇ add_flowÔºàÔºâÊñπÊ≥ïÁöÑÂÜÖÂÆπÂ∞ÜÂú®ÂêéÈù¢ÁöÑÈÉ®ÂàÜ‰∏≠‰ªãÁªç„ÄÇ Packet-In Ê∂àÊÅØ ÂàõÂª∫Packet-In‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÁöÑÂ§ÑÁêÜÁ®ãÂ∫èÔºå‰ª•Êé•ÂèóÂÖ∑ÊúâÊú™Áü•ÁõÆÊ†áÁöÑÂ∑≤Êé•Êî∂Êï∞ÊçÆÂåÖ 123456@set_ev_cls(ofp_event.EventOFPPacketIn, MAIN_DISPATCHER) def _packet_in_handler(self, ev): msg = ev.msg datapath = msg.datapath ofproto = datapath.ofproto parser = datapath.ofproto_parser Â∏∏Áî®ÁöÑOFPPacketInÁ±ªÂ±ûÊÄßÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö Êõ¥Êñ∞MACÂú∞ÂùÄË°® 12345678910def _packet_in_handler(self, ev): # get the received port number from packet_in message. in_port = msg.match['in_port'] self.logger.info("packet in %s %s %s %s", dpid, src, dst, in_port) # learn a mac address to avoid FLOOD next time. self.mac_to_port[dpid][src] = in_port $\qquad$‰ªéOFPPacketInÂåπÈÖç‰∏≠Ëé∑ÂèñÊé•Êî∂Á´ØÂè£Ôºàin_portÔºâ„ÄÇÁõÆÊ†áMACÂú∞ÂùÄÂíåÂèëÈÄÅÊñπMACÂú∞ÂùÄ‰ΩøÁî®RyuÁöÑÊï∞ÊçÆÂåÖÂ∫ì‰ªéÊé•Êî∂Âà∞ÁöÑÊï∞ÊçÆÂåÖÁöÑ‰ª•Â§™ÁΩëÊä•Â§¥‰∏≠Ëé∑Âèñ„ÄÇÂü∫‰∫éËé∑ÂèñÁöÑÂèëÈÄÅÊñπMACÂú∞ÂùÄÂíåÊé•Êî∂ÁöÑÁ´ØÂè£Âè∑ÔºåÊõ¥Êñ∞MACÂú∞ÂùÄË°®„ÄÇ$\qquad$‰∏∫‰∫ÜÊîØÊåÅ‰∏éÂ§ö‰∏™OpenFlow‰∫§Êç¢Êú∫ÁöÑËøûÊé•ÔºåMACÂú∞ÂùÄË°®Ë¢´ËÆæËÆ°‰∏∫ÈíàÂØπÊØè‰∏™OpenFlow‰∫§Êç¢Êú∫ËøõË°åÁÆ°ÁêÜ„ÄÇdatapath IDÁî®‰∫éÊ†áËØÜOpenFlow‰∫§Êç¢Êú∫„ÄÇ Âà§Êñ≠ËΩ¨ÂèëÁõÆÁöÑÁ´ØÂè£ ÂΩìMACÂú∞ÂùÄË°®‰∏≠Â≠òÂú®ÁõÆÁöÑMACÂú∞ÂùÄÊó∂Ôºå‰ΩøÁî®Áõ∏Â∫îÁöÑÁ´ØÂè£Âè∑„ÄÇÂ¶ÇÊûúÊú™ÊâæÂà∞ÔºåÂàôÁîüÊàêOUTPUTÊìç‰ΩúÁ±ªÁöÑÂÆû‰æãÔºåËØ•ÂÆû‰æãÊåáÂÆöËæìÂá∫Á´ØÂè£ÁöÑÊ≥õÊ¥™ÔºàOFPP_FLOODÔºâ 123456789101112131415def _packet_in_handler(self, ev): # if the destination mac address is already learned, # decide which port to output the packet, otherwise FLOOD. if dst in self.mac_to_port[dpid]: out_port = self.mac_to_port[dpid][dst] else: out_port = ofproto.OFPP_FLOOD # construct action list. actions = [parser.OFPActionOutput(out_port)] # install a flow to avoid packet_in next time. if out_port != ofproto.OFPP_FLOOD: match = parser.OFPMatch(in_port=in_port, eth_dst=dst) self.add_flow(datapath, 1, match, actions) $\qquad$Â¶ÇÊûúÊâæÂà∞ÁõÆÊ†áMACÂú∞ÂùÄÔºåÂàô‰ºöÂú®OpenFlow‰∫§Êç¢Êú∫ÁöÑÊµÅË°®‰∏≠Ê∑ªÂä†‰∏Ä‰∏™Êù°ÁõÆ„ÄÇ‰∏éÊ∑ªÂä†Table-missÊµÅÊù°ÁõÆ‰∏ÄÊ†∑ÔºåÊåáÂÆöÂåπÈÖçÂíåÊìç‰ΩúÔºåÂπ∂ÊâßË°åadd_flowÔºàÔºâ‰ª•Ê∑ªÂä†ÊµÅÊù°ÁõÆ„ÄÇ $\qquad$‰∏éTable-missÊµÅÊù°ÁõÆ‰∏çÂêåÔºåÊ≠§Ê¨°ËÆæÁΩÆÂåπÈÖçÊù°‰ª∂„ÄÇËøôÊ¨°ÂÆûÁé∞‰∫Ü‰∫§Êç¢ÈõÜÁ∫øÂô®ÔºåÊåáÂÆö‰∫ÜÊé•Êî∂Á´ØÂè£Ôºàin_portÔºâÂíåÁõÆÊ†áMACÂú∞ÂùÄÔºàeth_dstÔºâ„ÄÇ‰æãÂ¶ÇÔºåÁî±Á´ØÂè£1Êé•Êî∂ÁöÑÂØªÂùÄÂà∞‰∏ªÊú∫BÁöÑÂàÜÁªÑÊòØÁõÆÊ†á„ÄÇ$\qquad$ÂØπ‰∫éÊ≠§Ê¨°ÁöÑÊµÅÊù°ÁõÆÔºå‰ºòÂÖàÁ∫ßÊåáÂÆö‰∏∫1,ÂÄºË∂äÂ§ßÔºå‰ºòÂÖàÁ∫ßË∂äÈ´òÔºåÂõ†Ê≠§ÔºåÊ≠§Â§ÑÊ∑ªÂä†ÁöÑÊµÅÊù°ÁõÆÂ∞ÜÂú®Table-missÊµÅÊù°ÁõÆ‰πãÂâçËøõË°åËØÑ‰º∞„ÄÇ$\qquad$Ê†πÊçÆÂåÖÂê´‰∏äËø∞Êìç‰ΩúÁöÑÊëòË¶ÅÔºåÂ∞Ü‰ª•‰∏ãÊù°ÁõÆÊ∑ªÂä†Âà∞ÊµÅË°®‰∏≠„ÄÇÂ∞ÜÁ´ØÂè£1Êé•Êî∂Âà∞ÁöÑ‰∏ªÊú∫BÔºàÁõÆÊ†áMACÂú∞ÂùÄ‰∏∫BÔºâÁöÑÊï∞ÊçÆÂåÖ‰º†ËæìÂà∞Á´ØÂè£4„ÄÇ ÂØπ‰∫éOpenFlowÔºåÂú®ÈÄâÈ°π‰∏≠ËßÑÂÆö‰∫Ü‰∏Ä‰∏™Âêç‰∏∫NORMALÁöÑÈÄªËæëËæìÂá∫Á´ØÂè£ÔºåÂΩì‰∏∫ËæìÂá∫Á´ØÂè£ÊåáÂÆöNORMALÊó∂Ôºå‰∫§Êç¢Êú∫ÁöÑL2 / L3ÂäüËÉΩÁî®‰∫éÂ§ÑÁêÜÊï∞ÊçÆÂåÖ„ÄÇËøôÊÑèÂë≥ÁùÄÔºåÈÄöËøáÊåáÁ§∫Â∞ÜÊâÄÊúâÊï∞ÊçÆÂåÖËæìÂá∫Âà∞NORMALÁ´ØÂè£ÔºåÂèØ‰ª•‰Ωø‰∫§Êç¢Êú∫‰Ωú‰∏∫‰∫§Êç¢ÈõÜÁ∫øÂô®ËøêË°å„ÄÇ‰ΩÜÊòØÔºåÊàë‰ª¨‰ΩøÁî®OpenFlowÂÆûÁé∞ÊØè‰∏™Â§ÑÁêÜ Ê∑ªÂä†ÊµÅË°®È°π Packet-InÂ§ÑÁêÜÁ®ãÂ∫èÁöÑÂ§ÑÁêÜÂ∞öÊú™ÂÆåÊàêÔºå‰ΩÜËøôÈáåÂ∞Ü‰ªãÁªçÊ∑ªÂä†ÊµÅË°®È°πÁöÑÊñπÊ≥ï„ÄÇ 1234567def add_flow(self, datapath, priority, match, actions): ofproto = datapath.ofproto parser = datapath.ofproto_parser # construct flow_mod message and send it. inst = [parser.OFPInstructionActions(ofproto.OFPIT_APPLY_ACTIONS, actions)] ÂØπ‰∫éÊµÅË°®È°πÔºåËÆæÁΩÆÊåáÁ§∫ÁõÆÊ†áÊï∞ÊçÆÂåÖÊù°‰ª∂ÁöÑÂåπÈÖçÔºå‰ª•ÂèäÊåáÁ§∫ÂØπÊï∞ÊçÆÂåÖÁöÑÊìç‰ΩúÔºåÊù°ÁõÆ‰ºòÂÖàÁ∫ßÂíåÊúâÊïàÊó∂Èó¥ÁöÑÊåá‰ª§„ÄÇÂú®‰∫§Êç¢ÈõÜÁ∫øÂô®ÂÆûÁé∞‰∏≠ÔºåApply ActionsÁî®‰∫éËÆæÁΩÆÊåá‰ª§Ôºå‰ª•‰æøÁ´ãÂç≥‰ΩøÁî®ÊåáÂÆöÁöÑÊìç‰Ωú„ÄÇÊúÄÂêéÔºåÈÄöËøáÂèëÂá∫Flow ModÊ∂àÊÅØÂêëÊµÅË°®Ê∑ªÂä†Êù°ÁõÆ 1234def add_flow(self, datapath, priority, match, actions): mod = parser.OFPFlowMod(datapath=datapath, priority=priority, match=match, instructions=inst) datapath.send_msg(mod) ‰∏éFlow ModÊ∂àÊÅØÂØπÂ∫îÁöÑÁ±ªÊòØOFPFlowModÁ±ª„ÄÇÁîüÊàêOFPFlowModÁ±ªÁöÑÂÆû‰æãÔºåÂπ∂‰ΩøÁî®Datapath.send_msgÔºàÔºâÊñπÊ≥ïÂ∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞OpenFlow‰∫§Êç¢Êú∫„ÄÇOFPFlowModÁ±ªÁöÑÊûÑÈÄ†ÂáΩÊï∞ÊúâÂæàÂ§öÂèÇÊï∞„ÄÇÂÖ∂‰∏≠ËÆ∏Â§öÈÄöÂ∏∏ÂèØ‰ª•ÊòØÈªòËÆ§ÂÄº„ÄÇÊã¨Âè∑ÂÜÖÊòØÈªòËÆ§ÂÄº„ÄÇ datapath ËøôÊòØÊîØÊåÅÊµÅË°®Êìç‰ΩúÁöÑOpenFlow‰∫§Êç¢Êú∫ÁöÑDatapathÁ±ªÂÆû‰æã„ÄÇÈÄöÂ∏∏ÔºåÊåáÂÆö‰ªé‰º†ÈÄíÁªôÂ§ÑÁêÜÁ®ãÂ∫èÁöÑ‰∫ã‰ª∂‰∏≠Ëé∑ÂèñÁöÑÈÇ£‰∏™Ôºå‰æãÂ¶ÇPacket-InÊ∂àÊÅØ„ÄÇ cookie(0) ÊéßÂà∂Âô®ÊåáÂÆöÁöÑÂèØÈÄâÂÄºÔºåÂèØÂú®Êõ¥Êñ∞ÊàñÂà†Èô§Êù°ÁõÆÊó∂Áî®‰ΩúËøáÊª§Êù°‰ª∂„ÄÇËøô‰∏çÁî®‰∫éÊï∞ÊçÆÂåÖÂ§ÑÁêÜ„ÄÇ cookie_mask(0) Êõ¥Êñ∞ÊàñÂà†Èô§Êù°ÁõÆÊó∂ÔºåÂ¶ÇÊûúÊåáÂÆö‰∫Ü0‰ª•Â§ñÁöÑÂÄºÔºåÂàô‰ΩøÁî®Êù°ÁõÆÁöÑcookieÂÄºÂ∞ÜÂÖ∂Áî®‰ΩúÊìç‰ΩúÁõÆÊ†áÊù°ÁõÆÁöÑËøáÊª§Âô® table_id ÊåáÂÆöÊìç‰ΩúÁõÆÊ†áÊµÅË°®ÁöÑË°®ID command (ofproto_v1_3.OFPFC_ADD)„ÄÅ ÊåáÂÆöË¶ÅÊâßË°åÁöÑÊìç‰Ωú„ÄÇ idle_timeout(0) ÊåáÂÆöÊ≠§Êù°ÁõÆÁöÑÊúâÊïàÊúüÔºå‰ª•Áßí‰∏∫Âçï‰Ωç„ÄÇÂ¶ÇÊûúÊú™ÂºïÁî®ËØ•Êù°ÁõÆÂπ∂‰∏îidle_timeoutÊåáÂÆöÁöÑÊó∂Èó¥ËøáÂéªÔºåÂàôÂà†Èô§ËØ•Êù°ÁõÆ„ÄÇÂºïÁî®ËØ•Êù°ÁõÆÊó∂ÔºåÂ∞ÜÈáçÁΩÆÂ∑≤Áî®Êó∂Èó¥„ÄÇÂà†Èô§Êù°ÁõÆÂêéÔºå‰ºöÂêëÊéßÂà∂Âô®ÂèëÈÄÅFlow RemovedÊ∂àÊÅØ„ÄÇ hard_timeout (0) ÊåáÂÆöÊ≠§Êù°ÁõÆÁöÑÊúâÊïàÊúüÔºå‰ª•Áßí‰∏∫Âçï‰Ωç„ÄÇ‰∏éidle_timeout‰∏çÂêåÔºå‰ΩøÁî®hard_timeoutÔºåÂç≥‰ΩøÂºïÁî®‰∫ÜÊù°ÁõÆÔºå‰πü‰∏ç‰ºöÈáçÁΩÆÂ∑≤Áî®Êó∂Èó¥„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÊó†ËÆ∫Êù°ÁõÆÁöÑÂºïÁî®Â¶Ç‰ΩïÔºåÈÉΩÂú®ÊåáÂÆöÁöÑÊó∂Èó¥ËøáÂéªÊó∂Âà†Èô§ËØ•Êù°ÁõÆ„ÄÇ‰∏éidle_timeout‰∏ÄÊ†∑ÔºåÂΩìÂà†Èô§Êù°ÁõÆÊó∂ÔºåÂ∞ÜÂèëÈÄÅFlow RemovedÊ∂àÊÅØ„ÄÇ priority(0) ÊåáÂÆöÊ≠§Êù°ÁõÆÁöÑ‰ºòÂÖàÁ∫ßÈ°∫Â∫è„ÄÇÂÄºË∂äÂ§ßÔºå‰ºòÂÖàÁ∫ßË∂äÈ´ò„ÄÇ buffer_id (ofproto_v1_3.OFP_NO_BUFFER) ÊåáÂÆöOpenFlow‰∫§Êç¢Êú∫‰∏äÁºìÂÜ≤ÁöÑÊï∞ÊçÆÂåÖÁöÑÁºìÂÜ≤Âå∫ID„ÄÇÂú®ÂàÜÁªÑËæìÂÖ•Ê∂àÊÅØ‰∏≠ÈÄöÁü•ÁºìÂÜ≤Âå∫IDÔºåÂπ∂‰∏îÂΩìÊåáÂÆöÁöÑÂ§ÑÁêÜ‰∏éÂèëÈÄÅ‰∏§‰∏™Ê∂àÊÅØÊó∂Áõ∏ÂêåÔºåÂç≥Ôºå‰∏∫ËæìÂá∫Á´ØÂè£ÂíåÊµÅÊ®°ÂºèÊ∂àÊÅØÊåáÂÆö‰∫ÜOFPP_TABLEÁöÑÂàÜÁªÑËæìÂá∫Ê∂àÊÅØ„ÄÇÂΩìÂëΩ‰ª§‰∏∫OFPFC_DELETEÊàñOFPFC_DELETE_STRICTÊó∂ÔºåÂ∞ÜÂøΩÁï•Ê≠§È°π„ÄÇÂ¶ÇÊûúÊú™ÊåáÂÆöÁºìÂÜ≤Âå∫IDÔºåËØ∑ËÆæÁΩÆOFP_NO_BUFFER out_port Â¶ÇÊûúÂëΩ‰ª§‰∏∫OFPFC_DELETEÊàñOFPFC_DELETE_STRICTÔºåÂàôËæìÂá∫Á´ØÂè£Â∞ÜËøáÊª§ÁõÆÊ†áÊù°ÁõÆ„ÄÇÂ¶ÇÊûúÂëΩ‰ª§‰∏∫OFPFC_ADDÔºåOFPFC_MODIFYÊàñOFPFC_MODIFY_STRICTÔºåÂàôÂøΩÁï•ËØ•ÂëΩ‰ª§„ÄÇË¶ÅÁ¶ÅÁî®ËæìÂá∫Á´ØÂè£ÁöÑËøáÊª§ÔºåËØ∑ÊåáÂÆöOFPP_ANY„ÄÇ out_group(0) ‰∏éout_port‰∏ÄÊ†∑ÔºåÊåâËæìÂá∫ÁªÑËøáÊª§„ÄÇË¶ÅÁ¶ÅÁî®ÔºåËØ∑ÊåáÂÆöOFPG_ANY„ÄÇ flag(0) ÊÇ®ÂèØ‰ª•ÊåáÂÆö‰ª•‰∏ãÊ†áÂøóÁªÑÂêà match(None) ÂÖ∑‰ΩìÁöÑmatch instructions ([]) ÊåáÂÆöÊåá‰ª§ÂàóË°® Êï∞ÊçÆÂåÖËΩ¨Áßª Áé∞Âú®Êàë‰ª¨ËøîÂõûPacket-InÂ§ÑÁêÜÁ®ãÂ∫èÂπ∂Ëß£ÈáäÊúÄÁªàÂ§ÑÁêÜ„ÄÇÊó†ËÆ∫ÊòØÂê¶‰ªéMACÂú∞ÂùÄË°®‰∏≠ÊâæÂà∞ÁõÆÁöÑÂú∞MACÂú∞ÂùÄÔºåÊúÄÂêéÈÉΩÂèëÂá∫ÂàÜÁªÑËæìÂá∫Ê∂àÊÅØÂπ∂‰º†ÈÄÅÊé•Êî∂ÁöÑÂàÜÁªÑ„ÄÇ 123456def _packet_in_handler(self, ev): out = parser.OFPPacketOut(datapath=datapath, buffer_id=ofproto.OFP_NO_BUFFER, in_port=in_port, actions=actions, data=msg.data) datapath.send_msg(out) ‰∏éPacket-OutÊ∂àÊÅØÂØπÂ∫îÁöÑÁ±ªÊòØOFPPacketOutÁ±ª„ÄÇ OFPPacketOutÁöÑÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂèÇÊï∞Â¶Ç‰∏ãÔºö datapath ÊåáÂÆöOpenFlow‰∫§Êç¢Êú∫ÂØπÂ∫îÁöÑDatapathÁ±ªÁöÑÂÆû‰æã buffer_id ÊåáÂÆöOpenFlow‰∏äÁºìÂÜ≤ÁöÑÊï∞ÊçÆÂåÖÁöÑÁºìÂÜ≤Âå∫ID„ÄÇÂ¶ÇÊûúÊú™ÁºìÂÜ≤ÔºåÂàôÊåáÂÆöOFP_NO_BUFFER„ÄÇ in_port ÊåáÂÆöÊé•Êî∂Êï∞ÊçÆÂåÖÁöÑÁ´ØÂè£„ÄÇÂ¶ÇÊûú‰∏çÊòØÊî∂Âà∞ÁöÑÊï∞ÊçÆÂåÖÔºåÂàôÊåáÂÆöOFPP_CONTROLLER actions ÊåáÂÆöÊìç‰ΩúÂàóË°®„ÄÇ data ÊåáÂÆöÊï∞ÊçÆÂåÖÁöÑ‰∫åËøõÂà∂Êï∞ÊçÆ„ÄÇÂΩì‰∏∫buffer_idÊåáÂÆöOFP_NO_BUFFERÊó∂‰ΩøÁî®Ê≠§ÊñπÊ≥ï„ÄÇ‰ΩøÁî®OpenFlow‰∫§Êç¢Êú∫ÁöÑÁºìÂÜ≤Âå∫Êó∂ÔºåÁúÅÁï• $\qquad$Âú®‰∫§Êç¢ÈõÜÁ∫øÂô®ÂÆûÁé∞‰∏≠ÔºåÂ∑≤Áªè‰∏∫buffer_idÊåáÂÆö‰∫ÜPacket-InÊ∂àÊÅØÁöÑbuffer_id„ÄÇÂ¶ÇÊûúÂ∑≤Á¶ÅÁî®Packet-InÊ∂àÊÅØÁöÑbuffer-idÔºåÂàô‰∏∫ÂèëÈÄÅÊï∞ÊçÆÂåÖÁöÑÊï∞ÊçÆÊåáÂÆöÊî∂Âà∞ÁöÑPacket-InÊï∞ÊçÆÂåÖ„ÄÇ 2.4 ryuÂ∫îÁî®ÊâßË°åÂõ†‰∏∫xtermÊòØ‰ªéMininetÂêØÂä®ÁöÑÔºåÊâÄ‰ª•‰ΩøÁî®mnÂëΩ‰ª§ÂêØÂä®MininetÁéØÂ¢É„ÄÇË¶ÅÊûÑÂª∫ÁöÑÁéØÂ¢ÉÂÖ∑ÊúâÁÆÄÂçïÁöÑÁªìÊûÑÔºåÂÖ∑Êúâ‰∏â‰∏™‰∏ªÊú∫Âíå‰∏Ä‰∏™‰∫§Êç¢Êú∫„ÄÇmnÂëΩ‰ª§ÂèÇÊï∞Â¶Ç‰∏ãÔºö document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>RYUÊéßÂà∂Âô®</category>
      </categories>
      <tags>
        <tag>SDN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[È°µÈù¢ÁΩÆÊç¢ÁÆóÊ≥ïÂÆûÈ™å]]></title>
    <url>%2F2019%2F04%2F05%2Flab4%2F</url>
    <content type="text"><![CDATA[ÂÆûÈ™åÂõõ ÂÆûÈ™åÊä•Âëä Â≠ôÊ±âÊ≠¶ 16281047 16281047 ÂÆûÈ™åÊ∫êÁ†ÅÈìæÊé•:https://github.com/sunhanwu/16281047_OperatingSystemExperiment/tree/master/lab4 ‰∏Ä Ê¶ÇË¶ÅËÆæËÆ° ÂÆûÈ™åÊ∫êÁ†ÅËØ∑ÂèÇËÄÉtest.h 1.1 Ê®°ÂùóËØ¥Êòé$\qquad$Êú¨ÂÆûÈ™åÂÖ±ÂåÖÂê´ÊµãËØïÊ®°ÂùóÂú®ÂÜÖ‰∏ÄÂÖ±Êúâ7‰∏™Ê®°ÂùóÔºåÂÖ∂‰∏≠‰∫î‰∏™Ê®°ÂùóÊòØÁÆóÊ≥ïÊ®°ÂùóÔºåÂàÜÂà´ÂÆûÁé∞ÊúÄ‰Ω≥ÁΩÆÊç¢ÁÆóÊ≥ï„ÄÅÂÖàÂÖ•ÂÖàÂá∫ÁÆóÊ≥ï„ÄÅÊúÄ‰πÖÊú™‰ΩøÁî®ÁÆóÊ≥ï„ÄÅÊîπËøõÁöÑClockÁÆóÊ≥ï„ÄÅPBAÈ°µÈù¢ÁºìÂÜ≤ÁÆóÊ≥ïÂíå‰∏ªÊ®°Âùó„ÄÇËØ¶ÁªÜÁöÑÁªÜËäÇÂ¶Ç‰∏ãÔºö Ê®°Âùó Êñá‰ª∂ ËØ¥Êòé ÊµãËØïÊ®°Âùó test.h ÂåÖÂê´È°µÈù¢Â∏ßÁªìÊûÑ‰ΩìÁöÑÂÆö‰πâ„ÄÅÈöèÊú∫ËÆøÈóÆÂ∫èÂàóÁöÑÁîüÊàêÁ≠âÊµãËØïÂáΩÊï∞ ÊúÄ‰Ω≥ÁΩÆÊç¢ÁÆóÊ≥ïÊ®°Âùó Optimal.h ÂåÖÂê´ÊúÄ‰Ω≥ÁΩÆÊç¢ÁÆóÊ≥ïÂáΩÊï∞ ÂÖàÂÖ•ÂÖàÂá∫ÁÆóÊ≥ïÊ®°Âùó FIFO.h ÂåÖÂê´ÂÖàÂÖ•ÂÖàÂá∫ÁÆóÊ≥ïÂáΩÊï∞ ÊúÄ‰πÖÊú™‰ΩøÁî®ÁÆóÊ≥ïÊ®°Âùó LRU.h ÂåÖÂê´ÊúÄ‰πÖÊú™‰ΩøÁî®ÁÆóÊ≥ïÂáΩÊï∞ ÊîπËøõClockÁÆóÊ≥ïÊ®°Âùó Clock.h ÂåÖÂê´ÊîπËøõÁöÑClockÁÆóÊ≥ïÂáΩÊï∞ PBAÈ°µÈù¢ÁºìÂÜ≤ÁÆóÊ≥ïÊ®°Âùó PBA.h ÂåÖÂê´È°µÈù¢ÁºìÂÜ≤ÁÆóÊ≥ïÂáΩÊï∞ ‰∏ªÊ®°Âùó main.cpp ‰∏ªÂáΩÊï∞ 1.2 Êé•Âè£ËØ¥Êòé$\qquad$1.1 ‰∏≠ÊâÄËØ¥ÁöÑÁöÑÂêÑ‰∏™Ê®°Âùó‰∏≠ÔºåÊµãËØïÊ®°ÂùóÊòØ‰∏Ä‰∏™ÊúÄÂü∫Êú¨ÁöÑÊ®°ÂùóÔºåÂÆÉÂåÖÂê´ÊúÄÂü∫Êú¨ÁöÑÈ°µÈù¢Â∏ßÁªìÊûÑ‰ΩìÁöÑÂÆö‰πâÂíåÈöèÊú∫ËÆøÈóÆÂ∫èÂàóÁîüÊàêÂáΩÊï∞Á≠âÂü∫Êú¨Êï∞ÊçÆÁªìÊûÑÂíåÂáΩÊï∞„ÄÇËÄåÂÖ≠‰∏™ÁÆóÊ≥ïÊ®°ÂùóÈÉΩ‰ºöÂºïÁî®ÊµãËØïÊ®°Âùó‰∏≠ÁöÑÊï∞ÊçÆÁªìÊûÑÂíåÈöèÊú∫ËÆøÈóÆÂ∫èÂàóÁîüÊàêÂáΩÊï∞„ÄÇËÄåÂú®‰∏ªÂáΩÊï∞‰∏≠ËøõË°åÂØπÂêÑ‰∏™ÁÆóÊ≥ïÊ®°ÂùóÁöÑË∞ÉÁî®„ÄÇ‰∏ãÈù¢ÂõæÁ§∫‰∫ÜÂêÑ‰∏™Ê®°Âùó‰πãÈó¥ÁöÑÂÖ≥Á≥ªÔºö 1.3 Êï∞ÊçÆÁªìÊûÑËØ¥Êòé$\qquad$Âú®Êú¨ÂÆûÈ™åÂÆö‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑË°®Á§∫È°µÈù¢Â∏ßÁöÑÁªìÊûÑ‰ΩìÔºåÂÖ∂ÊàêÂëòÂèòÈáèÂèäÂÖ∂‰ΩúÁî®Â¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö WorkItem(Ë°®Á§∫Â∏ßÁªìÊûÑ‰Ωì) 1234567typedef struct WorkItem{ int seq; int priority; char Used; char Modified;}WorkItem; ÂèòÈáèÂêç ‰ΩúÁî® ÂèòÈáèÂêç ‰ΩúÁî® seq ËÆøÈóÆÁöÑÂ∫èÂàóÂè∑ priority ‰ºòÂÖàÁ∫ß Used Clock‰∏≠ÁöÑ‰ΩøÁî®‰Ωç Modified Clock‰∏≠ÁöÑ‰øÆÊîπ‰Ωç MemSchedule(Ë°®Á§∫ÂÜÖÂ≠òÂàÜÈÖçË∞ÉÂ∫¶ÁªìÊûÑ‰Ωì) 12345678910111213141516171819202122typedef struct MemSchedule{ WorkItem* WorkSpace=NULL; int *VisitSeq=NULL; int N=64; int p=0; //Â∑•‰ΩúÈõÜÂ§ßÂ∞è int e=5; int m=1; //ÂÆö‰πâËÆøÈóÆÂ∫èÂàóÈïøÂ∫¶o int length; //ÂΩìÂâçÂ∑≤‰ΩøÁî®Áâ©ÁêÜÂùóÊï∞ int work_len=0; //ÂèëÁîüÊõøÊç¢ÁöÑÁâ©ÁêÜÂùóÂè∑ int change=0; float t,r;// ÈòüÂàóÈïøÂ∫¶ int queue_free_len = 0; int queue_modified_len = 0; WorkItem free[2]; WorkItem Modified[2];}MemSchedule; ÂèòÈáèÂêç ‰ΩúÁî® ÂèòÈáèÂêç ‰ΩúÁî® WorkSpace Â∑•‰ΩúÂå∫Èó¥ÁªìÊûÑ‰ΩìÊï∞ÁªÑ VisitSeq ËÆøÈóÆÂ∫èÂàóÊï∞ÁªÑ N ËôöÊãüÂÜÖÂ≠òÂ§ßÂ∞è p Â∑•‰ΩúÈõÜËµ∑Âßã‰ΩçÁΩÆ e Â∑•‰ΩúÂå∫Èó¥Â§ßÂ∞è m Â∑•‰ΩúÂå∫Èó¥ÁßªÂä®ÊïàÁéá length ËÆøÈóÆÂ∫èÂàóÈïøÂ∫¶ work_len Â∑•‰ΩúÈõÜ‰∏≠‰ΩøÁî®ÈïøÂ∫¶ chang ‰∏ä‰∏ÄÊ¨°ÂèëÁîüÊõøÊç¢ÁöÑÁâ©ÁêÜÂùóÂè∑ t,r ÈöèÊú∫ËÆøÈóÆÂ∫èÂàóÁÆóÊ≥ïÂèÇÊï∞ queue_free_len PBA‰∏≠ÁöÑÁ©∫Èó≤ÈòüÂàóÈïøÂ∫¶ queue_modifie_len PBA‰∏≠‰øÆÊîπÈòüÂàóÈïøÂ∫¶ free PBA‰∏≠ÁöÑÁ©∫Èó≤ÈòüÂàó Modified PBA‰∏≠ÁöÑ‰øÆÊîπÈòüÂàó 1.4 ÈöèÊú∫ËÆøÈóÆÂ∫èÂàóÁîüÊàêÁÆóÊ≥ï$\qquad$ÂÆûÈ™å‰∏≠ÈúÄË¶Å‰ΩøÁî®Âà∞ÈöèÊú∫ËÆøÈóÆÂ∫èÂàóÔºåÊâÄ‰ª•ÁîüÊàê‰∏Ä‰∏™Â•ΩÁöÑÈöèÊú∫ËÆøÈóÆÂ∫èÂàóËÉΩÂæàÂ•ΩÁöÑÊµãËØïÂá∫ÂêÑ‰∏™ÁÆóÊ≥ïÁöÑÊÄßËÉΩ„ÄÇ‰∏ãÈù¢ÊòØÊú¨ÂÆûÈ™å‰∏≠ÁöÑÈöèÊú∫ÁÆóÊ≥ïËÆøÈóÆÂ∫èÂàóÁîüÊàêÁÆóÊ≥ïÁöÑÊ∫êÁ†Å 12345678910111213141516171819202122232425262728293031MemSchedule GeneVisitSeq(int l){ MemSchedule schedule1; printf("ÊòØÂê¶ËÆæÂÆöË∞ÉÂ∫¶ÁÆóÊ≥ïÂèÇÊï∞(Y/N):"); char flag; scanf("%c",&amp;flag); if (flag=='Y') { schedule1=SetMemSchedule(schedule1); } schedule1.t=rand()%1000/1000.0; schedule1.VisitSeq=(int *)malloc(l*sizeof(schedule1.m)); printf("ÁîüÊàêÈöèÊú∫ÂÜÖÂ≠òËÆøÈóÆÂ∫èÂàóÔºö\n"); for (int i=0;i&lt;l;i++) { for (int j=0;j&lt;schedule1.m;j++) { schedule1.VisitSeq[i*schedule1.m+j] = rand()%schedule1.e+schedule1.p; printf("%d ",schedule1.VisitSeq[i*schedule1.m+j]); } schedule1.r=rand()%1000/1000.0; if(schedule1.r&lt;schedule1.t) { schedule1.p=(schedule1.p+1)%schedule1.N; } } printf("\n"); schedule1.length=l*schedule1.m; schedule1.WorkSpace = (WorkItem *)malloc(schedule1.e *sizeof(WorkItem)); return schedule1;} ‰∏ãÈù¢ÊòØÂÖ∂ÊµÅÁ®ãÂõæÔºö ÂÖ∂ÊèèËø∞‰∏∫Ôºö È¶ñÂÖàÁîüÊàêÁÆóÊ≥ïÈúÄË¶ÅÁöÑN p e m tÁ≠âÂü∫Êú¨ÂèÇÊï∞ ÁîüÊàêm‰∏™ËåÉÂõ¥Âú®pÂà∞p+e‰πãÈó¥ÁöÑÈöèÊú∫Êï∞Âä†ÂÖ•Âà∞Â∫èÂàó‰∏≠ ÁîüÊàêÈöèÊú∫Â∞èÊï∞r ÊØîËæÉtÂíårÔºåÂ¶ÇÊûútÊØîrÂ∞èÔºõÂàôÂèñ‰∏Ä‰∏™Êñ∞ÁöÑpÂÄºÔºõÂê¶Âàôp=p+1 mod N Â¶ÇÊûúÈúÄË¶ÅÁªßÁª≠Âä†ÈïøËÆøÈóÆÂ∫èÂàóÔºåÂàôËøîÂõûÁ¨¨‰∫åÈÉ®ÁªßÁª≠ÊâßË°åÔºõÂê¶ÂàôÁªìÊùü 1.5 ÁÆóÊ≥ïÈÄöÁî®ÊµÅÁ®ã$\qquad$ÂêÑ‰∏™È°µÈù¢ÁΩÆÊç¢ÁÆóÊ≥ï‰∏≠ÔºåÂ§ßÈÉ®ÂàÜÊµÅÁ®ãÊòØ‰∏ÄËá¥ÁöÑÔºåÂè™ÊòØÂú®ÈÄâÊã©Ë¶ÅÊõøÊç¢ÁöÑÈ°µÈù¢ÁöÑÊó∂ÂÄôÈÄâÊã©ÁöÑÁÆóÊ≥ï‰∏ç‰∏ÄÊ†∑Ôºå‰∏ãÈù¢ÊòØËøô‰∫õÁÆóÊ≥ïÁöÑÈÄöÁî®ÊµÅÁ®ãÔºåËÄåÊØè‰∏™ÁÆóÊ≥ïÈÄâÊã©ÊõøÊç¢È°µÂè∑ÁöÑÊó∂ÂÄôÂ∞ÜÂú®ÂêéÈù¢‰ªîÁªÜËß£Èáä„ÄÇ ÂÖ∂ÊèèËø∞‰∏∫Ôºö Âú®ËÆøÈóÆÂ∫èÂàó‰∏≠ÂèñÂá∫‰∏ã‰∏Ä‰∏™Ë¶ÅËÆøÈóÆÁöÑÈ°µÂè∑ÔºåÂ∫èÂàó‰∏∫Á©∫ÁöÑËØùÁªìÊùü„ÄÇ Êü•ÁúãÂàÜÈÖçÁöÑÂÜÖÂ≠òÂÜÖÂ≠òÂùó‰∏≠ÊòØÂê¶ËøòÊúâÂâ©‰ΩôÁ©∫Èó¥ÔºåÊúâÁöÑËØùËøõË°åÁ¨¨‰∏âÊ≠•ÔºõÊ≤°ÊúâËøõË°åÁ¨¨ÂõõÊ≠• Êü•ÁúãË¶ÅËÆøÈóÆÁöÑÈ°µÂè∑Âú®‰ª•Ë£ÖÂÖ•ÂÜÖÂ≠ò‰∏≠ÊòØÂê¶Â≠òÂú®ÔºåÂ≠òÂú®ÁöÑËØùÁõ¥Êé•Âéª‰∏ã‰∏Ä‰∏™Ë¶ÅËÆøÈóÆÁöÑÈ°µÂè∑Ôºå‰ªéÁ¨¨‰∏ÄÊ≠•ÂºÄÂßãÊâßË°åÔºõ‰∏çÂ≠òÂú®ÂàôÂ∞ÜÊñ∞ÁöÑÁâ©ÁêÜÂùóË£ÖÂÖ•ÂÜÖÂ≠ò Êü•ÁúãË¶ÅËÆøÈóÆÁöÑÈ°µÂè∑Âú®‰ª•Ë£ÖÂÖ•ÂÜÖÂ≠ò‰∏≠ÊòØÂê¶Â≠òÂú®ÔºåÂ≠òÂú®ÁöÑËØùÁõ¥Êé•Âéª‰∏ã‰∏Ä‰∏™Ë¶ÅËÆøÈóÆÁöÑÈ°µÂè∑Ôºå‰ªéÁ¨¨‰∫åÈÉ®ÂºÄÂßãÊâßË°åÔºõ‰∏çÂ≠òÂú®ÂàôÂà©Áî®ÁÆóÊ≥ïÊâæÂà∞Ë¶ÅÊõøÊç¢ÁöÑÂÜÖÂ≠òÂùóÂè∑ÔºåÂπ∂Â∞ÜÂÖ∂ÊõøÊç¢ÔºåËøîÂõûÁ¨¨‰∏ÄÊ≠• ‰∫å ÊúÄ‰Ω≥ÁΩÆÊç¢ÁÆóÊ≥ï ÂÆûÈ™åÊ∫êÁ†ÅËØ∑ÂèÇÁÖßgithub‰∏≠Optimal.h ÁÆóÊ≥ïÊèèËø∞ $\qquad$ÊúÄ‰Ω≥ÁΩÆÊç¢ÁÆóÊ≥ïÊòØ‰∏Ä‰∏™ÁêÜÊÉ≥ÁöÑÁÆóÊ≥ïÔºåÂÖ∂ÈÄâÊã©Ê∑òÊ±∞ÁöÑÈ°µÈù¢ÊòØ‰ª•ÂêéÁî®‰∏ç‰ΩøÁî®ÁöÑÔºåÊàñËÄÖÂú®Â∞ÜÊù•ÊúÄÈïøÊó∂Èó¥Áî®‰∏ç‰ΩøÁî®ÁöÑÈ°µÈù¢„ÄÇÈááÁî®ÊúÄ‰Ω≥ÁΩÆÊç¢ÁÆóÊ≥ïÈÄöÂ∏∏ÂèØ‰ª•‰øùËØÅÊúÄ‰ΩéÁöÑÁº∫È°µÁéá„ÄÇ ÁÆóÊ≥ïÊ®°Êãü | ËÆøÈóÆÈ°µÈù¢ | 4 | 4 | 3 | 5 | 6 | 3 | 6 | 7 | 9 | 7 | 10 | 9 | 11 | 12 | | ‚Äî‚Äî‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | | ÂÜÖÂ≠òÂùó1 | 4 | 4 | 4 | 4 | 4 | 4 | 4 | 4 | 9 | 9 | 9 | 9 | 9 | 9 | | ÂÜÖÂ≠òÂùó2 | | | 3 | 3 | 3 | 3 | 3 | 3 | 3 | 3 | 10 | 10 | 11 | 11 | | ÂÜÖÂ≠òÂùó3 | | | | 5 | 5 | 5 | 5 | 5 | 5 | 5 | 5 | 5 | 5 | 12 | | ÂÜÖÂ≠òÂùó4 | | | | | 6 | 6 | 6 | 6 | 6 | 6 | 6 | 6 | 6 | 6 | | ÂÜÖÂ≠òÂùó5 | | | | | | | | 7 | 7 | 7 | 7 | 7 | 7 | 7 | ‰∏äÈù¢ÊòØÁÆóÊ≥ïÊâßË°åËøáÁ®ã‰∏≠È°µÈù¢ÁöÑÊõøÊç¢ËøáÁ®ã ÁÆóÊ≥ïÂÆûÁé∞ $\qquad$Âú®Ê¶ÇË¶ÅËÆæËÆ°‰∏≠ÁªôÂá∫‰∫ÜÂêÑ‰∏™ÁÆóÊ≥ïÁöÑÈÄöÁî®ÁÆóÊ≥ïÊµÅÁ®ãÔºå‰ΩÜÊòØÂêÑ‰∏™ÁÆóÊ≥ïÂú®ÈÄâÊã©ÊõøÊç¢ÁöÑÂÜÖÂ≠òÂùóÂè∑ÁöÑÊó∂ÂÄôÊòØ‰∏ç‰∏ÄËá¥ÁöÑ„ÄÇ‰∏ãÈù¢ÁöÑÊòØÊúÄ‰Ω≥ÁΩÆÊç¢ÁÆóÊ≥ï‰∏≠ÁöÑÂÆûÁé∞„ÄÇ 1234567891011121314151617if (flag == 0){ //minË°®Á§∫ÊúÄÂ∞è‰ºòÂÖàÁ∫ßÁöÑÈÇ£‰∏™ÂÜÖÂ≠òÂùóÂè∑ int min_pri=0xffffff; for ( int m=0;m&lt;s1.work_len;m++) { int n = SearchVisitSqe(s1.VisitSeq,i-1,s1.WorkSpace[m].seq,0,s1.length-s1.work_len+m); s1.WorkSpace[m].priority = n; if (n &lt; min_pri) { s1.change = m; min_pri = n; } } //Ë°®Á§∫ÂèëÁîüÊõøÊç¢ÂèòÂåñÁöÑÂùóÂè∑s1.change s1.WorkSpace[s1.change].seq = pointer;} $\qquad$Âú®Ëøô‰∏™‰ª£Á†ÅÁâáÊÆµ‰∏≠ÂèØ‰ª•ÁúãÂà∞ÔºåÈÄöËøáSearchVisitSeqÂáΩÊï∞ÊâæÂà∞ÂΩìÂâçÂÜÖÂ≠òÂùó‰∏≠ÁöÑÈ°µÂè∑‰∏ã‰∏ÄÊ¨°Âú®ËÆøÈóÆÂ∫èÂàó‰∏≠Âá∫Áé∞ÁöÑË∑ùÁ¶ªÔºåÂπ∂Â∞ÜËØ•Ë∑ùÁ¶ªÊúÄ‰∏∫‰ºòÂÖàÁ∫ßÁöÑÂÄºÊõ¥Êñ∞ÁªôÊØè‰∏™ÂÜÖÂ≠òÂùó„ÄÇÊúÄÂêéÂà§Êñ≠Âì™‰∏™‰ºòÂÖàÁ∫ßÂ∞èÔºåËØ¥ÊòéÈÇ£‰∏™Áâ©ÁêÜÂùóÂ∞ÜÊù•Âá∫Áé∞ÁöÑÊó∂Èó¥Ë∂äÈïøÔºåÂ∞ÜÊõøÊç¢ÂÆÉ„ÄÇ Âú®‰∏ªÂáΩÊï∞‰∏≠Ë∞ÉÁî®ÊúÄ‰Ω≥ÁΩÆÊç¢ÁÆóÊ≥ïÂáΩÊï∞Ôºå‰ºöÂæóÂà∞Â¶Ç‰∏ãÁªìÊûúÔºö Â∏¶Êúâ@Á¨¶Âè∑ÁöÑË°®Á§∫ËøôÊòØÊñ∞ÊõøÊç¢ÁöÑÈ°µÈù¢ÔºåÂ∏¶Êúâ@ÁöÑ‰∏ÄË°åËØ¥ÊòéÂèëÁîü‰∫ÜÁº∫È°µ ÁÆóÊ≥ïÊÄßËÉΩËØÑ‰ª∑ $\qquad$Á®ãÂ∫èËÆæËÆ°‰∏≠ÁªôÂá∫‰∫Ü‰∏§‰∏™ËØÑ‰ª∑ÁÆóÊ≥ïÊÄßËÉΩÁöÑÊåáÊ†áÔºåÂàÜÂà´ÊòØÁº∫È°µÁéáÔºå‰∏ãÈù¢Â∞Ü‰ºöÁªôÂá∫Âú®‰∏çÂêåÁöÑËôöÊãüÂÜÖÂ≠òÂíåÂ∑•‰ΩúÈõÜÁöÑÊÉÖÂÜµ‰∏ã‰∏§‰∏™ÊåáÊ†áÁöÑÂèòÂåñÊÉÖÂÜµ„ÄÇ $\qquad$Áî±‰∫éÊó∂Èó¥ÂºÄÈîÄÂú®ÁÆóÊ≥ï‰∏≠Êó†Ê≥ïÊ®°ÊãüÔºåÂè™ËÉΩÈÄöËøá‰∫ÜÁêÜËÆ∫ÁöÑÂàÜÊûêÂæóÂà∞„ÄÇ‰∏ãÈù¢Âè™ÁªôÂá∫Áº∫È°µÁéá‰∏éÂ∑•‰ΩúÈõÜÂ§ßÂ∞èÂíåËôöÊãüÂÜÖËÆ≠Â§ßÂ∞è‰πãÈó¥ÁöÑÂÖ≥Á≥ª„ÄÇ ‚Äã Â∑•‰ΩúÈõÜÂ§ßÂ∞è‰∏éÁº∫È°µÁéá‰πãÈó¥ÁöÑÂÖ≥Á≥ªÔºö $\qquad$ÂØπÂ∫îÁöÑÊõ≤Á∫ø‰∏∫Ôºö $\qquad$ÂØπ‰∫éËøô‰∏™Êõ≤Á∫øÂÅöÂá∫ÁöÑËß£ÈáäÂ¶Ç‰∏ãÔºö ÂΩìÂ∑•‰ΩúÈõÜÊØîËæÉÂ∞èÁöÑÊó∂ÂÄôÔºåÈ¢ëÁπÅÁöÑÂèëÁîüÁº∫È°µÂØºËá¥Áº∫È°µÁéáÈ´ò ÂΩìÂ∑•‰ΩúÈõÜÂ¢ûÂ§ßÊó∂ÔºåÁî±‰∫éÂÜÖÂ≠òÂùóÊï∞Â¢ûÂ§öÔºåÂáèÂ∞ëÈ°µÈù¢ÁöÑÂèëÁîüÔºåÁº∫È°µÁéáÂáèÂ∞ë„ÄÇ ÂΩìÂ∑•‰ΩúÈõÜÂÜçÁªßÁª≠Â¢ûÂ§ßÁöÑÊó∂ÂÄôÔºåÂâçÈù¢Áâ©ÁêÜÂùóÁ©∫Èó≤ÁöÑÊó∂ÂÄôÈ°µÈù¢Ë£ÖÂÖ•‰πüÁÆóÂÅöÁº∫È°µÔºåÊâÄ‰ª•Áº∫È°µÁéáÂÜçÊ¨°‰∏äÂçá ÂΩìÂ∑•‰ΩúÈõÜÂ§ßÂ∞èËææÂà∞‰∏ÄÂÆöÁ®ãÂ∫¶ÁöÑÊó∂ÂÄôÔºåÁº∫È°µÁéá‰ºö‰∏ÄÁõ¥ÂáèÂ∞è ÂΩìÂ∑•‰ΩúÈõÜ‰∏çÂèòÁöÑÊó∂ÂÄôÔºåÊõ¥ÊîπËôöÊãüÂÜÖÂ≠òÁöÑÊó∂ÂÄôÂàÜÊûêÁº∫È°µÁéáÁöÑÂèòÂåñÔºö ÂÖ∂ÂØπÂ∫îÁöÑÊõ≤Á∫øÂõæ‰∏∫Ôºö ‰∏â ÂÖàÂÖ•ÂÖàÂá∫ÁΩÆÊç¢ÁÆóÊ≥ï ÂÆûÈ™åÊ∫êÁ†ÅËØ∑ÂèÇËÄÉgithub‰∏≠ÁöÑFIFO.h ÁÆóÊ≥ïÊèèËø∞ ÊòØÊúÄÁÆÄÂçïÁöÑÈ°µÈù¢ÁΩÆÊç¢ÁÆóÊ≥ï„ÄÇËøôÁßçÁÆóÊ≥ïÁöÑÂü∫Êú¨ÊÄùÊÉ≥ÊòØÔºöÂΩìÈúÄË¶ÅÊ∑òÊ±∞‰∏Ä‰∏™È°µÈù¢Êó∂ÔºåÊÄªÊòØÈÄâÊã©È©ªÁïô‰∏ªÂ≠òÊó∂Èó¥ÊúÄÈïøÁöÑÈ°µÈù¢ËøõË°åÊ∑òÊ±∞ÔºåÂç≥ÂÖàËøõÂÖ•‰∏ªÂ≠òÁöÑÈ°µÈù¢ÂÖàÊ∑òÊ±∞„ÄÇÂÖ∂ÁêÜÁî±ÊòØÔºöÊúÄÊó©Ë∞ÉÂÖ•‰∏ªÂ≠òÁöÑÈ°µÈù¢‰∏çÂÜçË¢´‰ΩøÁî®ÁöÑÂèØËÉΩÊÄßÊúÄÂ§ß„ÄÇ ÁÆóÊ≥ïÊ®°Êãü | ËÆøÈóÆÈ°µÈù¢ | 4 | 4 | 3 | 5 | 6 | 3 | 6 | 7 | 9 | 7 | 10 | 9 | 11 | 12 | | ‚Äî‚Äî‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | | ÂÜÖÂ≠òÂùó1 | 4 | 4 | 4 | 4 | 4 | 4 | 4 | 4 | 9 | 9 | 9 | 9 | 9 | 9 | | ÂÜÖÂ≠òÂùó2 | | | 3 | 3 | 3 | 3 | 3 | 3 | 3 | 3 | 3 | 3 | 11 | 11 | | ÂÜÖÂ≠òÂùó3 | | | | 5 | 5 | 5 | 5 | 5 | 5 | 5 | 10 | 10 | 10 | 10 | | ÂÜÖÂ≠òÂùó4 | | | | | 6 | 6 | 6 | 6 | 6 | 6 | 6 | 6 | 6 | 12 | | ÂÜÖÂ≠òÂùó5 | | | | | | | | 7 | 7 | 7 | 7 | 7 | 7 | 7 | ÁÆóÊ≥ïÂÆûÁé∞ Âú®Ê¶ÇË¶ÅËÆæËÆ°‰∏≠ÁªôÂá∫‰∫ÜÂêÑ‰∏™ÁÆóÊ≥ïÁöÑÈÄöÁî®ÁÆóÊ≥ïÊµÅÁ®ãÔºå‰ΩÜÊòØÂêÑ‰∏™ÁÆóÊ≥ïÂú®ÈÄâÊã©ÊõøÊç¢ÁöÑÂÜÖÂ≠òÂùóÂè∑ÁöÑÊó∂ÂÄôÊòØ‰∏ç‰∏ÄËá¥ÁöÑ„ÄÇ‰∏ãÈù¢ÁöÑÊòØÂÖàÂÖ•ÂÖàÂá∫ÁΩÆÊç¢ÁÆóÊ≥ï‰∏≠ÁöÑÂÆûÁé∞„ÄÇ 12345678910111213141516171819if (flag == 0){ //minË°®Á§∫ÊúÄÂ∞è‰ºòÂÖàÁ∫ßÁöÑÈÇ£‰∏™ÂÜÖÂ≠òÂùóÂè∑ int min_pri=0xffffff; for ( int m=0;m&lt;s1.work_len;m++) { //ÂíåÂÖ∂‰ªñÁÆóÊ≥ïÁöÑÂå∫Âà´Âè™Êúâ‰ºòÂÖàÁ∫ßÊéíÂ∫èËÆ°ÁÆóÁöÑÊñπÂºè‰∏çÂêå int n = s1.WorkSpace[m].priority; if (n &lt; min_pri) { s1.change = m; min_pri = n; } } //Ë°®Á§∫ÂèëÁîüÊõøÊç¢ÂèòÂåñÁöÑÂùóÂè∑s1.change s1.WorkSpace[s1.change].seq = pointer; //ËÆæÁΩÆÊñ∞Êç¢ÂÖ•ÁöÑÈ°µÈù¢‰ºòÂÖàÁ∫ß‰∏∫work_len s1.WorkSpace[s1.change].priority = s1.e;} $\qquad$Âú®ÂÖàÂÖ•ÂÖàÂá∫ÁΩÆÊç¢ÁÆóÊ≥ï‰∏≠ÊØèÊ¨°Êñ∞ÁΩÆÊç¢‰∏Ä‰∏™ÂÜÖÂ≠òÂùóÂ∞ÜÂÖ∂‰ºòÂÖàÁ∫ßËÆæÁΩÆ‰∏∫Â∑•‰ΩúÂå∫Â§ßÂ∞èÔºå‰πãÂêéÊØèÊ¨°ËøêË°å‰∏ÄÊ¨°ÔºåÂ∑•‰ΩúÂå∫‰∏≠ÁöÑÊâÄÊúâÂÜÖÂ≠òÂùóÁöÑ‰ºòÂÖàÁ∫ßÈÉΩÂáè‰∏ÄÔºåÊõøÊç¢ÁöÑÊó∂ÂÄôÊâæÂà∞‰ºòÂÖàÁ∫ßÊúÄÂ∞èÁöÑÊõøÊç¢Â∞±Ë°å‰∫Ü„ÄÇ ËøêË°åÁªìÊûú Âõõ ÊúÄ‰πÖÊú™‰ΩøÁî®ÁΩÆÊç¢ÁÆóÊ≥ï ÂÆûÈ™åÊ∫êÁ†ÅËØ∑ÂèÇËÄÉgithub‰∏≠ÁöÑLRU.hÊñá‰ª∂ ÁÆóÊ≥ïÊèèËø∞ ËøôÁßçÁÆóÊ≥ïÁöÑÂü∫Êú¨ÊÄùÊÉ≥ÊòØÔºöÂà©Áî®Â±ÄÈÉ®ÊÄßÂéüÁêÜÔºåÊ†πÊçÆ‰∏Ä‰∏™‰Ωú‰∏öÂú®ÊâßË°åËøáÁ®ã‰∏≠ËøáÂéªÁöÑÈ°µÈù¢ËÆøÈóÆÂéÜÂè≤Êù•Êé®ÊµãÊú™Êù•ÁöÑË°å‰∏∫„ÄÇÂÆÉËÆ§‰∏∫ËøáÂéª‰∏ÄÊÆµÊó∂Èó¥Èáå‰∏çÊõæË¢´ËÆøÈóÆËøáÁöÑÈ°µÈù¢ÔºåÂú®ÊúÄËøëÁöÑÂ∞ÜÊù•ÂèØËÉΩ‰πü‰∏ç‰ºöÂÜçË¢´ËÆøÈóÆ„ÄÇÊâÄ‰ª•ÔºåËøôÁßçÁÆóÊ≥ïÁöÑÂÆûË¥®ÊòØÔºöÂΩìÈúÄË¶ÅÊ∑òÊ±∞‰∏Ä‰∏™È°µÈù¢Êó∂ÔºåÊÄªÊòØÈÄâÊã©Âú®ÊúÄËøë‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÊúÄ‰πÖ‰∏çÁî®ÁöÑÈ°µÈù¢‰∫à‰ª•Ê∑òÊ±∞„ÄÇ ÁÆóÊ≥ïÊ®°Êãü | ËÆøÈóÆÈ°µÈù¢ | 4 | 4 | 3 | 5 | 6 | 3 | 6 | 7 | 9 | 7 | 10 | 9 | 11 | 12 | | ‚Äî‚Äî‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | | ÂÜÖÂ≠òÂùó1 | 4 | 4 | 4 | 4 | 5 | 4 | 4 | 4 | 9 | 9 | 9 | 9 | 9 | 9 | | ÂÜÖÂ≠òÂùó2 | | | 3 | 3 | 3 | 3 | 3 | 3 | 3 | 3 | 3 | 3 | 11 | 11 | | ÂÜÖÂ≠òÂùó3 | | | | 5 | 5 | 5 | 5 | 5 | 5 | 5 | 10 | 10 | 10 | 10 | | ÂÜÖÂ≠òÂùó4 | | | | | 6 | 6 | 6 | 6 | 6 | 6 | 6 | 6 | 6 | 12 | | ÂÜÖÂ≠òÂùó5 | | | | | | | | 7 | 7 | 7 | 7 | 7 | 7 | 7 | ÁÆóÊ≥ïÂÆûÁé∞ Âú®Ê¶ÇË¶ÅËÆæËÆ°‰∏≠ÁªôÂá∫‰∫ÜÂêÑ‰∏™ÁÆóÊ≥ïÁöÑÈÄöÁî®ÁÆóÊ≥ïÊµÅÁ®ãÔºå‰ΩÜÊòØÂêÑ‰∏™ÁÆóÊ≥ïÂú®ÈÄâÊã©ÊõøÊç¢ÁöÑÂÜÖÂ≠òÂùóÂè∑ÁöÑÊó∂ÂÄôÊòØ‰∏ç‰∏ÄËá¥ÁöÑ„ÄÇ‰∏ãÈù¢ÁöÑÊòØÊúÄ‰πÖÊú™‰ΩøÁî®ÁΩÆÊç¢ÁÆóÊ≥ï‰∏≠ÁöÑÂÆûÁé∞„ÄÇ 1234567891011121314151617if (flag == 0){ //minË°®Á§∫ÊúÄÂ∞è‰ºòÂÖàÁ∫ßÁöÑÈÇ£‰∏™ÂÜÖÂ≠òÂùóÂè∑ int min_pri=-10000; for ( int m=0;m&lt;s1.work_len;m++) { int n = SearchVisitSqe(s1.VisitSeq,i,s1.WorkSpace[m].seq,1,i); s1.WorkSpace[m].priority = n; if (n &gt; min_pri) { s1.change = m; min_pri = n; } } //Ë°®Á§∫ÂèëÁîüÊõøÊç¢ÂèòÂåñÁöÑÂùóÂè∑s1.change s1.WorkSpace[s1.change].seq = pointer;} $\qquad$Âú®LRUÁÆóÊ≥ï‰∏≠Ôºå‰ΩøÁî®ÂáΩÊï∞SearchVisitSeqÂêëËÆøÈóÆÂ∫èÂàó‰∏≠Â∑≤ÁªèËÆøÈóÆËøáÁöÑÂ∫èÂàóÂèçÂêëÊü•Êâæ‰∏éÂΩìÂâçÈ°µÂè∑Áõ∏ÂêåÁöÑÈ°µÂè∑ÁöÑË∑ùÁ¶ªÔºåÂπ∂Â∞ÜÂÖ∂ÊúÄ‰∏∫‰ºòÂÖàÁ∫ßËµãÂÄºÁªôÂÜÖÂ≠òÂùóÔºåÊØèÊ¨°ÊõøÊç¢ÂâçÊõ¥Êñ∞ÊâÄÊúâÁöÑÂÜÖÂ≠òÂùóÁöÑ‰ºòÂÖàÁ∫ßÔºõÊõøÊç¢ÁöÑÊó∂ÂÄôÊâæÂà∞‰ºòÂÖàÁ∫ßÊúÄÂ§ßÁöÑËøõË°åÊõøÊç¢„ÄÇ ËøêË°åÁªìÊûú ‰∫î ÊîπËøõÁöÑClockÁΩÆÊç¢ÁÆóÊ≥ï ÁÆóÊ≥ïÊèèËø∞ $\qquad$LRUÁÆóÊ≥ïÁöÑÊÄßËÉΩÊé•Ëøë‰∫éOPT,‰ΩÜÊòØÂÆûÁé∞Ëµ∑Êù•ÊØîËæÉÂõ∞ÈöæÔºå‰∏îÂºÄÈîÄÂ§ßÔºõFIFOÁÆóÊ≥ïÂÆûÁé∞ÁÆÄÂçïÔºå‰ΩÜÊÄßËÉΩÂ∑Æ„ÄÇÊâÄ‰ª•Êìç‰ΩúÁ≥ªÁªüÁöÑËÆæËÆ°ËÄÖÂ∞ùËØï‰∫ÜÂæàÂ§öÁÆóÊ≥ïÔºåËØïÂõæÁî®ÊØîËæÉÂ∞èÁöÑÂºÄÈîÄÊé•ËøëLRUÁöÑÊÄßËÉΩÔºåËøôÁ±ªÁÆóÊ≥ïÈÉΩÊòØCLOCKÁÆóÊ≥ïÁöÑÂèò‰Ωì„ÄÇ $\qquad$ÁÆÄÂçïÁöÑCLOCKÁÆóÊ≥ïÊòØÁªôÊØè‰∏ÄÂ∏ßÂÖ≥ËÅî‰∏Ä‰∏™ÈôÑÂä†‰ΩçÔºåÁß∞‰∏∫‰ΩøÁî®‰Ωç„ÄÇÂΩìÊüê‰∏ÄÈ°µÈ¶ñÊ¨°Ë£ÖÂÖ•‰∏ªÂ≠òÊó∂ÔºåËØ•Â∏ßÁöÑ‰ΩøÁî®‰ΩçËÆæÁΩÆ‰∏∫1;ÂΩìËØ•È°µÈöèÂêéÂÜçË¢´ËÆøÈóÆÂà∞Êó∂ÔºåÂÆÉÁöÑ‰ΩøÁî®‰Ωç‰πüË¢´ÁΩÆ‰∏∫1„ÄÇÂØπ‰∫éÈ°µÊõøÊç¢ÁÆóÊ≥ïÔºåÁî®‰∫éÊõøÊç¢ÁöÑÂÄôÈÄâÂ∏ßÈõÜÂêàÁúãÂÅö‰∏Ä‰∏™Âæ™ÁéØÁºìÂÜ≤Âå∫ÔºåÂπ∂‰∏îÊúâ‰∏Ä‰∏™ÊåáÈíà‰∏é‰πãÁõ∏ÂÖ≥ËÅî„ÄÇÂΩìÊüê‰∏ÄÈ°µË¢´ÊõøÊç¢Êó∂ÔºåËØ•ÊåáÈíàË¢´ËÆæÁΩÆÊàêÊåáÂêëÁºìÂÜ≤Âå∫‰∏≠ÁöÑ‰∏ã‰∏ÄÂ∏ß„ÄÇÂΩìÈúÄË¶ÅÊõøÊç¢‰∏ÄÈ°µÊó∂ÔºåÊìç‰ΩúÁ≥ªÁªüÊâ´ÊèèÁºìÂÜ≤Âå∫Ôºå‰ª•Êü•Êâæ‰ΩøÁî®‰ΩçË¢´ÁΩÆ‰∏∫0ÁöÑ‰∏ÄÂ∏ß„ÄÇÊØèÂΩìÈÅáÂà∞‰∏Ä‰∏™‰ΩøÁî®‰Ωç‰∏∫1ÁöÑÂ∏ßÊó∂ÔºåÊìç‰ΩúÁ≥ªÁªüÂ∞±Â∞ÜËØ•‰ΩçÈáçÊñ∞ÁΩÆ‰∏∫0ÔºõÂ¶ÇÊûúÂú®Ëøô‰∏™ËøáÁ®ãÂºÄÂßãÊó∂ÔºåÁºìÂÜ≤Âå∫‰∏≠ÊâÄÊúâÂ∏ßÁöÑ‰ΩøÁî®‰ΩçÂùá‰∏∫0ÔºåÂàôÈÄâÊã©ÈÅáÂà∞ÁöÑÁ¨¨‰∏Ä‰∏™Â∏ßÊõøÊç¢ÔºõÂ¶ÇÊûúÊâÄÊúâÂ∏ßÁöÑ‰ΩøÁî®‰ΩçÂùá‰∏∫1,ÂàôÊåáÈíàÂú®ÁºìÂÜ≤Âå∫‰∏≠ÂÆåÊï¥Âú∞Âæ™ÁéØ‰∏ÄÂë®ÔºåÊääÊâÄÊúâ‰ΩøÁî®‰ΩçÈÉΩÁΩÆ‰∏∫0ÔºåÂπ∂‰∏îÂÅúÁïôÂú®ÊúÄÂàùÁöÑ‰ΩçÁΩÆ‰∏äÔºåÊõøÊç¢ËØ•Â∏ß‰∏≠ÁöÑÈ°µ„ÄÇÁî±‰∫éËØ•ÁÆóÊ≥ïÂæ™ÁéØÂú∞Ê£ÄÊü•ÂêÑÈ°µÈù¢ÁöÑÊÉÖÂÜµÔºåÊïÖÁß∞‰∏∫CLOCKÁÆóÊ≥ïÔºåÂèàÁß∞‰∏∫ÊúÄËøëÊú™Áî®(Not Recently Used, NRU)ÁÆóÊ≥ï„ÄÇ $\qquad$CLOCKÁÆóÊ≥ïÁöÑÊÄßËÉΩÊØîËæÉÊé•ËøëLRUÔºåËÄåÈÄöËøáÂ¢ûÂä†‰ΩøÁî®ÁöÑ‰ΩçÊï∞ÁõÆÔºåÂèØ‰ª•‰ΩøÂæóCLOCKÁÆóÊ≥ïÊõ¥Âä†È´òÊïà„ÄÇÂú®‰ΩøÁî®‰ΩçÁöÑÂü∫Á°Ä‰∏äÂÜçÂ¢ûÂä†‰∏Ä‰∏™‰øÆÊîπ‰ΩçÔºåÂàôÂæóÂà∞ÊîπËøõÂûãÁöÑCLOCKÁΩÆÊç¢ÁÆóÊ≥ï„ÄÇËøôÊ†∑ÔºåÊØè‰∏ÄÂ∏ßÈÉΩÂ§Ñ‰∫é‰ª•‰∏ãÂõõÁßçÊÉÖÂÜµ‰πã‰∏ÄÔºö ÊúÄËøëÊú™Ë¢´ËÆøÈóÆÔºå‰πüÊú™Ë¢´‰øÆÊîπ(u=0, m=0) ÊúÄËøëË¢´ËÆøÈóÆÔºå‰ΩÜÊú™Ë¢´‰øÆÊîπ(u=1, m=0) ÊúÄËøëÊú™Ë¢´ËÆøÈóÆÔºå‰ΩÜË¢´‰øÆÊîπ(u=0, m=1) ÊúÄËøëË¢´ËÆøÈóÆÔºåË¢´‰øÆÊîπ(u=1, m=1) ÁÆóÊ≥ïÊâßË°åÂ¶Ç‰∏ãÊìç‰ΩúÊ≠•È™§Ôºö + ‰ªéÊåáÈíàÁöÑÂΩìÂâç‰ΩçÁΩÆÂºÄÂßãÔºåÊâ´ÊèèÂ∏ßÁºìÂÜ≤Âå∫„ÄÇÂú®ËøôÊ¨°Êâ´ÊèèËøáÁ®ã‰∏≠ÔºåÂØπ‰ΩøÁî®‰Ωç‰∏çÂÅö‰ªª‰Ωï‰øÆÊîπ„ÄÇÈÄâÊã©ÈÅáÂà∞ÁöÑÁ¨¨‰∏Ä‰∏™Â∏ß(u=0, m=0)Áî®‰∫éÊõøÊç¢„ÄÇ + Â¶ÇÊûúÁ¨¨1)Ê≠•Â§±Ë¥•ÔºåÂàôÈáçÊñ∞Êâ´ÊèèÔºåÊü•Êâæ(u=0, m=1)ÁöÑÂ∏ß„ÄÇÈÄâÊã©ÈÅáÂà∞ÁöÑÁ¨¨‰∏Ä‰∏™ËøôÊ†∑ÁöÑÂ∏ßÁî®‰∫éÊõøÊç¢„ÄÇÂú®Ëøô‰∏™Êâ´ÊèèËøáÁ®ã‰∏≠ÔºåÂØπÊØè‰∏™Ë∑≥ËøáÁöÑÂ∏ßÔºåÊääÂÆÉÁöÑ‰ΩøÁî®‰ΩçËÆæÁΩÆÊàê0„ÄÇ + Â¶ÇÊûúÁ¨¨2)Ê≠•Â§±Ë¥•ÔºåÊåáÈíàÂ∞ÜÂõûÂà∞ÂÆÉÁöÑÊúÄÂàù‰ΩçÁΩÆÔºåÂπ∂‰∏îÈõÜÂêà‰∏≠ÊâÄÊúâÂ∏ßÁöÑ‰ΩøÁî®‰ΩçÂùá‰∏∫0„ÄÇÈáçÂ§çÁ¨¨1Ê≠•ÔºåÂπ∂‰∏îÂ¶ÇÊûúÊúâÂøÖË¶ÅÔºåÈáçÂ§çÁ¨¨2Ê≠•„ÄÇËøôÊ†∑Â∞ÜÂèØ‰ª•ÊâæÂà∞‰æõÊõøÊç¢ÁöÑÂ∏ß„ÄÇ ÁÆóÊ≥ïÊ®°Êãü | ËÆøÈóÆÈ°µÈù¢ | 4 | 4 | 3 | 5 | 6 | 3 | 6 | 7 | 9 | 7 | 10 | 9 | 11 | 12 | | ‚Äî‚Äî‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | ‚Äî‚Äî | | ÂÜÖÂ≠òÂùó1 | 4 | 4 | 4 | 4 | 4 | 4 | 4 | 4 | 4 | 4 | 10 | 10 | 10 | 12 | | ÂÜÖÂ≠òÂùó2 | | | 3 | 3 | 3 | 3 | 3 | 3 | 3 | 3 | 3 | 3 | 11 | 11 | | ÂÜÖÂ≠òÂùó3 | | | | 5 | 5 | 5 | 5 | 5 | 9 | 9 | 9 | 9 | 9 | 9 | | ÂÜÖÂ≠òÂùó4 | | | | | 6 | 6 | 6 | 6 | 6 | 6 | 6 | 6 | 6 | 6 | | ÂÜÖÂ≠òÂùó5 | | | | | | | | 7 | 7 | 7 | 7 | 7 | 7 | 7 | ÁÆóÊ≥ïÂÆûÁé∞ ÊîπËøõÁöÑClockÁÆóÊ≥ïÊØîÂâçÂá†‰∏™ÁÆóÊ≥ïÊù•ËÆ≤ÊØîËæÉÂ§çÊùÇÔºå‰∏ãÈù¢ÊòØÂÖ∂Ê†∏ÂøÉÁöÑÂÆûÁé∞ËøáÁ®ãÔºå 12345678910111213141516171819202122232425262728293031323334353637if (flag == 0){ //Ë°®Á§∫ÂÜÖÂ≠òÂùó‰∏≠Ê≤°ÊúâÂá∫Áé∞Ëøá for(int t=0;t&lt;2;t++) { int flag = 0; for (int m=0;m&lt;s1.work_len;m++) { if (s1.WorkSpace[m].Used =='N' &amp;&amp; s1.WorkSpace[m].Modified =='N') { s1.change =m; flag =1; break; } } if (flag == 0) { for (int m=0;m&lt;s1.work_len;m++) { if(s1.WorkSpace[m].Used =='N' &amp;&amp; s1.WorkSpace[m].Modified =='Y') { s1.change = m; flag = 1; break; } s1.WorkSpace[m].Used = 'N'; } } if(flag!=0) break; } s1.WorkSpace[s1.change].seq = pointer; s1.WorkSpace[s1.change].Used = 'Y'; s1.WorkSpace[s1.change].Modified = 'N';} ÈÄöËøá‰∏ãÈù¢ÁöÑÊµÅÁ®ãÂõæÊù•Ëß£ÈáäËØ•ÁÆóÊ≥ïÂú®ÈÄâÊã©ÊõøÊç¢Áâ©ÁêÜÂùóÁöÑÊó∂ÂÄôÁöÑÊµÅÁ®ã„ÄÇ ÁÆóÊ≥ïÊèèËø∞Ôºö È¶ñÂÖàÊü•ÊâæÊúâÊ≤°Êúâ(0Ôºå0)Á±ªÂûãÁöÑÈ°µÈù¢ÔºåÊúâÁöÑËØùÊõøÊç¢ËØ•È°µÈù¢ÔºåÊ≤°ÊúâÁöÑËØùËøõË°åÁ¨¨‰∫åÊ≠• Êü•ÊâæÊúâÊ≤°Êúâ(0Ôºå1)Á±ªÂûãÁöÑÈ°µÈù¢ÔºåÊúâÁöÑËØùÊõøÊç¢ËØ•È°µÈù¢ÔºåÊ≤°ÊúâÁöÑËØùËøõË°åÁ¨¨‰∏âÊ≠• Â¶ÇÊûúÁ¨¨‰∏ÄÊ≠•Á¨¨‰∫åÊ≠•ÈÉΩÊ≤°ÊúâÊâæÂà∞ÁöÑËØùÂ∞±Â∞ÜÊâÄÊúâÈ°µÈù¢ÁöÑ‰ΩøÁî®‰ΩçÈÉΩÁΩÆ‰∏∫0ÁÑ∂ÂêéÈáçÂ§çÁ¨¨‰∏ÄÊ≠• ËøêË°åÁªìÊûú ËøêË°åÁªìÊûú‰∏≠ÁöÑÁöÑÁ¨¨‰∏Ä‰∏™‚ÄôY/N‚ÄôË°®Á§∫‰ΩøÁî®‰Ωç,Á¨¨‰∫å‰∏™‚ÄôY/N‚ÄôË°®Á§∫‰øÆÊîπ‰ΩçÔºå@Ë°®Á§∫ÊòØÊñ∞ÁΩÆÊç¢ÁöÑÈ°µÈù¢ ÂÖ≠ È°µÈù¢ÁºìÂÜ≤ÁÆóÊ≥ïPBA ÂÆûÈ™åÊ∫êÁ†ÅËØ∑ÂèÇËÄÉgithub‰∏≠ÁöÑPBA.h ÁÆóÊ≥ïÊèèËø∞ $\qquad$‰∏•Ê†ºÊÑè‰πâ‰∏äËØ¥PBAÁÆóÊ≥ïÊòØ‰∏ÄÁßçÈ°µÈù¢ÁºìÂÜ≤ÁÆóÊ≥ïÔºåÊÑè‰πâÂú®‰∫éÊèêÈ´òÁÆóÊ≥ïÊÄßËÉΩÔºåÂáèÂ∞ë‰ªéÁ£ÅÁõòËØªÂèñÁâ©ÁêÜÂùóÂà∞ÂÜÖÂ≠ò‰∏≠ÁöÑÊó∂Èó¥ÔºåÊèêÈ´òÁÆóÊ≥ïÁöÑÊïàÁéá„ÄÇËÄåÁúüÊ≠£ÁöÑÈ°µÈù¢ÁΩÆÊç¢ÁÆóÊ≥ïÈááÁî®ÁöÑÊòØÂâçÈù¢ÊâÄËø∞ÁöÑÂá†ÁßçÈ°µÈù¢ÁΩÆÊç¢ÁÆóÊ≥ï„ÄÇÊú¨ÂÆûÈ™å‰∏≠ÈááÁî®ÁöÑÊòØFIFOÁΩÆÊç¢ÁÆóÊ≥ï„ÄÇ $\qquad$Âú®PBAÁÆóÊ≥ï‰∏≠‰ΩøÁî®‰∫Ü‰∏§‰∏™ÈòüÂàóÔºåÂàÜÂà´ÊòØ‰ΩøÁî®Á©∫Èó≤È°µÈù¢ÈòüÂàóÂíå‰øÆÊîπÈ°µÈù¢ÈòüÂàó„ÄÇÈááÁî®ÂèØÂèòÂàÜÈÖçÂíåÂü∫‰∫éÂÖàËøõÂÖàÂá∫ÁöÑÂ±ÄÈÉ®ÁΩÆÊç¢Á≠ñÁï•ÔºåÂπ∂ËßÑÂÆöË¢´Ê∑òÊ±∞È°µÂÖà‰∏çÂÅöÁâ©ÁêÜÁßªÂä®ÔºåËÄåÊòØ‰æùÊçÆÊòØÂê¶‰øÆÊîπÂàÜÂà´ÊåÇÂà∞Á©∫Èó≤È°µÈù¢ÈìæË°®ÊàñÂ∑≤‰øÆÊîπÈ°µÈù¢ÈìæË°®ÁöÑÊú´Â∞æ $\qquad$Á©∫Èó≤È°µÈù¢ÈìæË°®ÂêåÊó∂Áî®‰∫éÁâ©ÁêÜÂùóÂàÜÈÖç„ÄÇÂΩìÂ∑≤‰øÆÊîπÈ°µÈù¢ÈìæË°®ËææÂà∞‰∏ÄÂÆöÈïøÂ∫¶Â¶ÇZ‰∏™È°µÈù¢Êó∂Ôºå‰∏ÄËµ∑Â∞ÜÊâÄÊúâÂ∑≤‰øÆÊîπÈ°µÈù¢ÂÜôÂõûÁ£ÅÁõòÔºåÊïÖÂèØÊòæËëóÂáèÂ∞ëÁ£ÅÁõòI/OÊìç‰ΩúÊ¨°Êï∞ ÁÆóÊ≥ïÊ®°Êãü ÁÆóÊ≥ïÂÆûÁé∞ 12345678910111213141516171819if (flag == 0){ //minË°®Á§∫ÊúÄÂ∞è‰ºòÂÖàÁ∫ßÁöÑÈÇ£‰∏™ÂÜÖÂ≠òÂùóÂè∑ int min_pri=0xffffff; for ( int m=0;m&lt;s1.work_len;m++) { //ÂíåÂÖ∂‰ªñÁÆóÊ≥ïÁöÑÂå∫Âà´Âè™Êúâ‰ºòÂÖàÁ∫ßÊéíÂ∫èËÆ°ÁÆóÁöÑÊñπÂºè‰∏çÂêå int n = s1.WorkSpace[m].priority; if (n &lt; min_pri) { s1.change = m; min_pri = n; } } //Ë°®Á§∫ÂèëÁîüÊõøÊç¢ÂèòÂåñÁöÑÂùóÂè∑s1.change s1.WorkSpace[s1.change].seq = pointer; //ËÆæÁΩÆÊñ∞Êç¢ÂÖ•ÁöÑÈ°µÈù¢‰ºòÂÖàÁ∫ß‰∏∫work_len s1.WorkSpace[s1.change].priority = s1.e;} $\qquad$PBA ÁÆóÊ≥ïÂú®È°µÈù¢ÁΩÆÊç¢ÁöÑÊó∂ÂÄôÁÆóÊ≥ïÂÆûÁé∞ÂíåFIFO‰∏ÄËá¥„ÄÇËøôÈáå‰∏çÂÜçËµòËø∞ ËøêË°åÁªìÊûú document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>Êìç‰ΩúÁ≥ªÁªüÂÆûÈ™å</category>
      </categories>
      <tags>
        <tag>Êìç‰ΩúÁ≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pintosÊìç‰ΩúÁ≥ªÁªüÂÆâË£Ö]]></title>
    <url>%2F2019%2F04%2F02%2Fpintos-install%2F</url>
    <content type="text"><![CDATA[Âú®QEMUËôöÊãüÊú∫‰∏≠ÂÆâË£Öpintos ‰∏ãËΩΩpintosÊ∫êÁ†Å 1git clone http://cs140.stanford.edu/pintos.git ÁºñËØëÂÆâË£Ö 123cd ~/pintos/src/threadsmake../utils/pintos --qemu -- run alarm-multiple ‰øÆÊîπutils/pintos ËÑöÊú¨ 1my (@cmd) = ('/usr/local/src/qemu/bin/qemu'); Â∞ÜpintosËÑöÊú¨‰∏≠Á¨¨622Ë°å‰øÆÊîπÊàêÂ¶Ç‰∏äÂõæÊâÄÁ§∫ÔºåÂºïÂè∑‰∏≠ÁöÑÂÜÖÂÆπÊòØqemuÂèØÊâßË°åÁ®ãÂ∫èÁöÑÁªùÂØπË∑ØÂæÑ„ÄÇ Âá∫Áé∞‰∏ãÈù¢ÁöÑÊà™ÂõæËØ¥ÊòéÊ≠£Á°ÆÂÆâË£ÖÂ•Ω‰∫Ü document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <tags>
        <tag>Êìç‰ΩúÁ≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[qemuËôöÊãüÊú∫ÁöÑÂÆâË£Ö]]></title>
    <url>%2F2019%2F04%2F02%2Fqemu%2F</url>
    <content type="text"><![CDATA[QEMUËôöÊãüÂÆâË£Ö ‰∏ãËΩΩÊ∫êÁ†Å 123git clone https://git.qemu.org/git/qemu.gitcd qemugit checkout v2.10.0 # ‰ΩøÁî®2.10.0ÁâàÊú¨ ÂÆâË£Ö‰æùËµñÂ∫ì 1sudo apt-get install libsdl2-dev libsdl2-gfx-dev libsdl2-image-dev libsdl2-mixer-dev libsdl2-net-dev libsdl2-ttf-dev 1sudo apt-get install build-essential flex bison cmake automake libtool gcc-multilib g++-multilib libpixman-dev libfdt-dev ÁºñËØëÂÆâË£Öi386ÁâàÊú¨ËôöÊãüÊú∫ 12345mkdir buildcd build../configure --prefix=/usr/local/src/qemu --target-list="i386-softmmu" --enable-debug --python=/usr/bin/python2makesudo make install Ê∑ªÂä†ËΩØËøûÊé• 12cd /usr/local/src/qemu/bin/sudo ln -s qemu-system-i386 qemu document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <tags>
        <tag>Pintos Êìç‰ΩúÁ≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PintosÂÆûÈ™å‰∏ÄÂÖ®Ëß£]]></title>
    <url>%2F2019%2F04%2F02%2Fthread%2F</url>
    <content type="text"><![CDATA[Êìç‰ΩúÁ≥ªÁªüPintos ÂÆûÈ™å‰∏Ä Thread ÂÖ®Ëß£Â≠ôÊ±âÊ≠¶ 2019.04.02 ÂÜÖÂÆπÁÆÄ‰ªãÊìç‰ΩúÁ≥ªÁªüËØæÁ®ãÁöÑÂøÖ‰øÆÂÜÖÂÆπÊòØÂÆûÁé∞ÊñØÂù¶Á¶èÂ§ßÂ≠¶ÂºÄÂèëÁöÑpintosÊìç‰ΩúÁ≥ªÁªü„ÄÇÈÄöËøáÂØπpintosÁöÑÂºÄÂèë‰∏éËøêË°åÔºåÂÆûÁé∞ÂØπÊìç‰ΩúÁ≥ªÁªüÂêÑ‰∏™ÈÉ®ÂàÜÁöÑÁêÜËß£‰∏éÊ∑±ÂÖ•„ÄÇ Êú¨ÂÆûÈ™å‰∏ÄÂæãÈááÁî®Ubuntu 16.04 ServerÁâà‰Ωú‰∏∫ËøêË°åÁéØÂ¢É„ÄÇ Êú¨ÊïôÁ®ãÊó®Âú®ËÆ∞ÂΩï‰ΩøÁî®pintosÂÆûÈ™å‰∏ÄÁöÑÂÖ®ËøáÁ®ãÔºåÊ∂âÂèäÂà∞ÂÆâË£Ö„ÄÅË∞ÉËØï„ÄÅÂºÄÂèëÁ≠âÁ≠âÊñπÈù¢ÔºåÂ∞ÜÊåÅÁª≠ËøõË°åÊõ¥Êñ∞ÔºåÂ∏åÊúõÂ§ßÂÆ∂Â§öÂ§öÊîØÊåÅ„ÄÇ ÁªÑÂëò Âàò Ê¨¢ 16281044 ËÆ°Áßë1601 Â≠ôÊ±âÊ≠¶ 16281047 ÂÆâÂÖ®1601 Êù®Ê∂µÊô® 16281052 ËÆ°Áßë1601 ÁéãÊôóÁÇú 16281049 ËÆ°Áßë1601 ÈÇ¢È£ûÈæô 16281050 ËÆ°Áßë1601 Ë∞≠Â§©‰∫ë 16281048 ËÆ°Áßë1601 PintosÁöÑÂÆâË£Ö‰∏éÁÆÄ‰ªã ÂÆâË£ÖÂáÜÂ§áÔºögitÔºåbochsÔºågitÂíåbochsÁöÑËØ¶ÁªÜÂÆâË£ÖÊïôÁ®ãËØ∑Ëá™Ë°ågoogle„ÄÇ sudo apt-get install git ÊèêÈÜíbochs‰ΩøÁî®makeÂëΩ‰ª§ÂâçÔºåËØ∑‰ΩøÁî® ./configure --enable-gdb-stub --with-noguiÂëΩ‰ª§ÂÆâË£ÖÂëΩ‰ª§Ë°åÁâàÁöÑbochsÂ∑•ÂÖ∑„ÄÇ pintosÁöÑÊ∫ê‰ª£Á†Å‰∏ãËΩΩÂÆâË£ÖÔºö pintosÊ∫êÁ†Å‰∏ãËΩΩÔºögit clone http://cs140.stanford.edu/pintos.git ÂΩìÂâçÁõÆÂΩïÂ∞ÜÂá∫Áé∞pintosÊñá‰ª∂Â§π Ê∫êÁ†Å‰∏ãËΩΩÂÆåÊØïÂêéÔºåÁõÆÂΩïÁªìÊûÑ(pintos/src)Â¶Ç‰∏ãÂõæÊâÄÁ§∫ Êñá‰ª∂Â§πÂäüËÉΩËØ¥ÊòéÔºö threads:‰∏∫Âü∫Ê†∏ÂáÜÂ§áÁöÑÊ∫ê‰ª£Á†ÅÔºåÂú®ÂÆûÈ™å‰∏Ä‰∏≠Êàë‰ª¨‰ºöËøõË°å‰øÆÊîπ„ÄÇ userprog:‰∏∫Ë£ÖËΩΩÁî®Êà∑Á®ãÂ∫èÁöÑÊ∫ê‰ª£Á†ÅÔºåÂú®ÂÆûÈ™å‰∫åÊàë‰ª¨‰ºöËøõË°å‰øÆÊîπ„ÄÇ vm:Âü∫Êú¨‰∏äÁ©∫ÁöÑÁõÆÂΩïÔºåÂú®ÂÆûÈ™å‰∏âÊàë‰ª¨ÂÆûÁé∞ËôöÊãüÂÜÖÂ≠ò„ÄÇ filesys:Âü∫Êú¨Êñá‰ª∂Á≥ªÁªüÁöÑÊ∫ê‰ª£Á†ÅÔºå‰ªéÂÆûÈ™å‰∫åÂºÄÂßã‰ΩøÁî®ÔºåÂÆûÈ™åÂõõÂºÄÂßã‰øÆÊîπ„ÄÇ devices:ÈîÆÁõò„ÄÅÂÆöÊó∂Âô®„ÄÅÁ°¨ÁõòÁ≠âÁ≠âIOËÆæÂ§áÁöÑÊé•Âè£Ê∫ê‰ª£Á†ÅÔºåÂú®ÂÆûÈ™å‰∏Ä‰∏≠Êàë‰ª¨‰ºö‰øÆÊîπÂÆöÊó∂Âô®„ÄÇÂÖ∂‰ªñÊÉÖÂÜµÊàë‰ª¨‰∏ç‰ºöËøõË°å‰øÆÊîπ„ÄÇ lib:Ê†áÂáÜCÂ∫ìÁöÑÂ≠êÈõÜÂÆûÁé∞„ÄÇËøô‰∏™ÁõÆÂΩï‰∏≠ÁöÑ‰ª£Á†ÅË¢´ÁºñËØëÂà∞ÂÜÖÊ†∏‰∏≠ÔºåÂπ∂‰∏î‰ªéÂÆûÈ™å‰∫åÂºÄÂßãÔºåÁî®Êà∑Á®ãÂ∫è‰πü‰ºöÂú®ÂÖ∂‰∏ãËøêË°å„ÄÇÂú®ÂÜÖÊ†∏‰ª£Á†ÅÂíåÁî®Êà∑Á®ãÂ∫è‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®#include&lt;...&gt;ÁöÑÊñπÂºèÂºïÁî®Ëøô‰∏™ÁõÆÂΩï‰∏≠ÁöÑheaderÊñá‰ª∂„ÄÇÊàë‰ª¨Âü∫Êú¨‰∏ä‰∏çÁî®‰øÆÊîπÊú¨ÁõÆÂΩï‰∏≠ÁöÑÊ∫ê‰ª£Á†Å„ÄÇ lib/kernal:Ëøô‰∏™ÁõÆÂΩï‰∏≠ÁöÑ‰ª£Á†Å‰ªÖË¢´ÂÜÖÊ†∏‰ΩøÁî®„ÄÇËøòÂåÖÂê´Âú®ÂÜÖÊ†∏‰ª£Á†Å‰∏≠ÂèØ‰ª•Ëá™Áî±‰ΩøÁî®ÁöÑ‰∏Ä‰∫õÊï∞ÊçÆÁ±ªÂûãÁöÑÂÆûÁé∞Ôºö‰ΩçÂõæ„ÄÅÂèåÂêëÈìæË°®ÂíåÂìàÂ∏åË°®„ÄÇÂú®ÂÜÖÊ†∏‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®#include&lt;...&gt;ÁöÑÊñπÂºèÂºïÁî®Ëøô‰∏™ÁõÆÂΩï‰∏≠ÁöÑheaderÊñá‰ª∂„ÄÇ lib/user:Ëøô‰∏™ÁõÆÂΩï‰∏≠ÁöÑ‰ª£Á†Å‰ªÖË¢´Áî®Êà∑Á®ãÂ∫è‰ΩøÁî®„ÄÇÂú®Áî®Êà∑Á®ãÂ∫è‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®#include&lt;...&gt;ÁöÑÊñπÂºèÂºïÁî®Ëøô‰∏™ÁõÆÂΩï‰∏≠ÁöÑheaderÊñá‰ª∂„ÄÇ test:ÊØè‰∏™È°πÁõÆÁöÑÊµãËØï„ÄÇÂ¶ÇÊûúÂÆÉÂèØ‰ª•Â∏ÆÂä©ÊÇ®ÊµãËØïÊèê‰∫§Áî®‰æãÔºåÂèØ‰ª•Ëá™Ë°å‰øÆÊîπ„ÄÇ examples:‰ªéÂÆûÈ™å‰∫åÂºÄÂßã‰ΩøÁî®ÁöÑÁ§∫‰æãÁî®Êà∑Á®ãÂ∫è„ÄÇ misc &amp; utils:Â¶ÇÊûúÂ∞ùËØïÂú®Ëá™Â∑±ÁöÑËÆ°ÁÆóÊú∫‰∏äËøêË°åPintosÊâç‰ºöÁî®Âà∞Ëøô‰∫õÊñá‰ª∂„ÄÇËØ∑Âú®ÂΩìÂâçÁî®Êà∑ÁõÆÂΩï‰∏ãÁöÑ.zshrcÊàñ.bashrcÊñá‰ª∂‰∏≠Ê∑ªÂä†utilsÊñá‰ª∂Â§πÁöÑÁéØÂ¢ÉÂèòÈáè„ÄÇ ÁºñËØëPintosÔºåËøõÂÖ•Âà∞threadsÁõÆÂΩïÔºå‰ΩøÁî®makeÂëΩ‰ª§ Ê≠§Êó∂ÁõÆÂΩï‰∏≠Â∞Ü‰ºöÂá∫Áé∞‰∏Ä‰∏™buildÊñá‰ª∂Â§πÔºåÈáåÈù¢ÂåÖÂê´‰∫ÜMakefileÂíå‰∏Ä‰∫õÂ≠êÁõÆÂΩïÔºåÈöèÂêéÂú®ÂÖ∂‰∏≠ÊûÑÂª∫ÂÜÖÊ†∏„ÄÇÂú®Ê≠§Êàë‰ª¨ÂàÜÊûê‰∏Ä‰∏ãbuildÊñá‰ª∂Â§π‰∏≠ÁöÑÂÜÖÂÆπ„ÄÇ buildÊñá‰ª∂Â§πÂÜÖÂÆπÂàÜÊûêÔºö MakefileÔºöpintos/src/Makefile.buildÁöÑÂ§çÂà∂„ÄÇÂÆÉÊèèËø∞‰∫ÜÂ¶Ç‰ΩïÊûÑÂª∫ÂÜÖÊ†∏„ÄÇ kernel.o:Êï¥‰∏™ÂÜÖÊ†∏ÁöÑÂØπË±°Êñá‰ª∂„ÄÇËøôÊòØÂ∞ÜÂêÑ‰∏™ÂçïÁã¨ÂÜÖÊ†∏Ê∫êÊñá‰ª∂ÁºñËØëÁõÆÊ†áÊñá‰ª∂ÈìæÊé•Âà∞Âçï‰∏™ÁõÆÊ†áÊñá‰ª∂ÁöÑÁªìÊûú„ÄÇ kernel.bin:ÂÜÖÊ†∏ÁöÑÂÜÖÂ≠òÊò†ÂÉèÔºåÂç≥Âä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠ËøêË°åPintosÂÜÖÊ†∏ÁöÑ‰∫åËøõÂà∂Êñá‰ª∂„ÄÇÊòØË¢´Ââ•Á¶ªË∞ÉËØï‰ø°ÊÅØÁöÑkernel.oÔºåËøôËäÇÁúÅ‰∫ÜÂ§ßÈáèÁ©∫Èó¥Ôºå‰ΩøÂæóÂÜÖÊ†∏‰∏ç‰ºöË¢´ÂÜÖÊ†∏Âä†ËΩΩÂô®512KBÂÆπÈáèÊâÄÈôêÂà∂„ÄÇ loader.bin:ÂÜÖÊ†∏Âä†ËΩΩÂô®ÁöÑÂÜÖÂ≠òÊò†ÂÉèÔºå‰ΩøÁî®Ê±áÁºñËØ≠Ë®ÄÁºñÂÜôÁöÑÂ∞èÂùó‰ª£Á†ÅÔºåÁî®‰∫éÂ∞ÜÂÜÖÊ†∏‰ªéÁ£ÅÁõòËØªÂá∫ÂÜÖÂ≠òÂπ∂ÂêØÂä®ÂÆÉ„ÄÇÂÆÉÂàöÂ•ΩÊòØ512Â≠óËäÇÈïøÂ∫¶ÔºåÂ§ßÂ∞èË¢´PC BIOSÊâÄÂõ∫ÂÆö„ÄÇ ÊûÑÂª∫ÁöÑÊñá‰ª∂Â§π‰∏≠ÂêåÊ†∑ÂåÖÂê´Â≠êÊñá‰ª∂Â§πÔºåÂ≠êÊñá‰ª∂Â§π‰∏≠ÁöÑÂÜÖÂÆπÁî±.o‰∏é.dÊñá‰ª∂ÁªÑÊàêÔºåÂàÜÂà´ÂØπÂ∫îÁºñËØëÂô®ÁîüÊàêÁöÑÁõÆÊ†áÊñá‰ª∂‰∏é‰æùËµñÈ°πÊñá‰ª∂„ÄÇ‰æùËµñÈ°πÂëäËØâmakeÂú®Êõ¥ÊîπÂÖ∂‰ªñÊ∫êÊñá‰ª∂ÊàñÂ§¥Êñá‰ª∂Êó∂ÔºåÈúÄË¶ÅÈáçÊñ∞ÁºñËØëÂì™‰∫õÊ∫êÊñá‰ª∂„ÄÇ ËøêË°åpintosÔºå‰ΩøÁî®ÂëΩ‰ª§pintos -v -- run alarm-multipleÊµãËØïpintosÊ†∑‰æã ÂèÇÊï∞ËØ¶Ëß£Ôºö ‚Äã -v ÂÖ≥Èó≠VGAÊòæÁ§∫ ‚Äã -- ÂèÇÊï∞ÂºïÂØºÂ§¥ ‚Äã run Ë∞ÉÁî®ËøêË°åÂëΩ‰ª§ ‚Äã alarm-multiple ÂÜÖÁΩÆÊµãËØïÊ†∑‰æã ‰∏≠ÈÄîÊó†Êä•ÈîôÂç≥‰∏∫ÂÆâË£ÖÊàêÂäü„ÄÇÊúÄÂêé‰ΩøÁî®Control + cÈÄÄÂá∫Á®ãÂ∫è„ÄÇ ÁâπÂà´ÊèêÈÜíÔºåÂÆâË£ÖËøáÁ®ã‰∏≠ÈùûÂ∏∏ÂÆπÊòìÂá∫Áé∞ÂêÑÁßçÂêÑÊ†∑ÁöÑÂ∫ìÁº∫Â§±ÁöÑÊä•ÈîôÁé∞Ë±°ÔºåËØ∑Â§ßÂÆ∂ÊåâÁÖßÊä•ÈîôÊèêÁ§∫ÔºåËá™Ë°ågoogleÂ§ÑÁêÜ„ÄÇÊàëÈÅáÂà∞ÁöÑÈóÆÈ¢òÊòØ‰∏Ä‰∏™Âè´ÂÅöwarning: can't find squish-pty, so terminal input will failÁöÑÈóÆÈ¢ò„ÄÇËß£ÂÜ≥ÊñπÊ°àÊòØÂú®pintos/src/utilsÁõÆÂΩï‰∏≠ÊâßË°åmakeÂëΩ‰ª§ÂêéÔºå‰ΩøÁî®sudo ln squish-pty /usr/local/bin/Ëß£ÂÜ≥„ÄÇ Âú®ÂÆâË£ÖÊàêÂäüpintosÁ≥ªÁªüÂπ∂ÈÄöËøáÂü∫Êú¨ÁöÑÊµãËØïÁî®‰æãÂêéÔºåÊàë‰ª¨ÂèØ‰ª•ÂºÄÂßãÊ≠£ÂºèÁöÑÂÆûÈ™å‰∫ÜÔºåÊé•‰∏ãÊù•ÊàëÂ∞ÜÈÄöËøáÂàÜÊ®°ÂùóÁöÑÊñπÂºèÔºå‰æùÊ¨°ËÆ∞ÂΩïÂêÑ‰∏™ÂÆûÈ™åÁöÑËØ¶ÁªÜÁöÑÊ≠•È™§„ÄÇÂ¶ÇÊûú‰Ω†Âú®ÂÆâË£ÖËøáÁ®ã‰∏≠ÈÅáÂà∞‰∫ÜÈóÆÈ¢òÔºåÂπ∂Êó†Ê≥ïÈÄöËøágoogleËß£ÂÜ≥ÔºåÊ¨¢ËøéÂú®ÊñáÁ´†‰∏ãÊñπÁïôË®ÄÔºåÊàë‰ºöÂ∞ΩÂø´ÂõûÂ§ç„ÄÇ Mission 1 ALARM CLOCKÂÆûÈ™åËØ¥ÊòéÈáçÊñ∞ÂÆûÁé∞timer_sleep()ÔºåÂú®devices / timer.c‰∏≠ÂÆö‰πâ„ÄÇËôΩÁÑ∂ÂΩìÂâç‰ª£Á†ÅÊèê‰æõ‰∫Ü‰∏Ä‰∏™Â∑•‰ΩúÂÆûÁé∞Ôºå‰ΩÜÊòØÂÆÉÁöÑÂÆûÁé∞ÊñπÂºèÊàë‰ª¨Áß∞‰∏∫‚ÄúÂøôÁ≠âÂæÖ‚ÄùÔºåÂç≥ÂÆÉÂú®Âæ™ÁéØ‰∏≠Ê£ÄÊü•ÂΩìÂâçÊó∂Èó¥ÊòØÂê¶Â∑≤ÁªèËøáÂéªticks‰∏™Êó∂ÈíüÔºåÂπ∂Âæ™ÁéØË∞ÉÁî®thread_yield()Áõ¥Âà∞Âæ™ÁéØÁªìÊùü„ÄÇÈáçÊñ∞ÂÆûÁé∞ÂÆÉ‰ª•ÈÅøÂÖçÁπÅÂøôÁöÑÁ≠âÂæÖ„ÄÇ ÊöÇÂÅúÊâßË°åË∞ÉÁî®timer_sleep()ÁöÑÁ∫øÁ®ãÔºåÊöÇÂÅúticks‰∏™Êó∂Èíü„ÄÇÈô§ÈùûÁ≥ªÁªüÂ§Ñ‰∫éÁ©∫Èó≤Áä∂ÊÄÅÔºåÁ∫øÁ®ã‰∏çÈúÄË¶ÅÂú®ticks‰∏™ÂàªÂ∫¶‰πãÂêéÂî§ÈÜíÔºåËÄåÂ∞ÜÂÆÉÊîæÂú®Â∞±Áª™ÈòüÂàó‰∏≠„ÄÇ timer_sleep()ÂØπ‰∫éÂÆûÊó∂Êìç‰ΩúÁöÑÁ∫øÁ®ãÂæàÊúâÁî®Ôºå‰æãÂ¶ÇÊØèÁßíÈó™ÁÉÅ‰∏ÄÊ¨°ÂÖâÊ†á„ÄÇtimer_sleep()ÁöÑÂèÇÊï∞‰ª•ËÆ°Êó∂Âô®ÂàªÂ∫¶Ë°®Á§∫ÔºåËÄå‰∏çÊòØ‰ª•ÊØ´ÁßíÊàñ‰ªª‰ΩïÂÖ∂‰ªñÂçï‰ΩçË°®Á§∫„ÄÇÊØèÁßíÊúâTIMER_FREQËÆ°Êó∂Âô®ÂàªÂ∫¶ÔºåÂÖ∂‰∏≠TIMER_FREQÊòØÂú®devices / timer.h‰∏≠ÂÆö‰πâÁöÑÂÆè„ÄÇÈªòËÆ§ÂÄº‰∏∫100Ôºå‰∏çÂª∫ËÆÆÊõ¥ÊîπÊ≠§ÂÄºÔºåÂõ†‰∏∫‰ªª‰ΩïÊõ¥ÊîπÈÉΩÂèØËÉΩÂØºËá¥ËÆ∏Â§öÊµãËØïÂ§±Ë¥•„ÄÇ Âú®timer.c‰∏≠ÔºåËøòÂ≠òÂú®timer_msleep()„ÄÅtimer_usleep()„ÄÅtimer_nsleep()ÂáΩÊï∞ÔºåÁî®‰∫éÂÆûÁé∞Áù°Áú†ÁâπÂÆöÁöÑÊØ´Áßí„ÄÅÂæÆÁßíÂíåÁ∫≥ÁßíÔºå‰ΩÜÊòØÂÆÉ‰ª¨‰ºöÂú®ÂøÖË¶ÅÊó∂ÂÄôË∞ÉÁî®timer_sleep()Êàë‰ª¨Êó†ÈúÄ‰øÆÊîπÂÆÉ‰ª¨„ÄÇ ÂÆûÈ™åËøáÁ®ãÈ¶ñÂÖàÈòÖËØªÊ∫ê‰ª£Á†ÅÁöÑtimer_sleep()ÂáΩÊï∞ÁöÑÂÆûÁé∞ÂéüÁêÜÔºö ÂΩìÂâçÊâßË°åËøõÁ®ãË∞ÉÁî®timer_sleep(ticks)Êó∂ÔºåÂáΩÊï∞ÈÄöËøáÂà§Êñ≠Âæ™ÁéØÊù°‰ª∂ÂΩìÂâçÊó∂Èó¥ÊòØÂê¶Â∑≤ÁªèÂ§ß‰∫éÊàñÁ≠â‰∫é‰∫Üticks‰∏™ËÆ°Êï∞Âô®ÂàªÂ∫¶ÔºåÂ¶ÇÊûúÊù°‰ª∂‰∏çÊª°Ë∂≥ÔºåÂàô‰ºöË∞ÉÁî®thread_yield()ÂáΩÊï∞ÔºåÂ∞ÜÂΩìÂâçËøõÁ®ãÁõ¥Êé•Âä†ÂÖ•Âà∞Â∞±Áª™ÈòüÂàóÔºåÂπ∂Ë∞ÉÁî®ËøõÁ®ãÂàáÊç¢ÁöÑÁõ∏ÂÖ≥ÂáΩÊï∞Â∞ÜCPUËÆ©ÁªôÂú®Â∞±Áª™ÈòüÂàó‰∏≠ÁöÑËøõÁ®ã(Â¶ÇÊûúÂ∞±Áª™ÈòüÂàó‰∏≠ÊúâÁöÑËØù)„ÄÇ ÂèØ‰ª•ÂèëÁé∞ÔºåË∞ÉÁî®timer_sleep()ÁöÑËøõÁ®ãÔºåÂú®CPUÂ∞±Áª™ÈòüÂàóÂèäCPUËøêË°åÈòüÂàóÈó¥Êù•ÂõûÂàáÊç¢ÔºåÂç≥Â∞ΩÁÆ°Ê≤°ÊúâÂà∞ticks‰∏™ËÆ°Êï∞Âô®ÂàªÂ∫¶Ôºå‰ΩÜCPU‰ªç‰ºöÈÄöËøáÊøÄÊ¥ªÊîπËøõÁ®ãÔºå‰ª•ÈÄöËøáÂæ™ÁéØÁöÑÊñπÂºèÊù•Âà§Êñ≠ÊòØÂê¶ËøõÁ®ãËøòÈúÄË¶ÅÂÜçÊ¨°ÊâßË°åthread_yield()ÔºåËøô‰∏™ËøáÁ®ã‰∏≠ÔºåÊµ™Ë¥π‰∫ÜËøõÁ®ãÂèçÂ§çÂàáÊç¢‰πãÈó¥ÈúÄË¶ÅÁöÑCPUÊó∂Èó¥„ÄÇ Ê∑±ÂÖ•ÊÄùËÄÉËøô‰∏™ÈóÆÈ¢ò‰∫ßÁîüÁöÑÂéüÂõ†ÔºåÊòØÂ∞ΩÁÆ°ËøõÁ®ãÈòªÂ°ûË¶ÅÊ±ÇÊó∂Èó¥Êú™Âà∞Ôºå‰ΩÜÂú®ËØ•ËøõÁ®ãÊú™Ë¢´ÈáçÊñ∞Ë∞ÉÂ∫¶ÂÆåÊàêÂâçÔºåÊìç‰ΩúÁ≥ªÁªüÊú¨Ë∫´‰∏çÁü•ÈÅìÂà∞Â∫ïËøõÁ®ãË¢´ÈòªÂ°û‰∫ÜÂ§öÂ∞ëËÆ°Êï∞Âô®ÂàªÂ∫¶„ÄÇËÄåËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÁöÑÂêàÁêÜÊñπÂºèÔºåÊàë‰ª¨‰πüËá™ÁÑ∂ÂèØ‰ª•ÊÉ≥Âà∞ÔºåÂú®Êìç‰ΩúÁ≥ªÁªü‰∏≠ÊèèËø∞ËøõÁ®ãÁöÑÊòØstruct threadÔºåÂè™Ë¶ÅÊàë‰ª¨Âú®Ëøô‰∏™ËøõÁ®ãPCB‰∏≠ËÆ∞ÂΩï‰∫ÜÂΩìÂâçÈòªÂ°ûÁöÑÊó∂Èó¥ÂíåÊÄªÂÖ±Ë¶ÅË¢´ÈòªÂ°ûÁöÑÊó∂Èó¥ÊàñËøòË¶ÅË¢´ÈòªÂ°ûÂ§öÈïøÊó∂Èó¥ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Âú®‰∏çÂàáÊç¢ËøõÁ®ãÂâçÁ°ÆËÆ§ËøõÁ®ãÊòØÂê¶Â∫îËØ•Ë¢´Âä†ÂÖ•Â∞±Áª™ÈòüÂàó„ÄÇ ‰øÆÊîπÂêéÁöÑtimer_sleep()ÂáΩÊï∞Â¶Ç‰∏ãÔºö Êàë‰ª¨Âú®ÂáΩÊï∞‰∏≠ÔºåÂ∞ÜË¶ÅsleepÁöÑÊó∂Èó¥ticks‰º†ÂÖ•Âà∞ËøõÁ®ãPCB‰∏≠ÁöÑticks_blockedÁî®‰∫éËÆ∞ÂΩïÂΩìÂâçPCBÊåáÁ§∫ÁöÑËøõÁ®ãËøòÈúÄË¶ÅÈòªÂ°ûÂ§öÈïøÊó∂Èó¥„ÄÇÈÄöËøáthread_block()ÂáΩÊï∞ÔºåËÆæÁΩÆËøõÁ®ãÁöÑÈòªÂ°ûÁä∂ÊÄÅÔºåÂπ∂Ë∞ÉÁî®ËøõÁ®ãÂàáÊç¢„ÄÇ Êó¢ÁÑ∂ÂºïÂÖ•‰∫Üticks_blockËøô‰∏™ÂèòÈáèÔºåÊàë‰ª¨ÈúÄË¶ÅÂú®ÁªìÊûÑ‰Ωìstruct thread‰∏≠Âä†ÂÖ•ÂØπÂÖ∂ÁöÑÂ£∞ÊòéÔºåÂπ∂Âú®ËøõÁ®ãÂàõÂª∫ÂáΩÊï∞thread_creade()Âä†ÂÖ•ÂØπticks_blockËµãÂàùÂÄº0ÁöÑÊìç‰Ωú„ÄÇÈöèÂêéÊàë‰ª¨Ë¶ÅÂÅöÁöÑÂ∞±ÊòØÂú®ÊØè‰∏™Êó∂Èíü‰∏≠Êñ≠Êó∂Ê£ÄÊü•ÔºåÂì™‰∫õËøõÁ®ã‰ΩøblockÁä∂ÊÄÅÂπ∂‰∏î‰ºëÁú†Êó∂Èó¥ËøòÊúâÂâ©‰Ωô„ÄÇÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåËøôÈáåÂøÖÈ°ªË¶ÅÊ±ÇÂêåÊó∂Êª°Ë∂≥‰∏§‰∏™Êù°‰ª∂ÔºåÂõ†‰∏∫Êìç‰ΩúÁ≥ªÁªü‰∏≠Â≠òÂú®ËøõÁ®ãÂõ†‰∏∫Á≠âÂæÖÈîÅËÄåÈòªÂ°ûÁöÑÁä∂ÊÄÅÔºåËøô‰∫õËøõÁ®ãÂπ∂ÈùûÂõ†‰∏∫‰∏ªÂä®Ë∞ÉÁî®timer_sleep()ÂáΩÊï∞ËÄåÈòªÂ°û„ÄÇ ÊâÄ‰ª•Êé•‰∏ãÊù•ÁöÑÂ∑•‰ΩúÂ∞±ÂèòÊàê‰∫ÜÔºåÂú®Á≥ªÁªüÊó∂Èíü‰∏≠Êñ≠Â§ÑÁêÜÂáΩÊï∞‰∏≠Âä†ÂÖ•ËøõÁ®ãÊ£ÄÊü•ÂáΩÊï∞ÔºåÂØπÂõ†‰∏∫timer_sleep()ËÄåÈòªÂ°ûÁöÑËøõÁ®ãÔºåÊâßË°åÈòªÂ°ûÊó∂Èó¥Ëá™ÂáèÊàñÂä†ÂÖ•CPUÂ∞±Áª™ÈòüÂàóÊìç‰Ωú„ÄÇÈ¶ñÂÖàÂØªÊâæCPUÊó∂Èíü‰∏≠Êñ≠Â§ÑÁêÜÂáΩÊï∞ÔºåÂú®timer.cÊñá‰ª∂‰∏≠Ôºö È¶ñÂÖàÔºåÈÄöËøápit_configure_channel (0, 2, TIMER_FREQ)ÂáΩÊï∞ÔºåÂêë8254ÂÆöÊó∂Âô®ËÆæÁΩÆ‰∫ÜÊØèÁßíÊâßË°åTIMER_FREQËÆ°Êó∂Âô®ÂàªÂ∫¶Ê¨°ÁöÑÂë®ÊúüÂÆöÊó∂Ôºå‰ΩøÁî®ÁöÑÈÄöÈÅìÊòØ0ÈÄöÈÅìÔºåËÆ°Êï∞ÊñπÂºèÊòØmode2Âç≥Âë®ÊúüÊÄßËÑâÂÜ≤„ÄÇÊ†πÊçÆÁ°¨‰ª∂ÁºñÁ®ãÔºåÂÆûÁé∞‰∫ÜËÆ°Êï∞Âô®0Âêë8259AËäØÁâá0Âè∑ÁÆ°ËÑöÂèëÈÄÅ‰∏≠Êñ≠ËØ∑Ê±ÇÁöÑÊìç‰Ωú„ÄÇÁî±‰∫éCPUÂ∞Ü0-15Âè∑‰∏≠Êñ≠ÂêëÈáèÂç†Áî®ÔºåÊâÄ‰ª•ÈÄöËøápic_init()ÂáΩÊï∞ÔºåÂ∞Ü‰∏≠Êñ≠0-15‰º†ÈÄÅÂà∞32-47ÔºåÂÖ∑‰ΩìÁöÑ‰ª£Á†ÅÂèäÊ≥®ÈáäÂ¶Ç‰∏ã„ÄÇÂÆÉÂú®BootÂºïÂØºÂÆåÊØïÂâçÊâßË°åÂÆåÊØï„ÄÇ ÈöèÂêéÔºåÈÄöËøáintr_register_ext (0x20, timer_interrupt, "8254 Timer")ÂáΩÊï∞ÔºåÊàë‰ª¨Âêë32‰∏≠Êñ≠ÂêëÈáèÊ≥®ÂÜå‰∫Ütimer_interrupt()ÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞Â∞±ÊòØÊØèÁßíÊâßË°åTIMER_FREQÊ¨°ÁöÑÊó∂Èíü‰∏≠Êñ≠Â§ÑÁêÜÂáΩÊï∞„ÄÇÂç≥Êàë‰ª¨ÈúÄË¶ÅÂú®Ëøô‰∏™ÂáΩÊï∞‰∏≠ÂÆûÁé∞Êàë‰ª¨‰πãÂâçËÆæËÆ°ÁöÑÈÄªËæë„ÄÇÂéüÂáΩÊï∞Â¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö ÂÆûÁé∞ÁöÑÂäüËÉΩ‰∏ÄÊòØCPUÊó∂ÈíüËÆ°Êï∞Ëá™Âä†„ÄÇ‰∫åÊòØÁî®Êà∑ËøõÁ®ãÊó∂Èó¥ÁâáÁî®ÂÆåÂêéÔºåÂΩìÂá∫Áé∞Â§ñÈÉ®‰∏≠Êñ≠Êó∂Ôºå‰∏≠Êñ≠ÊúçÂä°Á®ãÂ∫èÂ§ÑÁêÜÂÆåÊØïÂêéÔºåÈòªÂ°ûËøõÁ®ãÊâßË°å(Ë∞ÉÁî®thread_yield()ÂáΩÊï∞)„ÄÇËØ¶ÁªÜ‰ª£Á†ÅÂú®interrupt.cÁöÑintr_handler()ÂáΩÊï∞‰∏≠„ÄÇ Êàë‰ª¨Âú®Êó∂Èíü‰∏≠Êñ≠Â§ÑÁêÜÂáΩÊï∞‰∏≠ÔºåÂä†ÂÖ•‰∏ÄË°åÂç≥ÂèØÔºåÂÆûÁé∞ÂØπÊØè‰∏™ËøõÁ®ãÈÉΩË∞ÉÁî®blocked_thread_checkÂáΩÊï∞Ôºö ÊúÄÂêéÂÜçÂÆûÁé∞blocked_thread_checkÂáΩÊï∞ÔºåÂÆûÁé∞ÂÖ∑‰ΩìÂØπ‰º†ÂÖ•ËøõÁ®ãÁöÑ‰∏äËø∞ÈÄªËæëÂäüËÉΩ„ÄÇ ÂΩìÂΩìÂâçÂæÖÊ£ÄËøõÁ®ã‰∏∫ÈòªÂ°ûÁä∂ÊÄÅÂπ∂‰∏îÈòªÂ°ûÊó∂Èó¥Ââ©‰ΩôÂ§ß‰∫é0‰∏™ËÆ°Êó∂Âô®ÂàªÂ∫¶Êó∂ÊâßË°åÔºåÂâ©‰ΩôÂàªÂ∫¶Ëá™Âáè„ÄÇËã•Âáè‰∏∫0ÔºåË∞ÉÁî®thread_unblockÂáΩÊï∞Â∞ÜÂΩìÂâçËøõÁ®ãÂä†ÂÖ•Âà∞Â∞±Áª™ÈòüÂàó„ÄÇ ÂÆûÈ™åÁªìÊûúÊàë‰ª¨Âà∞/src/threadÁõÆÂΩï‰∏ãÊâßË°åmake checkÔºåÂèØ‰ª•ËøõË°åÊµãËØï„ÄÇ Ëá≥Ê≠§ÔºåMISSION_1 ALARM CLOCKÁºñÂÜôÂÆåÊØïÔºåÊâßË°åÊµãËØïÊúâÂ¶Ç‰∏ãÁªìÊûúÔºö Mission 2 PRIORITY SCHEDULINGÂÆûÈ™åËØ¥ÊòéÂèäËøáÁ®ãÊú¨ÂÆûÈ™å‰∏ªË¶ÅÊ∂âÂèäÁöÑÊòØËøõÁ®ãÁöÑ‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÈóÆÈ¢òÔºåËøôÈáåÊàë‰ª¨ÂÖàÊâæÂà∞Á∫øÁ®ãÁªìÊûÑÁöÑÂÆö‰πâstruct thread: Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ËøôÈáåÂ∑≤ÁªèÂÆö‰πâ‰∫ÜÁ∫øÁ®ã‰ºòÂÖàÁ∫ßÁöÑÊï∞ÊçÆÊàêÂëòÔºöpriorityÔºåËøôÊòØËøõË°å‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÁöÑÂü∫Á°ÄÔºåÈÇ£‰πàÊàë‰ª¨Áé∞Âú®ÂèØ‰ª•ÊÄùËÄÉÂ¶Ç‰ΩïÂÆûÁé∞Ëøô‰∏ÄÊú∫Âà∂„ÄÇ pintos‰∏≠ÁªôÂá∫ÁöÑË∞ÉÂ∫¶ÂáΩÊï∞schedule()‰∏≠‰ΩøÁî®‰∫Ünext_thread_to_run()ÂáΩÊï∞Ëé∑Âèñ‰∏ã‰∏Ä‰∏™ÈúÄË¶ÅË∞ÉÂ∫¶ÊâßË°åÁöÑËøõÁ®ãÔºåÂΩìÂ∞±Áª™ÈòüÂàó‰∏≠ËøòÂ≠òÂú®ËøõÁ®ãÂàôËøîÂõûÈòüÂàóÁöÑÈ¶ñÂÖÉÁ¥†ÔºåËÄåËøô‰∏™ÈòüÂàóÊòØÊÄé‰πàÁª¥Êä§ÁöÑÂë¢ÔºüÊàë‰ª¨ÈÄöËøáÊü•Êâæthread.cÊ∫êÁ®ãÂ∫è‰∏≠ÁöÑ‰∏éready_listÁõ∏ÂÖ≥ÁöÑÂáΩÊï∞Êàë‰ª¨ÂèØ‰ª•ÂèëÁé∞Êúâ‰ª•‰∏ã‰∏â‰∏™ÂáΩÊï∞Êù•ÂêëÈòüÂàó‰∏≠Ê∑ªÂä†ÊàêÂëòÔºö init_thread() thread_unblock() thread_yield() ÂÆÉ‰ª¨ÈÉΩË∞ÉÁî®‰∫ÜÂáΩÊï∞list_push_backÊù•Â¢ûÂä†ÈòüÂàó‰∏≠ÁöÑÊàêÂëòÔºåÂú®list.c‰∏≠Êàë‰ª¨ÂèØ‰ª•ÊâæÂà∞Ê≠§ÂáΩÊï∞ÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÔºöÁõ¥Êé•Âú®ÈòüÂàóÁöÑÈòüÂ∞æÊèíÂÖ•„ÄÇ Â¶ÇÊ≠§‰∏ÄÁï™Ë∞ÉÁ†î‰πãÂêéÊàë‰ª¨Â∞±ÂÆåÂÖ®ÊêûÊ∏ÖÊ•ö‰∫ÜpintosÁöÑÂéüÂßãË∞ÉÂ∫¶Êú∫Âà∂ÔºöÂÖàÊù•ÂÖàÊúçÂä°„ÄÇËøô‰∏éÊàë‰ª¨ÊâÄÈúÄË¶ÅÁöÑ‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ËøòÂ≠òÂú®ËæÉÂ§ßÂ∑ÆÂà´ÔºåËÄåÂú®Ê≠§Âü∫Á°Ä‰∏äÊàë‰ª¨ÂÖ∂ÂÆû‰∏çÈöæÊÉ≥Âá∫ÊîπËøõÁöÑÊñπÊ≥ïÔºöÂéüÂßãÁöÑÁ∫øÁ®ãÁªìÊûÑ‰Ωì‰∏≠Â∑≤ÁªèÁªôÂá∫‰∫ÜÊï¥Êï∞Á±ªÂûãÁöÑ‰ºòÂÖàÁ∫ßÂ§ßÂ∞èÊàêÂëòÔºåÊàë‰ª¨Âè™Ë¶ÅËÉΩÂ§üÈÄöËøáÊØîËæÉÂêÑ‰∏™Á∫øÁ®ãÁöÑ‰ºòÂÖàÁ∫ßÂ§ßÂ∞èÁª¥Êä§‰∏Ä‰∏™‰ºòÂÖàÁ∫ß‰ªéÂ§ßÂà∞Â∞èÁöÑ‰ºòÂÖàÁ∫ßÈòüÂàóÂ∞±ËÉΩÂÆåÊàêÊ≠§ÁßçË∞ÉÂ∫¶„ÄÇ Ëá≥Ê≠§Êàë‰ª¨ÂèàÊúâ‰∫Ü‰∏§ÁßçÊÄùË∑ØÔºö ÊØèÊ¨°Ë∞ÉÂ∫¶‰πãÂâçÂØπÂ∞±Áª™ÈòüÂàóÊ†πÊçÆ‰ºòÂÖàÁ∫ßÂ§ßÂ∞èËøõË°å‰∏ÄÊ¨°ÊéíÂ∫è ÊØèÊ¨°ÊèíÂÖ•ÊàêÂëò‰πãÊó∂ÊåâÁÖß‰ºòÂÖàÁ∫ßÂ§ßÂ∞èËøõË°åÊèíÂÖ• ÂæàÂÆπÊòìÁúãÂá∫Ëøô‰∏§ÁßçÊñπÂºèÈÉΩËÉΩËææÂà∞ÁõÆÁöÑÔºå‰ΩÜÂêé‰∏ÄÁßçÊñπÂºèÁöÑÊïàÁéáË¶ÅËøúËøúÈ´ò‰∫éÁ¨¨‰∏ÄÁßçÊñπÂºè„ÄÇÂõ†Ê≠§Êàë‰ª¨‰æøÂºÄÂßãÁùÄÊâãÂÆûÁé∞Á¨¨‰∫åÁßçÊñπÂºèÔºåËÄåÂΩìÊàë‰ª¨ÁªßÁª≠ÊµèËßàlist.cÊñá‰ª∂Êó∂ÂèØ‰ª•ÂèëÁé∞ÂÖ∂‰∏≠Â∑≤ÁªèÂ≠òÂú®list_sortÂíålist_insert_orderedÂáΩÊï∞ÔºåÂÖ∂ÂäüËÉΩÂàÜÂà´‰∏∫Â∞ÜÂàóË°®ÊéíÂ∫èÂíåÊåâÂ∫èÊèíÂÖ•ÂàóË°®ÔºåÊàë‰ª¨Âú®Ê≠§Ëá™ÁÑ∂ÈÄâÊã©‰ΩøÁî®ÂÖ∂Âêé‰∏Ä‰∏™ÊèíÂÖ•ÂáΩÊï∞ÔºåÊ†πÊçÆÂÖ∂‰º†ÂÖ•ÁöÑÂèÇÊï∞ÂèØÁü•Êàë‰ª¨Âè™ÈúÄË¶ÅÈáçÊñ∞ÂÆûÁé∞‰∏Ä‰∏™ÊØîËæÉÂáΩÊï∞Ôºàlist_less_func *lessÔºâÂ∞±ÂèØË∞ÉÁî®Ê≠§ÂáΩÊï∞ÂÆåÊàê‰ºòÂÖàÁ∫ßÈòüÂàóÁöÑÁª¥Êä§„ÄÇ ‰∏ãÈù¢ÁªôÂá∫‰ºòÂÖàÁ∫ßÊØîËæÉÂáΩÊï∞ÔºåÊ†πÊçÆ‰º†ÂÖ•ÁöÑÊàêÂëò‰ºòÂÖàÁ∫ßÂ§ßÂ∞èËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄº„ÄÇ Ëá≥Ê≠§Êàë‰ª¨ÂàùÊ≠•ÂÆåÊàê‰∫Ü‰ºòÂÖàÁ∫ßÈòüÂàóÁöÑÁª¥Êä§ÔºåËøô‰πüÊòØÂÆûÁé∞‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÁöÑÁ¨¨‰∏ÄÊ≠•„ÄÇ ÁªßÁª≠ÈòÖËØªpintosÂÆòÊñπÊñáÊ°£ÁßçÁöÑ‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶Ë¶ÅÊ±ÇÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãËßÅÂ¶Ç‰∏ã‰∏ÄÊÆµËØùÔºö Implement priority scheduling in Pintos. When a thread is added to the ready list that has a higher priority than the currently running thread, the current thread should immediately yield the processor to the new thread. Similarly, when threads are waiting for a lock, semaphore, or condition variable, the highest priority waiting thread should be awakened first. A thread may raise or lower its own priority at any time, but lowering its priority such that it no longer has the highest priority must cause it to immediately yield the CPU. ËøôÊÆµËØù‰∏≠ÊèêÂà∞ÂΩìÂ∞±Áª™ÈòüÂàó‰∏≠Â≠òÂú®‰∏Ä‰∏™‰ºòÂÖàÁ∫ßÊØîÂΩìÂâçÁ∫øÁ®ã‰ºòÂÖàÁ∫ßÊõ¥È´òÁöÑÁ∫øÁ®ãÊó∂ÔºåÁ≥ªÁªüË¶ÅÁ´ãÂàªËøõË°åË∞ÉÂ∫¶ÔºåÂÖàÊâßË°å‰ºòÂÖàÁ∫ßËæÉÈ´òÁöÑÁ∫øÁ®ãÔºåÂΩì‰ºòÂÖàÁ∫ßËæÉÈ´òÁöÑÁ∫øÁ®ãÂ≠òÂú®ÁöÑÊó∂ÂÄôÔºå‰ºòÂÖàÁ∫ßËæÉ‰ΩéÁöÑÁ∫øÁ®ã‰∏ÄÂÆö‰ºöÊîæÂºÉCPU„ÄÇ Ê†πÊçÆÊ≠§Ë¶ÅÊ±ÇÁªìÂêàÊàë‰ª¨ÈòÖËØªËøáÁöÑthread.c‰∏≠ÁöÑÊ∫ê‰ª£Á†ÅÔºåÊàë‰ª¨ÂèØ‰ª•ÂèëÁé∞Á≥ªÁªüÂΩìÂâçÂπ∂‰∏ç‰ºöÂØπ‰ºòÂÖàÁ∫ßÂ§ßÂ∞èÁöÑÂèòÂåñÂÅöÂà∞Âç≥Êó∂ÊïèÊÑüÔºöÂΩìÊúâÊñ∞ÁöÑÁ∫øÁ®ãÂàõÂª∫ÊàñËÄÖÂ∑≤ÊúâÁöÑÁ∫øÁ®ã‰ºòÂÖàÁ∫ßÂèëÁîüÊîπÂèòÊó∂Á≥ªÁªüÂπ∂‰∏ç‰ºöÈ©¨‰∏äËøõË°åÂàÜÊûêÂπ∂Ë∞ÉÂ∫¶ÔºåÂÖ∂‰∏≠ÂΩìÂàõÂª∫Êñ∞Á∫øÁ®ãÊó∂ÂÆÉÂè™‰ºöÁª¥Êä§Â∞±Áª™ÈòüÂàóÔºåËÄåÈòüÂàó‰∏≠ÊàñÂΩìÂâçÁ∫øÁ®ã‰ºòÂÖàÁ∫ßÂèëÁîüÂèòÂåñ‰πãÊó∂Âπ∂‰∏ç‰ºöÊúâÂÖ∂ÂÆÉÊìç‰ΩúÈöè‰πã‰∫ßÁîü„ÄÇ ÈíàÂØπËøô‰∏ÄÈóÆÈ¢òÊàë‰ª¨ÂÖ∂ÂÆûÂæàÂø´Â∞±ËÉΩÊÉ≥Âá∫Ëß£ÂÜ≥ÁöÑÊñπÊ°àÔºöÂΩì‰ªª‰Ωï‰∏éÁ∫øÁ®ã‰ºòÂÖàÁ∫ßÊîπÂèòÁõ∏ÂÖ≥ÁöÑÊìç‰ΩúÂèëÁîüÊó∂ÔºåËøõË°å‰∏Ä‰∏™Âà§Êñ≠ÂàÜÊûêÔºåËã•Êìç‰Ωú‰πãÂêé‰∫ßÁîüÁöÑÊñ∞‰ºòÂÖàÁ∫ßÈ´ò‰∫éÂΩìÂâçÁ∫øÁ®ãÁöÑ‰ºòÂÖàÁ∫ßÔºåË∞ÉÁî®thread_yieldÂáΩÊï∞ËøõË°åÁ∫øÁ®ãË∞ÉÂ∫¶Âπ∂Áª¥Êä§‰ºòÂÖàÁ∫ßÈòüÂàóÔºåÂÆûÁé∞Á∫øÁ®ãÁöÑÊä¢Âç†ÂºèË∞ÉÂ∫¶„ÄÇ Ê†πÊçÆÊ≠§ÊÄùË∑ØÊàë‰ª¨‰ªéÊ∫êÁ†Å‰∏≠ÊâæÂá∫‰∏é‰ºòÂÖàÁ∫ßÂèòÂåñÁõ∏ÂÖ≥ÁöÑÂáΩÊï∞ÔºåÁªèËøáÊü•ÊâæÂàÜÊûêÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Âè™Êúâ‰ª•‰∏ã‰∏§‰∏™ÂáΩÊï∞Á¨¶ÂêàÊù°‰ª∂Ôºö ÂÖ∂‰∏≠init_threadÊòØÂàùÂßãÂåñÁ∫øÁ®ãÁöÑÂáΩÊï∞ÔºåËøôÂ±û‰∫éÊàë‰ª¨ÂàÜÊûêÁöÑÁ¨¨‰∏ÄÁßçÊÉÖÂÜµÔºöÊúâÊñ∞ÁöÑÁ∫øÁ®ã‰∫ßÁîüÔºåÊ≠§Êó∂Âõ†‰∏∫Âú®ÂáΩÊï∞ÁöÑÊúÄÂêéÂ∑≤ÁªèÊúâÂØπÂ∞±Áª™ÈòüÂàóÁª¥Êä§ÁöÑÊìç‰ΩúÔºåÂõ†Ê≠§Êàë‰ª¨Âè™ÈúÄÂà§Êñ≠ÂÖ∂‰ºòÂÖàÁ∫ßÂ§ßÂ∞èÊòØÂê¶È´ò‰∫éÂΩìÂâçÁ∫øÁ®ãÔºåËã•È´ò‰∫éÂàôÁî®thread_yieldÂáΩÊï∞‰ΩøÂΩìÂâçÁ∫øÁ®ãÊîæÂºÉCPU„ÄÇ(Âõ†‰∏∫ÂáΩÊï∞Âú®ÂàùÂßãÂåñÊó∂ÁöÑÁä∂ÊÄÅ‰∏∫ÈòªÂ°ûÔºåÈúÄË¶ÅÂú®thread_create‰∏≠Ë∞ÉÁî®unblockÂáΩÊï∞Â∞ÜÂÖ∂ÁΩÆ‰∫éReadyÁä∂ÊÄÅÔºåÂú®Ëøô‰πãÂêéÊàë‰ª¨ÊâçËÉΩÂØπÂÖ∂ËøõË°åË∞ÉÂ∫¶ÔºåÂõ†Ê≠§Ê≠§Ë∞ÉÂ∫¶Ê®°ÂùóË°•ÂÖÖÂú®thread_createÂáΩÊï∞‰∏≠) ËÄåthread_set_priorityÂáΩÊï∞ÁöÑ‰ΩúÁî®‰ΩøÊîπÂèòÂΩìÂâçÁ∫øÁ®ãÁöÑ‰ºòÂÖàÁ∫ßÔºåËÄåÂΩì‰ºòÂÖàÁ∫ßÂèëÁîüÊîπÂèòÊó∂ÂΩ±ÂìçÂ∞±Áª™ÈòüÂàóÁöÑÊÉÖÂÜµÂçÅÂàÜÂ∏∏ËßÅÔºåÊ≠§Êó∂Êàë‰ª¨Âè™ÈúÄÁõ¥Êé•Ë∞ÉÁî®thread_yieldÂáΩÊï∞‰æøÂèØÂÆåÊàêÂØπÂ∞±Áª™ÈòüÂàóÁöÑÁª¥Êä§ÂíåÁ∫øÁ®ãÁöÑ‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶„ÄÇ ‰∏ãÈù¢ÁªôÂá∫‰øÆÊîπ‰πãÂêéËøô‰∏§‰∏™ÂáΩÊï∞ÁöÑ‰ª£Á†ÅÔºö ÂÆåÊàê‰∫ÜÊä¢Âç†ÂºèË∞ÉÂ∫¶ÁöÑÊ∂âÂèäÔºåÊàë‰ª¨Êé•ÁùÄÂàÜÊûêpintosÂÆòÊñπÊñáÊ°£‰∏≠ÁöÑmission 2ÁöÑ‰ªªÂä°ÊåáÁ§∫Ôºå‰∏ªË¶ÅÂú®2.2.3ËäÇ‰∏≠„ÄÇ ÂàÜÊûê‰πãÂêéÂÆÉ‰∏ªË¶ÅÊèêÂá∫‰∫Ü‰∏â‰∏™ÈóÆÈ¢òÔºåÊàë‰ª¨ÂÖàÊù•ÁúãÁúãËøôÂá†‰∏™ÈóÆÈ¢ò When threads are waiting for a lock, semaphore, or condition variable, the highest priority waiting thread should be awakened first. A thread may raise or lower its own priority at any time, but lowering its priority such that it no longer has the highest priority must cause it to immediately yield the CPU. ÊÄªÁªìÊù•ËØ¥Â∞±ÊòØÔºåÂú®ÊúâÈîÅÊàñËÄÖ‰ø°Âè∑ÈáèÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨Â¶Ç‰ΩïÂÆâÊéíËøõÁ®ã‰ºòÂÖàÁ∫ßÔºü Âú®ÁõÆÂâçÁöÑpintos‰∏≠ ÔºåÈîÅÁöÑÁî≥ËØ∑Êú∫Âà∂ËæÉ‰∏∫ÁÆÄÂçïÔºåÂè™Ê∂âÂèä‰ø°Âè∑ÈáèÁöÑPVÊìç‰ΩúÂπ∂ËÆæÁΩÆÈîÅÁöÑÊã•ÊúâÁ∫øÁ®ãÔºåËøôÈáåÂÖàÁªôÂá∫lock_acquireÁöÑÊ∫êÁ†ÅÔºö ÂØπ‰∫éÂÖ∂‰ªñÁî≥ËØ∑ËØ•ÈîÅÁöÑÁ∫øÁ®ãÔºåÂπ∂Êú™Âú®Áõ∏ÂÖ≥Á∫øÁ®ã‰∏≠ËÆ∞ÂΩïÔºåÂè™ÊòØÂú®‰ø°Âè∑Èáè‰∏≠Áª¥ÊåÅ‰∫Ü‰∏Ä‰∏™Á≠âÂæÖÈòüÂàó„ÄÇ Êàë‰ª¨ÂèØ‰ª•Ëøõ‰∏ÄÊ≠•Êé¢Á©∂Ëøô‰∏™ÈòüÂàóÁöÑÁª¥Êä§Êú∫Âà∂ÔºåÊü•Êâæ‰∏éÊàêÂëòwaitersÁõ∏ÂÖ≥ÁöÑÂáΩÊï∞ÔºåÊàë‰ª¨ÂèØ‰ª•ÂèëÁé∞Âè™Âú®‰ø°Âè∑ÈáèÁöÑPVÊìç‰Ωú‰∏≠‰ºöÂØπÂÖ∂ËøõË°åÊìç‰ΩúÔºåÂÆûÁé∞ÁöÑÊú∫Âà∂ÂíåÂ∞±Áª™ÈòüÂàó‰∏ÄËá¥ÔºöÂÖàÊù•ÂÖàÊúçÂä°„ÄÇËøôÊó†Áñë‰πü‰∏çÁ¨¶Âêà‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÁöÑË¶ÅÊ±ÇÔºåÊàë‰ª¨ÈúÄË¶ÅÂú®‰πãÂêéÁöÑÂÆûÈ™å‰∏≠ËøõË°åÊîπËøõ„ÄÇ Êàë‰ª¨Êé•ÁùÄÈòÖËØªÂÆòÊñπÁªôÂá∫ÁöÑÂÆûÈ™åÊåáÂØº‰π¶Ôºö One issue with priority scheduling is ‚Äúpriority inversion‚Äù. Consider high, medium, and low priority threads H, M, and L, respectively. If H needs to wait for L (for instance, for a lock held by L), and M is on the ready list, then H will never get the CPU because the low priority thread will not get any CPU time. A partial fix for this problem is for H to ‚Äúdonate‚Äù its priority to L while L is holding the lock, then recall the donation once L releases (and thus H acquires) the lock. ËøôÈáåÊ∂âÂèäÂà∞ÁöÑÈóÆÈ¢òÂ∞±ÊòØÁ∫øÁ®ã‰ºòÂÖàÁ∫ßÁöÑÊçêËµ†ÔºåÊàë‰ª¨ÈÄöËøá‰ª•‰∏ãÊ°à‰æãÂàÜÊûêÂØπÂÖ∂ËøõË°åËØ¥ÊòéÔºö ÂàöÂºÄÂßãÊúâ‰∏Ä‰∏™ËøõÁ®ãP_low Âç†Áî®‰∫ÜCPUÔºåÂπ∂‰∏îÁî≥ËØ∑‰∫Ü‰∏Ä‰∏™lockÈîÅ„ÄÇËøôÊó∂Êúâ‰∏Ä‰∏™ P_med ËøõÁ®ãËøõÂÖ•‰∫ÜÂ∞±Áª™ÈòüÂàóÔºå‰ºòÂÖàÁ∫ßÊØîËæÉÈ´òÁöÑËøõÁ®ã, Ê†πÊçÆthread_yield ()ÔºåP_low‰ºöËÆ©Âá∫cpuÁªôP_med P_med Âç†Áî®cpuÔºåP_lowÊîæÂÖ•Á≠âÂæÖÈòüÂàóready_list,ÂÖ∂Ëøò‰øùÂ≠òÁùÄÂØπÂ∫îÁöÑlockÂç†Áî® Ê≠§Êó∂P_highÂ∞±Áª™ÔºåÊ†πÊçÆ‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÂÖ∂ÂºÄÂßãÂØπCPUÂç†Áî®ÔºåP_medÂíåP_lowÊåâÂ∫èÂõûÂà∞Â∞±Áª™ÈòüÂàó‰∏≠ ÈÇ£‰πàÔºåÁé∞Âú®Â∞±‰ºöÈÄ†ÊàêÊ≠ªÈîÅ„ÄÇÊ≠ªÈîÅÂ≠òÂú®‰∫éP_low-&gt;S_1-&gt;P_high‰πãÈó¥„ÄÇ Ëá≥Ê≠§Êàë‰ª¨ÂèØ‰ª•ÂæóÂá∫ÁªìËÆ∫ÔºöÁõ¥Êé•ÊåâÁÖß‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÁöÑÊñπÂºèÂàáÊç¢Á∫øÁ®ãÂèØËÉΩ‰ºöÈÄ†ÊàêÊ≠ªÈîÅÔºåÁªìÂêàÂ∞±Áª™ÈòüÂàóÁöÑË∞ÉÂ∫¶Êú∫Âà∂‰ºöÁªßÁª≠ÂØºËá¥‰ºòÂÖàÁ∫ßÂ§Ñ‰∫é‰∫åËÄÖ‰πãÈó¥ÁöÑÊâÄÊúâÁ∫øÁ®ã‰πüË¢´ÈîÅ‰Ωè„ÄÇ Ê≠ªÈîÅÊó†ÁñëÈÄ†ÊàêÊìç‰ΩúÁ≥ªÁªüÁöÑÂ¥©Ê∫ÉÔºåÂõ†Ê≠§ÂøÖÈ°ªÁªôÂá∫‰∏Ä‰∏™Ëß£ÂÜ≥ÁöÑÊñπÊ°àÊù•Á†¥Ëß£„ÄÇÁï•ÁªèÊÄùËÄÉÊàë‰ª¨ÂèëÁé∞ÊúÄÈ´òÊïàÁöÑËß£ÂÜ≥ÊñπÊ°àÂ∞±ÊòØÂÖàËøêË°åÂÖ∂‰∏≠‰∏Ä‰∏™Á∫øÁ®ãÔºå‰ΩÜËøô‰∏™Êìç‰Ωú‰πü‰∏çËÉΩËøùËÉåÁ∫øÁ®ãË∞ÉÂ∫¶ÁöÑ‰ºòÂÖàÁ∫ßÂíåÈîÅÊú∫Âà∂„ÄÇÊ†πÊçÆ‰ª•‰∏äË¶ÅÊ±ÇÊàë‰ª¨ÂºÄÂßãÂºïÂÖ•‰ºòÂÖàÁ∫ßÊçêËµ†Êú∫Âà∂„ÄÇ Ê†πÊçÆÂÆûÈ™åÊåáÂØº‰π¶Ôºå‰ºòÂÖàÁ∫ßÊçêËµ†ÁöÑÊú∫Âà∂Â¶Ç‰∏ãÔºöÂΩìÂèëÁé∞È´ò‰ºòÂÖàÁ∫ßÁöÑ‰ªªÂä°Âõ†‰∏∫‰Ωé‰ºòÂÖàÁ∫ß‰ªªÂä°Âç†Áî®ËµÑÊ∫êËÄåÈòªÂ°ûÊó∂ÔºåÂ∞±Â∞Ü‰Ωé‰ºòÂÖàÁ∫ß‰ªªÂä°ÁöÑ‰ºòÂÖàÁ∫ßÊèêÂçáÂà∞Á≠âÂæÖÂÆÉÊâÄÂç†ÊúâÁöÑËµÑÊ∫êÁöÑÊúÄÈ´ò‰ºòÂÖàÁ∫ß‰ªªÂä°ÁöÑ‰ºòÂÖàÁ∫ß„ÄÇËÄåÂΩìË¢´ÊçêËµ†Á∫øÁ®ãÈáäÊîæËØ•ÈîÅ‰πãÂêéÂÖ∂‰ºòÂÖàÁ∫ßÈúÄË¶ÅÊÅ¢Â§çËá≥ÂéüÂßãÁöÑ‰ºòÂÖàÁ∫ß„ÄÇ ÁªßÁª≠ÈòÖËØª‰Ωô‰∏ãÁöÑÊåáÂØº‰π¶„ÄÇ You will need to account for all different situations in which priority donation is required. Be sure to handle multiple donations, in which multiple priorities are donated to a single thread. You must also handle nested donation: if H is waiting on a lock that M holds and M is waiting on a lock that L holds, then both M and L should be boosted to H‚Äôs priority. ËøôÁÆÄÁü≠ÁöÑ‰∏ÄÊÆµËØùÂèàÁªôÊàë‰ª¨ÊäõÂá∫‰∫Ü‰∏§‰∏™Âú®‰ºòÂÖàÁ∫ßÊçêËµ†‰∏≠‰ºöÂá∫Áé∞ÁöÑÈóÆÈ¢òÔºö Â¶Ç‰ΩïÂÆûÁé∞Â§ö‰∏™Á∫øÁ®ãÂØπÂçï‰∏™Á∫øÁ®ãÁöÑ‰ºòÂÖàÁ∫ßÊçêËµ† Â¶Ç‰ΩïÂÆûÁé∞Â§ö‰∏™Á∫øÁ®ã‰πãÈó¥ÁöÑÈÄíÂΩí‰ºòÂÖàÁ∫ßÊçêËµ† Á¨¨‰∏ÄÁÇπÁöÑÊÉÖÂÜµËæÉ‰∏∫ÂÆπÊòìÁêÜËß£ÔºåÊàë‰ª¨Âú®ËøôÈáå‰ΩøÁî®‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊ°à‰æã‰ªãÁªçÈÄíÂΩíÊçêËµ†Ôºö P_LowÊ≠£Âú®Âç†Áî®ÈîÅLock1,P_MedÊ≠£Âú®Âç†Áî®ÈîÅLock2ÔºåP_MedÊ≠£Âú®Áî≥ËØ∑Lock1ÔºåÊ≠§Êó∂‰æø‰ºöËøõË°å‰ºòÂÖàÁ∫ßÁöÑÊçêËµ†ÔºåP_LowÁöÑ‰ºòÂÖàÁ∫ßÂèò‰∏∫MedÔºåÊ≠§Êó∂P_HighÂºÄÂßãÁî≥ËØ∑Lock2,P_MedÁöÑ‰ºòÂÖàÁ∫ßÂàô‰ºöÂèò‰∏∫HighÔºåÈÄöËøáÈÄíÂΩíÊçêËµ†ÔºåP_LowÁöÑ‰ºòÂÖàÁ∫ß‰πü‰ºöÂèò‰∏∫High„ÄÇ ‰ª•‰∏ä‰∏§ÁÇπÂÖ∂ÂÆûÂπ∂‰∏çÂ±û‰∫éÂΩìÂâçË∞ÉÂ∫¶ËøáÁ®ã‰∏≠Â≠òÂú®ÁöÑÈóÆÈ¢òÔºåÈúÄË¶ÅÊàë‰ª¨Âú®ÂÆûÁé∞‰ºòÂÖàÁ∫ßÊçêËµ†Êó∂Ê≥®ÊÑè„ÄÇ ÁªèËøá‰∏äÈù¢ÁöÑÈóÆÈ¢òÂàÜÊûêÔºåÂíåÂØπÂ∫îÁöÑÊ∫ê‰ª£Á†ÅÂàÜÊûêÔºåÊàë‰ª¨ÂØπËøô‰∏™‰ªªÂä°‰Ωô‰∏ãÁöÑÂæÖÂÆûÁé∞ÈúÄÊ±ÇÂÅö‰∏Ä‰∏™ÊÄªÁªìÔºö ‰ºòÂÖàÁ∫ßÈòüÂàó Áª¥ÊåÅ‰∏Ä‰∏™ready_list ‰ºòÂÖàÁ∫ßÊéíÈòüÈòüÂàó Â∞ÜconditionÁöÑwaitersÈòüÂàóÂÆûÁé∞‰∏∫‰ºòÂÖàÁ∫ßÈòüÂàó„ÄÇ Â∞Ü‰ø°Âè∑ÈáèÁöÑÁ≠âÂæÖÈòüÂàóÂÆûÁé∞‰∏∫‰ºòÂÖàÁ∫ßÈòüÂàó„ÄÇ ÂçïÈîÅÂÆûÁé∞ ÂΩìÂèëÁé∞È´ò‰ºòÂÖàÁ∫ßÁöÑ‰ªªÂä°Âõ†‰∏∫‰Ωé‰ºòÂÖàÁ∫ß‰ªªÂä°Âç†Áî®ËµÑÊ∫êËÄåÈòªÂ°ûÊó∂ÔºåÂ∞±Â∞Ü‰Ωé‰ºòÂÖàÁ∫ß‰ªªÂä°ÁöÑ‰ºòÂÖàÁ∫ßÊèêÂçáÂà∞Á≠âÂæÖÂÆÉÊâÄÂç†ÊúâÁöÑËµÑÊ∫êÁöÑÊúÄÈ´ò‰ºòÂÖàÁ∫ß‰ªªÂä°ÁöÑ‰ºòÂÖàÁ∫ß„ÄÇ ÈáäÊîæÈîÅÁöÑÊó∂ÂÄôËã•‰ºòÂÖàÁ∫ßÊîπÂèòÂàôÂèØ‰ª•ÂèëÁîüÊä¢Âç†„ÄÇ Â§öÈîÅÂÆûÁé∞ Â¶ÇÊûú‰∏Ä‰∏™Á∫øÁ®ãË¢´Â§ö‰∏™Á∫øÁ®ãÊçêËµ†Ôºå Áª¥ÊåÅÂΩìÂâç‰ºòÂÖàÁ∫ß‰∏∫ÊçêËµ†‰ºòÂÖàÁ∫ß‰∏≠ÁöÑÊúÄÂ§ßÂÄºÔºàacquireÂíårelease‰πãÊó∂Ôºâ lock ÈîÅË¢´ÈáäÊîæÁöÑÊó∂ÂÄôÔºå È´òËøõÁ®ãÂ∫îËØ•Êî∂Âõû‰ºòÂÖàÁ∫ßÊçêËµ†ÔºåÂπ∂‰∏îÂÅúÊ≠¢unblockÁä∂ÊÄÅ„ÄÇ Âú®ÂØπ‰∏Ä‰∏™Á∫øÁ®ãËøõË°å‰ºòÂÖàÁ∫ßËÆæÁΩÆÁöÑÊó∂ÂÄôÔºå Â¶ÇÊûúËøô‰∏™Á∫øÁ®ãÂ§Ñ‰∫éË¢´ÊçêËµ†Áä∂ÊÄÅÔºå ÂàôÂØπbase_priorityËøõË°åËÆæÁΩÆÔºå ÁÑ∂ÂêéÂ¶ÇÊûúËÆæÁΩÆÁöÑ‰ºòÂÖàÁ∫ßÂ§ß‰∫éÂΩìÂâç‰ºòÂÖàÁ∫ßÔºå ÂàôÊîπÂèòÂΩìÂâç‰ºòÂÖàÁ∫ßÔºå Âê¶ÂàôÂú®ÊçêËµ†Áä∂ÊÄÅÂèñÊ∂àÁöÑÊó∂ÂÄôÊÅ¢Â§çbase_priority„ÄÇ Âú®ÈáäÊîæÈîÅÂØπ‰∏Ä‰∏™ÈîÅ‰ºòÂÖàÁ∫ßÊúâÊîπÂèòÁöÑÊó∂ÂÄôÂ∫îËÄÉËôëÂÖ∂‰ΩôË¢´ÊçêËµ†‰ºòÂÖàÁ∫ßÂíåÂΩìÂâç‰ºòÂÖàÁ∫ß„ÄÇ ÊçêËµ†Êó∂Èó¥ Á∫øÁ®ãÂ§Ñ‰∫éready_list‰∏≠Á≠âÂæÖÊó∂ Á∫øÁ®ãÂ§Ñ‰∫ésleepÁä∂ÊÄÅÔºå‰πüÂ∞±ÊòØblockÁä∂ÊÄÅÊó∂Ôºå‰πüÂèØ‰ª•ÊîπÂèò‰ºòÂÖàÁ∫ß Âü∫‰∫é‰ª•‰∏äÈúÄÊ±ÇÔºåÊàë‰ª¨ÂºÄÂßãÂØπpintos‰∏≠ÁöÑÊ∫êÁ†ÅËøõË°å‰øÆÊîπ„ÄÇ Âú®‰∏äÊñáÁöÑÂàÜÊûê‰∏≠Êàë‰ª¨Â∞±ÂèØ‰ª•ÂæóÁü•ÔºöËã•Â≠òÂú®‰ºòÂÖàÁ∫ßÁöÑÊçêËµ†ÂàôÂøÖÁÑ∂‰ºöÂ≠òÂú®ÈáäÊîæÈîÅÂêéË¢´Ë¢´ÊçêËµ†Á∫øÁ®ãÁöÑ‰ºòÂÖàÁ∫ßÊÅ¢Â§çÔºåÂõ†Ê≠§ÂçïÂçïÂú®threadÁªìÊûÑ‰Ωì‰∏≠‰ΩøÁî®‰∏Ä‰∏™ÊàêÂëòpriorityÊòØÊó†Ê≥ïÂÆåÊàêÁöÑÔºåÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™È¢ùÂ§ñÁöÑÊàêÂëòÊù•ÂÇ®Â≠òÁ∫øÁ®ãÂú®Ë¢´ÊçêËµ†‰πãÂâçÁöÑ‰ºòÂÖàÁ∫ßÔºå‰πüÂ∞±ÊòØbase_priority„ÄÇÁªèËøá‰ª•‰∏äÁöÑÂÆûÈ™åÊàë‰ª¨‰πüÂèØÂèëÁé∞ÂéüÂßãthreadÁªìÊûÑ‰Ωì‰∏≠Âπ∂Êú™ËÆæËÆ°‰∏éÈîÅÁõ∏ÂÖ≥ÁöÑÊàêÂëòÂèòÈáèÔºàÂéülÂßãÁöÑÈîÅÂíå‰ø°Âè∑ÈáèÈòüÂàó‰∏é‰ºòÂÖàÁ∫ßÊó†ÂÖ≥ÔºåÂíåÂ∞±Áª™ÈòüÂàó‰∏ÄÊ†∑Â±û‰∫éÂÖàÊù•ÂÖàÊúçÂä°Ôºå‰∏çÈúÄË¶ÅÂú®ÁªìÊûÑ‰Ωì‰∏≠Ê∑ªÂä†Ëøô‰∫õÔºâÔºåÂõ†Ê≠§Êàë‰ª¨ËøòÈúÄË¶ÅÂú®Á∫øÁ®ãÁöÑÁªìÊûÑ‰Ωì‰∏≠Ê∑ªÂä†‰∏§‰∏™ÊàêÂëòÂèòÈáèÔºölocksÂíålock_waitingÔºåÂàÜÂà´‰ª£Ë°®Á∫øÁ®ãÂ∑≤ÁªèÊã•ÊúâÁöÑÈîÅÂíåÊ≠£Âú®Áî≥ËØ∑ÁöÑÈîÅÔºåÂâçËÄÖ‰∏∫‰∏Ä‰∏™ÈòüÂàóÔºåÂêéËÄÖÂè™ÈúÄËÆæÁΩÆ‰∏∫ÈîÅÁ±ªÂûãÔºàlockÔºâÁöÑÂèòÈáèÔºå‰∏ãÈù¢Áªô‰øÆÊîπÂêéÁöÑthreadÁªìÊûÑ‰ΩìÔºö Êó¢ÁÑ∂Á∫øÁ®ãÁªìÊûÑ‰Ωì‰∏≠Áº∫‰πè‰∏éÈîÅÁõ∏ÂÖ≥ÁöÑÊàêÂëòÔºåËá™ÁÑ∂ÈîÅÁªìÊûÑ‰Ωì‰∏≠‰πüÁº∫‰πè‰∏éÁ∫øÁ®ãÁõ∏ÂÖ≥ÁöÑÊàêÂëòÔºåÊàë‰ª¨ÊâæÂà∞lockÁöÑÊ∫êÁ†ÅÂèØ‰ª•ÂèëÁé∞ÂÖ∂‰∏≠Âè™Â≠òÂú®‰∏§‰∏™ÊàêÂëòÔºöholderÂíåsemaphoreÔºåÂç≥Êã•ÊúâËÄÖÂíå‰ø°Âè∑ÈáèÔºåËøôÂØπ‰∫éÂÆûÁé∞‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶Âíå‰ºòÂÖàÁ∫ßÊçêËµ†Êù•ËØ¥ËÇØÂÆöÊòØ‰∏çÂ§üÁöÑÔºåÊàë‰ª¨ÈúÄË¶ÅÁªßÁª≠Â¢ûÂä†‰∏§‰∏™ÊàêÂëòÂèòÈáèÔºöelemÂíåmax_priority„ÄÇËøô‰∏§‰∏™ÊàêÂëò‰ª£Ë°®ÁöÑÊÑè‰πâ‰πüÂæàÂ•ΩÁêÜËß£ÔºöÂâçËÄÖÊòØÂΩìÂâçÁ∫øÁ®ãÂú®‰ø°Âè∑ÈáèÈòüÂàó‰∏≠‰ΩçÁΩÆÔºàÂú®ÂéüÂßãÁöÑÈòüÂàó‰∏≠ÔºåÂΩìÂâçÁ∫øÁ®ã‰∏ÄÂÆö‰Ωç‰∫éÈòüÂàóÁöÑÈ¶ñÈÉ®ÔºâÔºåÂêéËÄÖÂàôÊòØË°®Á§∫ËØ•ÈîÅÁöÑ‰ø°Âè∑ÈáèÈòüÂàó‰∏≠Á∫øÁ®ãÁöÑÊúÄÈ´ò‰ºòÂÖàÁ∫ßÔºàÁî®‰∫é‰ºòÂÖàÁ∫ßÁöÑÊçêËµ†ÔºâÔºå‰∏ãÈù¢‰πüÁªôÂá∫‰øÆÊîπËøáÂêéÁöÑlockÁªìÊûÑ‰Ωì‰ª£Á†ÅÔºö Êúâ‰∫ÜËøô‰∫õ‰øÆÊîπËøáÂêéÁöÑÁªìÊûÑ‰ΩìÊàë‰ª¨Â∞±ÂèØ‰ª•ÂºÄÂßãÂÆûÁé∞‰∏éÈîÅÁõ∏ÂÖ≥ÁöÑ‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶Á®ãÂ∫è„ÄÇ Âõ†‰∏∫ÂâçÈù¢Ê∂âÂèäÂà∞‰∫ÜÁªìÊûÑ‰ΩìÁöÑ‰øÆÊîπÔºåÈÇ£‰πàÊàë‰ª¨ÂäøÂøÖË¶ÅÂØπÂÖ∂ÂàùÂßãÂåñÂáΩÊï∞ËøõË°å‰øÆÊîπÔºåÊâÄ‰ª•Êàë‰ª¨ÂÖàÂØπlock_initÂíåinit_threadËøõË°å‰øÆÊîπÔºåÂÆåÊàê‰ª•‰∏äÂá†È°πÁöÑÂàùÂßãÂåñÔºö Êé•‰∏ãÊù•Êàë‰ª¨‰∏çÂ¶®ÂàÜÊûê‰ª•‰∏ãÊ∂âÂèäÈîÅÁöÑÁ∫øÁ®ãË∞ÉÂ∫¶ËøáÁ®ãÔºåÊ†πÊçÆ‰πãÂâçÈòÖËØªÁöÑ‰ª£Á†ÅÔºåÂèØ‰ª•Áî®‰ª•‰∏ãÊµÅÁ®ãÂõæÊù•Ê¢≥ÁêÜÊàë‰ª¨ÈúÄË¶ÅÂÆûÁé∞ÁöÑËøáÁ®ãÔºö Ê†πÊçÆÊµÅÁ®ãÂõæÔºåÊàë‰ª¨È¶ñÂÖàÁùÄÁúº‰∫élock_acquireÂáΩÊï∞ÔºåÂú®ÈîÅÁöÑÁî≥ËØ∑Êó∂Êàë‰ª¨È¶ñÂÖàËÄÉËôëÁöÑÂ∞±ÊòØÈîÅÊòØÂê¶Â∑≤ÁªèË¢´Á∫øÁ®ãÂç†Áî®ÔºåËã•ÈîÅÊú™Ë¢´Âç†Áî®ÂàôÁõ¥Êé•Â∞ÜÊ≠§Á∫øÁ®ãÂç†Áî®ËØ•ÈîÅÔºåÂØπ‰ø°Âè∑ÈáèËøõË°åPÊìç‰ΩúÔºåËÄåÂΩìËØ•ÈîÅÂ≠òÂú®Á∫øÁ®ãÂç†Áî®Êó∂ÔºåÊàë‰ª¨Â∞±ÈúÄË¶ÅÂ∞ÜËØ•ÈîÅÁöÑÊúÄÂ§ß‰ºòÂÖàÁ∫ßÂíåÊ≠§Á∫øÁ®ãÁöÑ‰ºòÂÖàÁ∫ßËøõË°åÊØîËæÉÔºåËã•Ê≠§Á∫øÁ®ãÁöÑ‰ºòÂÖàÁ∫ßÈ´òÂàôË¶ÅËøõË°å‰ºòÂÖàÁ∫ßÁöÑÊçêËµ†ÔºåÈöèÂêéÂú®Ë¢´ÊèíÂÖ•‰ø°Âè∑ÈáèÁöÑÁ≠âÂæÖÈòüÂàó‰∏≠„ÄÇ ÊâÄ‰ª•Êàë‰ª¨ËøôÈáåÈúÄË¶ÅÂÖàÂÆûÁé∞‰∏Ä‰∏™‰ºòÂÖàÁ∫ßÊçêËµ†ÂáΩÊï∞thread_donate_priorityÔºåÂÆÉÁöÑÂäüËÉΩÂÖ∂ÂÆûÂè™Êúâ‰∏§‰∏™Ôºö ÊîπÂèòÁ∫øÁ®ãÂΩìÂâçÁöÑ‰ºòÂÖàÁ∫ß Ëã•ËØ•Á∫øÁ®ãÂ§Ñ‰∫éÂ∞±Áª™ÈòüÂàó‰∏≠ÈúÄË¶ÅÂØπÂ∞±Áª™ÈòüÂàóÈáçÊéí Á¨¨‰∏Ä‰∏™‰ªªÂä°ÂæàÂÆπÊòì‰ΩøÊàë‰ª¨ÊÉ≥Âà∞‰πãÂâçÂÆûÁé∞Êä¢Âç†ÂºèË∞ÉÂ∫¶Êó∂‰øÆÊîπËøáÁöÑthread_set_priorityÂáΩÊï∞Ôºå‰ΩÜ‰ªîÁªÜÂàÜÊûêÂêéÊàë‰ª¨ÂèØ‰ª•ÂèëÁé∞Ê≠§ÂáΩÊï∞ÁöÑÈÄªËæëÂπ∂‰∏çÈÄÇÁî®‰∏éÊ≠§ÔºöÂΩìÂâçÁ∫øÁ®ãÁöÑ‰ºòÂÖàÁ∫ßÂ§ßÂ∞è‰∏ç‰ªÖÂíåÂÖ∂Êú¨Ë∫´ÁöÑ‰ºòÂÖàÁ∫ßÁõ∏ÂÖ≥ÔºåËøò‰∏éÊçêËµ†Á∫øÁ®ãÁöÑ‰ºòÂÖàÁ∫ßÂ§ßÂ∞èÁõ∏ÂÖ≥Ôºå‰πãÂâç‰øÆÊîπÁöÑÂáΩÊï∞ÁöÑÊú¨ÊÑèÂÖ∂ÂÆûÊòØ‰øÆÊîπÂΩìÂâçËøêË°åÁ∫øÁ®ãÔºàËøôÂ∞±ÊÑèÂë≥ÁùÄÁ∫øÁ®ãÁöÑÁä∂ÊÄÅ‰∏ÄÂÆö‰∏∫RUNNINGÔºåÂõ†Ê≠§‰øÆÊîπËøáÂêéÊàë‰ª¨ÂèØ‰ª•Ê†πÊçÆË∞ÉÊï¥ÁöÑ‰ºòÂÖàÁ∫ßÂ§ßÂ∞èÁõ¥Êé•Âà§Êñ≠ÂÖ∂ÊòØÂê¶Ë∞ÉÁî®thread_yieldÔºâÁöÑbase_priorityËÄåÈùûpriorityÔºå‰∏îÂú®ÂéüÊù•ÁöÑËÆæÁΩÆ‰∏≠ÔºåÂπ∂‰∏çËÉΩÊåáÂÆö‰ªªÊÑèÁ∫øÁ®ãËøõË°å‰øÆÊîπ„ÄÇÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÂÜçÊ¨°ÁºñÂÜô‰∏Ä‰∏™ÂáΩÊï∞ÂØπ‰ªªÊÑèÁ∫øÁ®ãÁöÑÂΩìÂâç‰ºòÂÖàÁ∫ßËøõË°åÊõ¥Êñ∞Ôºå‰∏çËøáÂÜçÊ¨°‰πãÂâçÊàë‰ª¨Êó†ÁñëË¶ÅÂÜçÊ¨°ÂØπthread_set_priorityÂáΩÊï∞ËøõË°å‰øÆÊîπÔºåËÆæÁΩÆbase_priorityÂπ∂Âà§Êñ≠ÊòØÊòØÂê¶Êª°Ë∂≥ÈáçÊñ∞Ë∞ÉÂ∫¶ÁöÑÊù°‰ª∂ÔºàÊ≤°ÊúâÈîÅÁ∫¶ÊùüÊàñÂΩìÂâç‰ºòÂÖàÁ∫ßÂèëÁîüÊîπÂèòÔºâÔºå‰∏ãÈù¢ÁªôÂá∫‰øÆÊîπÂêéÁöÑ‰ª£Á†ÅÔºö ‰πãÂêéÊàë‰ª¨ÂÆö‰πâ‰∏Ä‰∏™thread_update_priorityÂáΩÊï∞Êù•Êõ¥Êñ∞Á∫øÁ®ãÁöÑÂΩìÂâç‰ºòÂÖàÁ∫ßÔºàÊàë‰ª¨ÁõÆÂâçÂè™ËÆ§‰∏∫Á∫øÁ®ãÁöÑÂΩìÂâç‰ºòÂÖàÁ∫ßÂè™‰ºöÂú®ÊçêËµ†‰ºòÂÖàÁ∫ßÁöÑÊù°‰ª∂‰∏ãÂèëÁîüÊîπÂèòÔºâÔºåÊ≠§ÂáΩÊï∞ÁöÑÂäüËÉΩ‰πüËæÉ‰∏∫ÁÆÄÂçïÔºöÂ∞ÜÁ∫øÁ®ãÁöÑbase_priorityÂíåÂÖ∂ÊâÄÊúâÈîÅÁöÑÊúÄÂ§ß‰ºòÂÖàÁ∫ßËøõË°åÊØîËæÉÔºåÂ∞ÜÂΩìÂâç‰ºòÂÖàÁ∫ßËÆæÁΩÆ‰∏∫ÂÖ∂‰∏≠ÁöÑÊúÄÂ§ßÂÄº„ÄÇÂ¶ÇÊ≠§ÂÆûÁé∞ÁöÑ‰ºòÂÖàÁ∫ßÊçêËµ†ÈÄÇÁî®‰∫éÂ§ö‰∏™Á∫øÁ®ãÂØπÂçï‰∏™Á∫øÁ®ãÁöÑ‰ºòÂÖàÁ∫ßÊçêËµ†ÔºåËÄåËøôÈáåÊàë‰ª¨ÂîØ‰∏ÄÁöÑÈöæÁÇπÂ∞±ÊòØÂ¶Ç‰ΩïËé∑ÂèñÂÖ∂ÊâÄÊúâÈîÅÁöÑÊúÄÂ§ß‰ºòÂÖàÁ∫ßÁöÑÊúÄÂ§ßÂÄºÔºå‰ΩÜÁ®çÂä†ÂàÜÊûêÊàë‰ª¨‰πüËÉΩ‰æùÁÖß‰πãÂâçÁöÑÊñπÊ≥ïÁÆÄÂçïÂÆûÁé∞ÔºöÂ∞ÜlocksÔºàÁ∫øÁ®ãÁöÑÈîÅÈòüÂàóÔºâÁª¥Êä§Êàê‰∏Ä‰∏™‰ºòÂÖàÁ∫ßÊúâÂ∫èÈòüÂàóÂÜçÂèñÂá∫Á¨¨‰∏Ä‰∏™ÊàêÂëòÁöÑ‰ºòÂÖàÁ∫ßÂç≥ÂèØÔºåÁª¥Êä§ÁöÑÊñπÊ≥ïÂíåÂ∞±Áª™ÈòüÂàóÁ®çÊúâ‰∏çÂêåÔºå‰ΩøÁî®‰∫ÜÂâçÊñáÊèêÂà∞ÁöÑlist_sortÊñπÂºèÔºàÊ≠§ÈòüÂàó‰ºòÂÖàÁ∫ßÊîπÂèòÁöÑÊÉÖÂÜµËæÉ‰∏∫Â§çÊùÇÔºåÁî®ÊèíÂÖ•ÁöÑÊñπÂºèÂÆπÊòìÂá∫Áé∞ÈóÆÈ¢òÔºâÔºå‰∏ãÈù¢‰∏ÄÂπ∂ÁªôÂá∫ÊéíÂ∫èÂáΩÊï∞Âíå‰ºòÂÖàÁ∫ßÊõ¥Êñ∞ÂáΩÊï∞ÁöÑ‰ª£Á†ÅÔºö Êã•ÊúâÈîÅÁöÑÁ∫øÁ®ã‰∏ç‰∏ÄÂÆöÊòØÂΩìÂâçÊ≠£Âú®Âç†Áî®CPUÁöÑÁ∫øÁ®ãÔºåÂõ†Ê≠§Êàë‰ª¨ËøòÈúÄËÄÉËôë‰∏ÄÁßçÊÉÖÂÜµÔºöÊ≠§Á∫øÁ®ãÊ≠£Â§Ñ‰∫é‰ºòÂÖàÈòüÂàó‰πã‰∏≠ÔºåÂÆåÊàê‰∫ÜÊõ¥Êñ∞‰πãÂêéÊàë‰ª¨ÂøÖÈ°ªÈáçÊñ∞ÂØπÂ∞±Áª™ÈòüÂàóËøõË°åÁª¥Êä§„ÄÇËá≥Ê≠§Êàë‰ª¨ÁöÑÊçêËµ†ÂáΩÊï∞ÁöÑÈÄªËæëÂ∞±ÂÆåÂÖ®ËÆæËÆ°ÂÆåÊàê ‰∫ÜÔºå‰∏ãÈù¢ÁªôÂá∫ÂÖ∂ÂÆåÊï¥‰ª£Á†ÅÔºö Ëá≥Ê≠§Êàë‰ª¨ÈÄÄÂõûlock_acquireÂáΩÊï∞ÔºåËøôÈáåÊàë‰ª¨ËøòÈúÄÊ≥®ÊÑèÁöÑÊòØ‰ºòÂÖàÁ∫ßÁöÑÊçêËµ†ÊòØ‰∏Ä‰∏™ÈÄíÂΩíÁöÑÈóÆÈ¢òÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÂÖ∂ÂÖ≥ËÅîÁöÑÊØè‰∏ÄÂ±ÇÈîÅÁöÑÊã•ÊúâÁ∫øÁ®ãË∞ÉÊï¥‰∏∫‰∏çÊØîÊ≠§Á∫øÁ®ã‰ΩéÁöÑ‰ºòÂÖàÁ∫ßÔºåËøôÈáåÊàë‰ª¨‰ºöÁî®‰∏Ä‰∏™whileÁªìÊûÑÂä†‰ª•ÂÆûÁé∞„ÄÇËß£ÂÜ≥‰∫Ü‰ºòÂÖàÁ∫ßÊçêËµ†ÁöÑÈóÆÈ¢òÔºåÊàë‰ª¨ÂèØ‰ª•ÂºÄÂßãËøõË°å‰ø°Âè∑ÈáèÁöÑPÊìç‰ΩúÔºåËøô‰πü‰∏çÁî®Â§™Â§öËµòËø∞ÔºåÊàë‰ª¨Âè™ÈúÄÂÜçÂéüÊúâÂü∫Á°Ä‰∏äÂ∞Ü‰ø°Âè∑ÈáèÁöÑÈòüÂàó‰πüÁª¥Êä§Êàê‰ºòÂÖàÁ∫ßÊúâÂ∫èÈòüÂàóÔºåÂÆûÁé∞ÊñπÂºèÂíåÂ∞±Áª™ÈòüÂàó‰∏ÄËá¥„ÄÇ Ëé∑ÂèñÈîÅÁöÑÊúÄÂêé‰∏ÄÊ≠•Â∞±ÊòØÂ∞ÜÊ≠§Á∫øÁ®ãÂèò‰∏∫ÈîÅÁöÑÊã•ÊúâËÄÖÔºå‰ΩÜËøô‰∏ÄËøáÁ®ã‰πüÂπ∂ËÉΩÊ≤øÁî®ÂΩìÂâçÁöÑÊñπÂºèÔºåÂõ†‰∏∫Ëøô‰ºöÊ∂âÂèäÂà∞ÈîÅÁöÑÊúÄÂ§ß‰ºòÂÖàÁ∫ßÁöÑÊîπÂèòÔºöÂΩì‰∏Ä‰∏™Á∫øÁ®ãÊã•Êúâ‰∏Ä‰∏™ÈîÅÊó∂ÔºåÂÖ∂‰ºòÂÖàÁ∫ß‰∏ÄÂÆö‰∏∫Ê≠§ÈîÅÁöÑÊúÄÂ§ß‰ºòÂÖàÁ∫ßÔºàÂåÖÊã¨‰ºòÂÖàÁ∫ßÊçêËµ†ÁöÑÊÉÖÂÜµÔºâ„ÄÇÊé•ÁùÄÊàë‰ª¨ËøòÈúÄË¶ÅÊääËØ•ÈîÅÊèíÂÖ•Ëá≥Á∫øÁ®ãÁöÑÈîÅÈòüÂàó‰∏≠ÔºåÂπ∂‰øÆÊîπÈîÅÁöÑholderÊàêÂëò‰∏∫ÂΩìÂâçÁ∫øÁ®ã„ÄÇÂü∫‰∫é‰ª•‰∏äÈÄªËæëÁºñÂÜô‰∫ÜÂáΩÊï∞thread_hold_the_lock„ÄÇËá≥Ê≠§lock_acquireÁöÑÁºñÂÜôÈöè‰πãÂÆåÊàêÔºå‰ª•‰∏ã‰∏∫‰∏§‰∏™ÂáΩÊï∞ÁöÑÊ∫êÁ†ÅÔºö ËøôÈáåÊàë‰ª¨ÂÆåÊàê‰∫ÜËé∑ÂèñÈîÅÁöÑÂÖ®ÈÉ®ÈÄªËæëÔºåÊé•ÁùÄÂè™Ë¶ÅË°•ÂÖ®ÈáäÊîæÈîÅÁöÑÈÄªËæëÂç≥ÂèØ„ÄÇÁõ∏ËæÉ‰∫élock_acquireÔºålock_releaseÁöÑÈÄªËæëÊòæÂæóÊõ¥ÁÆÄÂçï‰∏Ä‰∫õÔºåËøôÈáåÊàë‰ª¨Âè™ÈúÄÂÅö‰∏â‰ª∂‰∫ãÔºö Â∞ÜÂØπÂ∫îÈîÅ‰ªéÁ∫øÁ®ãÁöÑÈîÅÈòüÂàó‰∏≠Ê∏ÖÈô§ÔºàÁ∫øÁ®ãËÑ±Á¶ªÈîÅÔºâ Â∞ÜÈîÅËÆæÁΩÆ‰∏∫‰∏çË¢´‰ªª‰ΩïÁ∫øÁ®ãÂç†Áî®ÔºàÈîÅËÑ±Á¶ªÁ∫øÁ®ãÔºâ ËøõË°å‰ø°Âè∑ÈáèÁöÑVÊìç‰Ωú Ëøô‰∏âÊ≠•ÈÉΩËæÉ‰∏∫ÁÆÄÂçïÔºåÁ¨¨‰∏ÄÊ≠•ËøôÈáåÁºñÂÜô‰∫Ü‰∏Ä‰∏™`thread_remove_lockÂáΩÊï∞Êù•ÂÆûÁé∞Ôºå‰∏ªË¶ÅÂäüËÉΩ‰πüÂæàÂÆπÊòìÊÉ≥Âà∞ÔºöÂ∞ÜËØ•ÊâÄ‰ªéÂÖ∂ÈîÅÈòüÂàó‰∏≠ÁßªÈô§ÔºåÊõ¥Êñ∞Á∫øÁ®ãÁöÑ‰ºòÂÖàÁ∫ßÔºàËã•Â§Ñ‰∫éË¢´ÊçêËµ†ÁöÑÁä∂ÊÄÅÔºåËøòÂõûÊ≠§ÈîÅÊçêËµ†ÁöÑ‰ºòÂÖàÁ∫ßÔºâÔºåÂÆûÁé∞‰ª£Á†ÅÂ¶Ç‰∏ãÔºö Á¨¨‰∫åÊ≠•Â∞±Êõ¥‰∏∫ÁÆÄÂçïÔºåÂè™ÈúÄÂ∞ÜlockÁöÑholderÊàêÂëòËÆæÁΩÆ‰∏∫NULLÂç≥ÂèØ„ÄÇ ÂØπ‰∫éÁ¨¨‰∏âÊ≠•ÔºåÊàë‰ª¨ÂàôË¶ÅÂØπÂéüÂßãÁöÑsema_upÂáΩÊï∞ËøõË°å‰øÆÊîπÔºåÂÖ∂‰∏ésema_downÂáΩÊï∞ÁöÑÂîØ‰∏Ä‰∏çÂêåÁÇπÂú®‰∫éÂú®ÂØπ‰ø°Âè∑ÈáèÂ∫èÂàó‰∏≠ÁöÑÊúÄÈ´ò‰ºòÂÖàÁ∫ßÁ∫øÁ®ãËøõË°å‰∫ÜunblockÊìç‰ΩúÂπ∂ÊîπÂèò‰ø°Âè∑ÈáèÂÄº‰πãÂêéÈúÄË¶ÅÈ©¨‰∏ä‰ΩøÁî®thread_yieldÂáΩÊï∞Êù•‰øùËØÅÊä¢Âç†ÂºèË∞ÉÂ∫¶„ÄÇ‰∏ãÈù¢ÁªôÂá∫sema_upÂíålock_releaseÂáΩÊï∞ÁöÑÊ∫ê‰ª£Á†ÅÔºö ‰ª•‰∏äÂ∞±ÂÆåÊàê‰∫Ümission2ÁöÑÂÖ®ÈÉ®‰ª£Á†ÅÁºñÂÜôÔºå‰∏ãÈù¢ÂèØ‰ª•ÂºÄÂßãÂØπÂÖ∂ËøõË°åÊµãËØïÔºö ÂÆûÈ™åÁªìÊûúÊàë‰ª¨Âà∞/src/threadÁõÆÂΩï‰∏ãÊâßË°åmake checkÔºåÂèØ‰ª•ËøõË°åÊµãËØï„ÄÇ Ëá≥Ê≠§ÔºåMISSION_2 PRIOTITY SCHEDULINGÁºñÂÜôÂÆåÊØïÔºåÊâßË°åÊµãËØïÊúâÂ¶Ç‰∏ãÁªìÊûúÔºö Mission 3 ADVANCED SCHEDULERÂÆûÈ™åËØ¥ÊòéÂÆûÁé∞Á±ª‰ºº‰∫éBSDË∞ÉÂ∫¶Á®ãÂ∫èÁöÑÂ§öÁ∫ßÂèçÈ¶àÈòüÂàóË∞ÉÂ∫¶Á®ãÂ∫èÔºå‰ª•ÂáèÂ∞ëÂú®Á≥ªÁªü‰∏äËøêË°å‰Ωú‰∏öÁöÑÂπ≥ÂùáÂìçÂ∫îÊó∂Èó¥„ÄÇ ‰∏é‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶Ë∞ÉÂ∫¶Á®ãÂ∫è‰∏ÄÊ†∑ÔºåÈ´òÁ∫ßË∞ÉÂ∫¶Á®ãÂ∫èÂêåÊ†∑Âü∫‰∫éËøõÁ®ãÁöÑ‰ºòÂÖàÁ∫ßÊù•Ë∞ÉÂ∫¶ËøõÁ®ã„ÄÇ‰ΩÜÊòØÈ´òÁ∫ßË∞ÉÂ∫¶Á®ãÂ∫è‰∏ç‰ºöÊâßË°å‰ºòÂÖàÁ∫ßÊçêËµ†„ÄÇÂøÖÈ°ªÁºñÂÜôÂøÖË¶ÅÁöÑ‰ª£Á†ÅÔºå‰ª•ÂÖÅËÆ∏Âú®PintosÂêØÂä®Êó∂ÈÄâÊã©Ë∞ÉÂ∫¶ÁÆóÊ≥ïÁ≠ñÁï•„ÄÇ ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶Á®ãÂ∫èÂøÖÈ°ªÂ§Ñ‰∫éÊ¥ªÂä®Áä∂ÊÄÅÔºå‰ΩÜÂøÖÈ°ªËÉΩÂ§ü‰ΩøÁî®-mlfqsÂÜÖÊ†∏ÈÄâÈ°πÈÄâÊã©4.4BSDË∞ÉÂ∫¶Á®ãÂ∫è„ÄÇ Âú®main()ÂáΩÊï∞‰∏≠parse_options()Ëß£ÊûêÈÄâÈ°πÊó∂Ôºå‰º†ÈÄíÊ≠§ÈÄâÈ°π‰ºöÂ∞Üthreads / thread.h‰∏≠Â£∞ÊòéÁöÑthread_mlfqsËÆæÁΩÆ‰∏∫true„ÄÇ ÂêØÁî®4.4BSDË∞ÉÂ∫¶Á®ãÂ∫èÂêéÔºåÁ∫øÁ®ã‰∏çÂÜçÁõ¥Êé•ÊéßÂà∂Ëá™Â∑±ÁöÑ‰ºòÂÖàÁ∫ß„ÄÇ Â∫îÂøΩÁï•thread_create()ÁöÑ‰ºòÂÖàÁ∫ßÂèÇÊï∞Ôºå‰ª•ÂèäÂØπthread_set_priority()ÁöÑ‰ªª‰ΩïË∞ÉÁî®ÔºåÂπ∂‰∏îthread_get_priority()Â∫îËøîÂõûË∞ÉÂ∫¶Á®ãÂ∫èËÆæÁΩÆÁöÑÁ∫øÁ®ãÁöÑÂΩìÂâç‰ºòÂÖàÁ∫ß„ÄÇ È´òÁ∫ßË∞ÉÂ∫¶Á®ãÂ∫è‰∏ç‰ºöÂú®‰ª•ÂêéÁöÑ‰ªª‰ΩïÈ°πÁõÆ‰∏≠‰ΩøÁî®„ÄÇ ÈùûÂ∏∏ÈáçË¶ÅÔºöÂèØ‰ª•Âú®ÈôÑÂΩïB‰∏≠ÊâæÂà∞ÂÖ≥‰∫éBSDË∞ÉÂ∫¶Á®ãÂ∫èÁöÑËØ¶ÁªÜËØ¥ÊòéÔºåËøôÊòØÊàë‰ª¨ÁºñÁ®ãÁöÑÂîØ‰∏ÄÊåáÂØºÂü∫Á°Ä„ÄÇ ÂÆûÈ™åÊåáÂØºÈÄöÁî®Ë∞ÉÂ∫¶Á®ãÂ∫èÁöÑÁõÆÊ†áÊòØÂπ≥Ë°°Á∫øÁ®ãÁöÑ‰∏çÂêåË∞ÉÂ∫¶ÈúÄÊ±Ç„ÄÇ ÊâßË°åÂ§ßÈáèI / OÁöÑÁ∫øÁ®ãÈúÄË¶ÅÂø´ÈÄüÂìçÂ∫îÊó∂Èó¥‰ª•‰øùÊåÅËæìÂÖ•ÂíåËæìÂá∫ËÆæÂ§áÂøôÔºå‰ΩÜÈúÄË¶ÅÂæàÂ∞ëÁöÑCPUÊó∂Èó¥„ÄÇ Âè¶‰∏ÄÊñπÈù¢ÔºåÁªëÂÆöËÆ°ÁÆóÁöÑÁ∫øÁ®ãÈúÄË¶ÅËä±Ë¥πÂ§ßÈáèCPUÊó∂Èó¥Êù•ÂÆåÊàêÂÖ∂Â∑•‰ΩúÔºå‰ΩÜ‰∏çÈúÄË¶ÅÂø´ÈÄüÂìçÂ∫îÊó∂Èó¥„ÄÇ ÂÖ∂‰ªñÁ∫øÁ®ã‰ªã‰∫é‰∏§ËÄÖ‰πãÈó¥ÔºåI / OÂë®ÊúüË¢´ËÆ°ÁÆóÂë®ÊúüÊâìÊñ≠ÔºåÂõ†Ê≠§ÈúÄÊ±ÇÈöèÊó∂Èó¥ÂèòÂåñ„ÄÇ Á≤æÂøÉËÆæËÆ°ÁöÑË∞ÉÂ∫¶Á®ãÂ∫èÈÄöÂ∏∏ÂèØ‰ª•ÂêåÊó∂Êª°Ë∂≥ÂÖ∑ÊúâÊâÄÊúâËøô‰∫õË¶ÅÊ±ÇÁöÑÁ∫øÁ®ã„ÄÇ ÂØπ‰∫éÈ°πÁõÆ1ÔºåÂøÖÈ°ªÂÆûÁé∞ÈôÑÂΩïB‰∏≠ÊèèËø∞ÁöÑË∞ÉÂ∫¶Á®ãÂ∫è„ÄÇ Ë∞ÉÂ∫¶Á®ãÂ∫èÁ±ª‰ºº‰∫é[McKusick]‰∏≠ÊèèËø∞ÁöÑË∞ÉÂ∫¶Á®ãÂ∫èÔºåÂÆÉÊòØÂ§öÁ∫ßÂèçÈ¶àÈòüÂàóË∞ÉÂ∫¶Á®ãÂ∫èÁöÑ‰∏Ä‰∏™Á§∫‰æã„ÄÇ ËøôÁßçÁ±ªÂûãÁöÑË∞ÉÂ∫¶Á®ãÂ∫èÁª¥Êä§Âá†‰∏™ÂèØÁ´ãÂç≥ËøêË°åÁöÑÁ∫øÁ®ãÈòüÂàóÔºåÂÖ∂‰∏≠ÊØè‰∏™ÈòüÂàóÂåÖÂê´ÂÖ∑Êúâ‰∏çÂêå‰ºòÂÖàÁ∫ßÁöÑÁ∫øÁ®ã„ÄÇ Âú®‰ªª‰ΩïÁªôÂÆöÊó∂Èó¥ÔºåË∞ÉÂ∫¶Á®ãÂ∫è‰ªéÊúÄÈ´ò‰ºòÂÖàÁ∫ßÁöÑÈùûÁ©∫ÈòüÂàó‰∏≠ÈÄâÊã©‰∏Ä‰∏™Á∫øÁ®ã„ÄÇ Â¶ÇÊûúÊúÄÈ´ò‰ºòÂÖàÁ∫ßÈòüÂàóÂåÖÂê´Â§ö‰∏™Á∫øÁ®ãÔºåÂàôÂÆÉ‰ª¨‰ª•‚ÄúÂæ™ÁéØ‚ÄùÈ°∫Â∫èËøêË°å„ÄÇ Ë∞ÉÂ∫¶Á®ãÂ∫èÁöÑÂ§ö‰∏™ÊñπÈù¢ÈúÄË¶ÅÂú®‰∏ÄÂÆöÊï∞ÈáèÁöÑËÆ°Êó∂Âô®Êª¥Á≠î‰πãÂêéÊõ¥Êñ∞Êï∞ÊçÆ„ÄÇ Âú®ÊØèÁßçÊÉÖÂÜµ‰∏ãÔºåËøô‰∫õÊõ¥Êñ∞Â∫îËØ•Âú®‰ªª‰ΩïÊôÆÈÄöÂÜÖÊ†∏Á∫øÁ®ãÊúâÊú∫‰ºöËøêË°å‰πãÂâçÂèëÁîüÔºåËøôÊ†∑ÂÜÖÊ†∏Á∫øÁ®ãÂ∞±‰∏çÂèØËÉΩÁúãÂà∞Êñ∞Â¢ûÁöÑtimer_ticks()ÂÄºËÄåÊòØÊóßÁöÑË∞ÉÂ∫¶Á®ãÂ∫èÊï∞ÊçÆÂÄº„ÄÇ 4.4BSDË∞ÉÂ∫¶Á®ãÂ∫è‰∏çÂåÖÊã¨‰ºòÂÖàÊçêËµ†„ÄÇ NicenessÁ∫øÁ®ã‰ºòÂÖàÁ∫ßÁî±Ë∞ÉÂ∫¶Á®ãÂ∫è‰ΩøÁî®‰∏ãÈù¢ÁªôÂá∫ÁöÑÂÖ¨ÂºèÂä®ÊÄÅÁ°ÆÂÆö„ÄÇ ‰ΩÜÊòØÔºåÊØè‰∏™Á∫øÁ®ãËøòÊúâ‰∏Ä‰∏™Êï¥Êï∞niceÂÄºÔºåÁî®‰∫éÁ°ÆÂÆöÁ∫øÁ®ãÂØπÂÖ∂‰ªñÁ∫øÁ®ãÁöÑ‚ÄúÂ•Ω‚ÄùÁ®ãÂ∫¶„ÄÇniceÂÄº‰∏∫0‰∏ç‰ºöÂΩ±ÂìçÁ∫øÁ®ã‰ºòÂÖàÁ∫ß„ÄÇ niceÂÄº‰ªé1Ëá≥20Ôºå‰ºöÈôç‰ΩéÁ∫øÁ®ãÁöÑ‰ºòÂÖàÁ∫ßÔºåÂπ∂ÂØºËá¥ÂÆÉÊîæÂºÉ‰∏Ä‰∫õÂéüÊú¨‰ºöÊî∂Âà∞ÁöÑCPUÊó∂Èó¥„ÄÇ Âè¶‰∏ÄÁßçÊÉÖÂÜµÔºåniceÂÄº‰ªé-20Âà∞-1ÔºåÂæÄÂæÄ‰ºö‰ªéÂÖ∂‰ªñÁ∫øÁ®ã‰∏≠Êä¢Âç†CPUÊó∂Èó¥„ÄÇ ÂàùÂßãÁ∫øÁ®ãniceÂÄº‰∏∫0„ÄÇ ÂÖ∂‰ªñÁ∫øÁ®ãÂàùÂßãÂÄº‰ªéÂÖ∂Áà∂Á∫øÁ®ãÁªßÊâøniceÂÄº„ÄÇ ÂøÖÈ°ªÂÆûÁé∞‰∏ãÈù¢ÊèèËø∞ÁöÑÂäüËÉΩÔºå‰æõÊµãËØïÁ®ãÂ∫è‰ΩøÁî®„ÄÇ Âú®threads / thread.c‰∏≠‰∏∫ÂÆÉ‰ª¨Êèê‰æõ‰∫ÜÊ°ÜÊû∂ÂÆö‰πâ„ÄÇ 12345// ËøîÂõûÂΩìÂâçËøõÁ®ãÁöÑniceÂÄºint thread_get_nice (void);// ËÆæÁΩÆÂΩìÂâçËøõÁ®ãÁöÑniceÂÄº‰∏∫new_niceÔºåÂπ∂ÈáçÊñ∞ËÆ°ÁÆóËøõÁ®ãÁöÑ‰ºòÂÖàÁ∫ßÔºåËã•Ê≠£Âú®ËøêË°åÁöÑËøõÁ®ã‰∏çÂÜçÊòØÊúÄÈ´ò‰ºòÂÖàÁ∫ßÔºåÂàôÈòªÂ°ûvoid thread_set_nice (int new_nice); ËÆ°ÁÆó PriorityÊàë‰ª¨ÁöÑË∞ÉÂ∫¶Á®ãÂ∫èÊúâ64‰∏™‰ºòÂÖàÁ∫ßÔºåÂõ†Ê≠§Êúâ64‰∏™Â∞±Áª™ÈòüÂàóÔºåÁºñÂè∑‰∏∫0ÔºàPRI_MINÔºâÂà∞63ÔºàPRI_MAXÔºâ„ÄÇ ËæÉ‰ΩéÁöÑÊï∞Â≠óÂØπÂ∫îËæÉ‰ΩéÁöÑ‰ºòÂÖàÁ∫ß„ÄÇÂõ†Ê≠§‰ºòÂÖàÁ∫ß0ÊòØÊúÄ‰Ωé‰ºòÂÖàÁ∫ßÔºå‰ºòÂÖàÁ∫ß63ÊòØÊúÄÈ´ò‰ºòÂÖàÁ∫ß„ÄÇ Á∫øÁ®ã‰ºòÂÖàÁ∫ßÊúÄÂàùÂú®Á∫øÁ®ãÂàùÂßãÂåñÊó∂ËÆ°ÁÆó„ÄÇ ÂØπ‰∫éÊØè‰∏™Á∫øÁ®ãÔºåÊØèÂõõ‰∏™Êó∂ÈíüÂë®Êúü‰πü‰ºöÈáçÊñ∞ËÆ°ÁÆó‰∏ÄÊ¨°„ÄÇ Âú®‰ªª‰Ωï‰∏ÄÁßçÊÉÖÂÜµ‰∏ãÔºåÈÉΩÁî±ÂÖ¨ÂºèÁ°ÆÂÆö priority=PRI\_MAX-(recent\_cpu/4)-(nice*2)recent_cpuÊòØÁ∫øÁ®ãÊúÄËøë‰ΩøÁî®ÁöÑCPUÊó∂Èó¥ÁöÑ‰º∞ËÆ°ÂÄºÔºàËßÅ‰∏ãÊñáÔºâÔºåËÄå‰∏îÂÖ¨Âºè‰∏≠ÁöÑniceÂÄº‰∏∫ÂΩìÂâçËøõÁ®ãÁöÑniceÂÄº„ÄÇ ÁªìÊûúÂ∫îÂêë‰∏ãËàçÂÖ•Âà∞ÊúÄÊé•ËøëÁöÑÊï¥Êï∞ÔºàÊà™Êñ≠Ôºâ„ÄÇ recent_cpuÂíåniceÁöÑÁ≥ªÊï∞1/4Âíå2ÔºåÂàÜÂà´Ë¢´ÂèëÁé∞Âú®ÂÆûË∑µ‰∏≠ÂæàÂ•ΩÂú∞Â∑•‰Ωú‰ΩÜÁº∫‰πèÊõ¥Ê∑±ÁöÑÂê´‰πâ„ÄÇ ËÆ°ÁÆóÂæóÂà∞ÁöÑ‰ºòÂÖàÁ∫ßÂßãÁªà‰∏∫‰Ωç‰∫éPRI_MINÂà∞PRI_MAXÁöÑÊúâÊïàËåÉÂõ¥ÂÜÖ„ÄÇ Ê≠§ÂÖ¨Âºè‰∏∫Á∫øÁ®ãÈáçÊñ∞ËÆ°ÁÆó‰ºòÂÖàÁ∫ßÊèê‰æõ‰∫Ü‰æùÊçÆ„ÄÇ ËøôÊòØÈò≤Ê≠¢È••È•øÁöÑÂÖ≥ÈîÆÔºöÊúÄËøëÊ≤°ÊúâÊî∂Âà∞‰ªª‰ΩïCPUÊó∂Èó¥ÁöÑÁ∫øÁ®ãÁöÑrecent_cpuÂÄº‰∏∫0ÔºåÈô§ÈùûÊúâ‰∏Ä‰∏™ÂæàÈ´òÁöÑniceÂÄºÔºåÂê¶ÂàôÂÆÉ‰ºöÂæàÂø´Â∞±‰ºöÊî∂Âà∞CPUËøêË°åÊó∂Èó¥„ÄÇ ËÆ°ÁÆó recent_cpuÊàë‰ª¨Â∏åÊúõrecent_cpuÂèØ‰ª•Ë°®ÂæÅÊØè‰∏™ËøõÁ®ã‚ÄúÊúÄËøë‚ÄùÊî∂Âà∞Â§öÂ∞ëCPUËøêË°åÊó∂Èó¥„ÄÇÊ≠§Â§ñÔºå‰Ωú‰∏∫‰∏ÄÁßçÊîπËøõÔºåÊúÄÊñ∞Êî∂Âà∞ÁöÑCPUÊó∂Èó¥Â∫îËØ•ÊØîÂÖ∂‰πãÂâçÁöÑCPUÊó∂Èó¥ÊùÉÈáçÊõ¥Â§ß„ÄÇ ‰∏ÄÁßçÊñπÊ≥ïÊòØ‰ΩøÁî®n‰∏™ÂÖÉÁ¥†ÁöÑÊï∞ÁªÑÊù•Ë∑üË∏™Âú®ÊúÄÂêénÁßíÁöÑÊØè‰∏Ä‰∏™‰∏≠Êé•Êî∂ÁöÑCPUÊó∂Èó¥„ÄÇ ÁÑ∂ËÄåÔºåËøôÁßçÊñπÊ≥ïÊØèÁ∫øÁ®ãÈúÄË¶ÅO(n)Á©∫Èó¥ÔºåÂπ∂‰∏îÊØèÊ¨°ËÆ°ÁÆóÊñ∞Âä†ÊùÉÂπ≥ÂùáÂÄºÈúÄË¶ÅO(n)Êó∂Èó¥„ÄÇ Áõ∏ÂèçÔºåÊàë‰ª¨‰ΩøÁî®ÊåáÊï∞Âä†ÊùÉÁßªÂä®Âπ≥ÂùáÁ∫øÔºåÂÆÉÈááÁî®ËøôÁßç‰∏ÄËà¨ÂΩ¢ÂºèÔºö x(0)=f(0),\\x(t)=ax(t-1)+(1-a)f(t),\\a=k/(k+1)ÂÖ∂‰∏≠x(t)ÊòØÊï¥Êï∞Êó∂Èó¥t‚â•0ÁöÑÁßªÂä®Âπ≥ÂùáÂÄºÔºåf(t)ÊòØË¢´Âπ≥ÂùáÁöÑÂáΩÊï∞Ôºåk &gt; 0ÊéßÂà∂Ë°∞ÂáèÈÄüÁéá„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÂá†‰∏™Ê≠•È™§Ëø≠‰ª£ÂÖ¨ÂºèÔºö x(1)=f(1),\\x(2)=af(1)+f(2),\\.\\.\\.\\x(5)=a^4f(1)+a^3f(2)+a^2f(3)+af(2)+f(5)f(t)ÁöÑÂÄºÂú®Êó∂Èó¥ t ÁöÑÊùÉÈáç‰∏∫1ÔºåÂú®Êó∂Èó¥ t + 1 ÁöÑÊùÉÈáç‰∏∫ aÔºåÂú®Êó∂Èó¥ t + 2 ÁöÑÊùÉÈáç‰∏∫ 2ÔºåÁ≠âÁ≠â„ÄÇÊàë‰ª¨ËøòÂèØ‰ª•Â∞Üx(t)‰∏é k Áõ∏ÂÖ≥ËÅîÔºöf(t)Âú®Êó∂Èó¥ t + k ÂÖ∑ÊúâÂ§ßÁ∫¶ 1 / e ÁöÑÊùÉÈáçÔºåÂú®Êó∂Èó¥ t + 2k ÂÖ∑ÊúâÂ§ßÁ∫¶1 / e2 Á≠âÁ≠â„ÄÇ‰ªéÁõ∏ÂèçÊñπÂêëÔºåf(t)Âú®Êó∂Èó¥ t + loga w Ë°∞ÂáèÂà∞ f(t)*w„ÄÇ Âú®ÂàõÂª∫ÁöÑÁ¨¨‰∏Ä‰∏™Á∫øÁ®ã‰∏≠Ôºårecent_cpuÁöÑÂàùÂßãÂÄº‰∏∫0ÔºåÊàñËÄÖÂú®ÂÖ∂‰ªñÊñ∞Á∫øÁ®ã‰∏≠‰∏∫ÂÖ∂Áà∂ËøõÁ®ãÂÄº„ÄÇ ÊØèÊ¨°ÂèëÁîüÂÆöÊó∂Âô®‰∏≠Êñ≠Êó∂ÔºåÈô§ÈùûÁ©∫Èó≤Á∫øÁ®ãÊ≠£Âú®ËøêË°åÔºåÂê¶Âàôrecent_cpu‰ªÖÂØπÊ≠£Âú®ËøêË°åÁöÑÁ∫øÁ®ãÈÄíÂ¢û1„ÄÇ Ê≠§Â§ñÔºåÊØèÁßí‰∏ÄÊ¨°Ôºå‰ΩøÁî®‰ª•‰∏ãÂÖ¨Âºè‰∏∫ÊØè‰∏™Á∫øÁ®ãÔºàÊó†ËÆ∫ÊòØËøêË°åÔºåÂáÜÂ§áËøòÊòØÈòªÂ°ûÔºâÈáçÊñ∞ËÆ°ÁÆórecent_cpuÁöÑÂÄºÔºö recent\_cpu=(2*load\_avg)/(2*load\_avg+1)*recent\_cpu+niceÔºåÂÖ∂‰∏≠load avgÊòØÂáÜÂ§áËøêË°åÁöÑÁ∫øÁ®ãÊï∞ÁöÑÁßªÂä®Âπ≥ÂùáÂÄºÔºàËßÅ‰∏ãÊñáÔºâ„ÄÇ Â¶ÇÊûúload avg‰∏∫ 1 ÔºåË°®Á§∫Âçï‰∏™Á∫øÁ®ãÊ≠£Âú®Á´û‰∫âCPUÔºåÈÇ£‰πàrecent_cpuÁöÑÂΩìÂâçÂÄºÂú®log2 / 3 0.1 ‚âà 6ÁßíÂÜÖË°∞ÂáèÂà∞ÂéüÂÄºÁöÑ 0.1„ÄÇ Â¶ÇÊûúload_avg‰∏∫2ÔºåÂàôË°∞ÂáèÂà∞ÂéüÂÄºÁöÑ 0.1ÈúÄË¶Å log3 / 4 0.1 ‚âà 8Áßí„ÄÇ ÁªìÊûúÊòØrecent_cpu‰º∞ËÆ°‰∫ÜÁ∫øÁ®ã‚ÄúÊúÄËøë‚ÄùÊî∂Âà∞ÁöÑCPUÊó∂Èó¥ÈáèÔºåË°∞ÂáèÁéá‰∏éÁ´û‰∫âCPUÁöÑÁ∫øÁ®ãÊï∞ÊàêÂèçÊØî„ÄÇ Êüê‰∫õÊµãËØïÊâÄÂÅöÁöÑÂÅáËÆæË¶ÅÊ±ÇÂú®Á≥ªÁªüËÆ°Êï∞Âô®ÊØèËææÂà∞‰∏ÄÁßíÂÆåÂÖ®ÈáçÊñ∞ËÆ°ÁÆórecent_cpuÔºåÂç≥Êù°‰ª∂timer_ticks () % TIMER_FREQ == 0ÊàêÁ´ã„ÄÇ ÂØπ‰∫éÂÖ∑ÊúâË¥üniceÂÄºÁöÑÁ∫øÁ®ãÔºårecent_cpuÁöÑÂÄºÂèØËÉΩ‰∏∫Ë¥ü„ÄÇ ‰∏çË¶ÅÂ∞ÜË¥üÁöÑrecent_cpuËÆæÁΩÆ‰∏∫0„ÄÇ ÈúÄË¶ÅËÄÉËôëÊ≠§ÂÖ¨Âºè‰∏≠ÁöÑËÆ°ÁÆóÈ°∫Â∫è„ÄÇÂÖàËÆ°ÁÆórecent_cpuÁöÑÁ≥ªÊï∞ÔºåÁÑ∂ÂêéÂÜçÂÅö‰πòÊ≥ïÔºåÂê¶ÂàôÂèØËÉΩ‰ºö‰∫ßÁîüÊ∫¢Âá∫„ÄÇ ÂøÖÈ°ªÂÆûÁé∞Âú®threads/thread.c‰∏≠ÁöÑthread_get_recent_cpu()ÂáΩÊï∞„ÄÇ 12// ËøîÂõûÂΩìÂâçÁ∫øÁ®ãrecent_cpuÂÄºÁöÑ100ÂÄçÔºåÂõõËàç‰∫îÂÖ•Âà∞ÊúÄÊé•ËøëÁöÑÊï¥Êï∞int thread_get_recent_cpu (void); ËÆ°ÁÆó load_avgÊúÄÂêéÔºåload_avgÔºàÈÄöÂ∏∏Áß∞‰∏∫Á≥ªÁªüË¥üËΩΩÂπ≥ÂùáÂÄºÔºâ‰º∞ËÆ°Âú®ËøáÂéª‰∏ÄÂàÜÈíüÂÜÖÔºåÂú®ÂáÜÂ§áÈòüÂàó‰∏≠ÁöÑÂπ≥ÂùáÁ∫øÁ®ãÊï∞„ÄÇ ÂÉèrecent_cpu‰∏ÄÊ†∑ÔºåÂÆÉ‰πüÊòØÊåáÊï∞Âä†ÊùÉÁßªÂä®Âπ≥Âùá„ÄÇ ‰∏épriorityÂíårecent_cpu‰∏çÂêåÔºåload_avgÊòØÁ≥ªÁªüËåÉÂõ¥ÁöÑÔºåËÄå‰∏çÊòØÁâπÂÆö‰∫éÁ∫øÁ®ãÁöÑ„ÄÇ Âú®Á≥ªÁªüÂêØÂä®Êó∂ÔºåÂÆÉË¢´ÂàùÂßãÂåñ‰∏∫0„ÄÇÊ≠§ÂêéÊØèÁßí‰∏ÄÊ¨°ÔºåÊ†πÊçÆ‰ª•‰∏ãÂÖ¨ÂºèÊõ¥Êñ∞Ôºö load\_avg=(59/60)*load\_avg+(1/60)*ready\_threadsÔºåready_threadÊòØÂú®Êõ¥Êñ∞Êó∂ËøêË°åÊàñÂáÜsÂ§áËøêË°åÁöÑÁ∫øÁ®ãÊï∞Ôºà‰∏çÂåÖÊã¨Á©∫Èó≤Á∫øÁ®ãÔºâ„ÄÇ Êúâ‰∫õÊµãËØïÂÅáËÆæÂΩìËÆ°Êó∂Âô®ËææÂà∞1ÁßíÂÄçÊï∞Êó∂ÔºåÂç≥ÂΩìtimer_ticks()%TIMER_FREQ == 0Êó∂ÔºåÂøÖÈ°ªË¶ÅÈáçÊñ∞Êõ¥Êñ∞load_avgÔºåËÄå‰∏çÊòØÂú®ÂÖ∂ÂÆÉÊó∂Èó¥„ÄÇÂøÖÈ°ªÂÆûÁé∞‰Ωç‰∫éthreads/thread.c‰∏≠ÁöÑÂáΩÊï∞Ôºö 12// ËøîÂõûÂΩìÂâçÁ≥ªÁªü load_avg ÁöÑ100ÂÄçÔºåÂõõËàç‰∫îÂÖ•Âà∞ÊúÄÊé•ËøëÁöÑÊï¥Êï∞int thread_get_load_avg(void); ÊÄªÁªì‰ª•‰∏ãÂÖ¨ÂºèÊÄªÁªì‰∫ÜÂÆûÁé∞È´òÁ∫ßË∞ÉÂ∫¶Á®ãÂ∫èÊâÄÈúÄÁöÑËÆ°ÁÆó„ÄÇ ÂÆÉ‰ª¨‰∏çÊòØË∞ÉÂ∫¶Á®ãÂ∫èË¶ÅÊ±ÇÁöÑÂÆåÊï¥ÊèèËø∞„ÄÇ ÊØè‰∏™Á∫øÁ®ãÂú®-20Âíå20‰πãÈó¥ÂÖ∑ÊúâniceÂÄº„ÄÇ ÊØè‰∏™Á∫øÁ®ã‰πüÊúâ‰∏Ä‰∏™‰ºòÂÖàÁ∫ßÔºå‰ªã‰∫é0(PRI_MIN)Âà∞63(PRI_MAX)‰πãÈó¥ÔºåÊØèÂõõ‰∏™Êª¥Á≠î‰ΩøÁî®‰ª•‰∏ãÂÖ¨ÂºèÈáçÊñ∞ËÆ°ÁÆóÔºö priority=PRI\_MAX-(recent\_cpu/4)-(nice*2).recent_cpuÊµãÈáè‰∏Ä‰∏™Á∫øÁ®ã‚ÄúÊúÄËøë‚ÄùÊî∂Âà∞ÁöÑCPUÊó∂Èó¥Èáè„ÄÇÂú®ÊØè‰∏™CPUÊó∂Èíü‰∏≠ÔºåÊ≠£Âú®ËøêË°åÁöÑÁ∫øÁ®ãÁöÑrecent_cpuÂ¢ûÂä†1„ÄÇÊØèÁßí‰∏ÄÊ¨°ÔºåÊØè‰∏™Á∫øÁ®ãÁöÑrencent_cpu‰ª•ËøôÁßçÊñπÂºèÊõ¥Êñ∞Ôºö recent\_cpu=(2*load\_avg)/(2*load\_avg+1)*recent\_cpu+nice.load_avg‰º∞ËÆ°Âú®ËøáÂéª‰∏ÄÂàÜÈíüÂÜÖÂáÜÂ§áËøêË°åÁöÑÂπ≥ÂùáÁ∫øÁ®ãÊï∞„ÄÇ ÂÆÉÂú®ÂêØÂä®Êó∂ÂàùÂßãÂåñ‰∏∫0ÔºåÂπ∂ÊåâÊØèÁßíÈáçÊñ∞ËÆ°ÁÆó‰∏ÄÊ¨°ÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö load\_avg=(59/60)*load\_avg+(1/60)*ready\_threads.ready_threadsÊòØÂú®Êõ¥Êñ∞Êó∂ËøêË°åÊàñÂáÜÂ§áËøêË°åÁöÑÁ∫øÁ®ãÊï∞Ôºà‰∏çÂåÖÊã¨Á©∫Èó≤Á∫øÁ®ãÔºâ„ÄÇ ÂÆöÁÇπÂ∞èÊï∞ÂèäÂÖ∂ËÆ°ÁÆóÂú®‰∏äÈù¢ÁöÑÂÖ¨Âºè‰∏≠Ôºåpriority„ÄÅniceÂíåready_threadÊòØÊï¥Êï∞Ôºå‰ΩÜÊòØrecent_cpuÂíåload_avgÊòØÂÆûÊï∞„ÄÇ ‰ΩÜÊòØÔºåPintos‰∏çÊîØÊåÅÂÜÖÊ†∏‰∏≠ÁöÑÊµÆÁÇπËøêÁÆóÔºåÂõ†‰∏∫ÂÆÉ‰ºö‰ΩøÂÜÖÊ†∏ÂèòÂæóÂ§çÊùÇÂíåÂèòÊÖ¢„ÄÇ Âá∫‰∫éÂêåÊ†∑ÁöÑÂéüÂõ†ÔºåÁúüÊ≠£ÁöÑÂÜÖÊ†∏ÈÄöÂ∏∏ÂÖ∑ÊúâÁõ∏ÂêåÁöÑÈôêÂà∂„ÄÇ ËøôÊÑèÂë≥ÁùÄÂøÖÈ°ª‰ΩøÁî®Êï¥Êï∞Ê®°ÊãüÂÆûÊï∞ÁöÑËÆ°ÁÆó„ÄÇ Êú¨ËäÇ‰ªãÁªçÂü∫Á°ÄÁü•ËØÜ„ÄÇ ÂÖ∂Âü∫Êú¨ÊÄùÊÉ≥ÊòØÂ∞ÜÊï¥Êï∞ÁöÑÊúÄÂè≥ËæπÁöÑÂá†‰ΩçËßÜ‰∏∫Ë°®Á§∫ÂàÜÊï∞„ÄÇ‰æãÂ¶ÇÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂ∏¶Á¨¶Âè∑ÁöÑ32‰ΩçÊï¥Êï∞ÁöÑÊúÄ‰Ωé14‰ΩçÊåáÂÆö‰∏∫Â∞èÊï∞‰ΩçÔºåËøôÊ†∑Êï¥Êï∞x‰ª£Ë°®ÂÆûÊï∞ x/214 „ÄÇËøô‰∏™Âè´ÂÅö 17.14 ÂÆöÁÇπÊï∞ÔºåÊúÄÂ§ßËÉΩÂ§üË°®Á§∫ (231-1)/214 ÔºåËøë‰ºº 131071.999 „ÄÇ ÂÅáËÆæÊàë‰ª¨‰ΩøÁî® p.q ÁöÑÂÆöÁÇπÊï∞Ê†ºÂºèÔºåÂπ∂‰∏îËÆæ f=2q „ÄÇÊ†πÊçÆ‰∏äÈù¢ÁöÑÂÆö‰πâÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰πò‰ª• f Â∞ÜÊï¥Êï∞ÊàñÂÆûÊï∞ËΩ¨Êç¢‰∏∫ p.q Ê†ºÂºè„ÄÇ‰æãÂ¶ÇÔºåÂü∫‰∫é17.14 Ê†ºÂºèÁöÑÂÆöÁÇπÊï∞ËΩ¨Êç¢ 59/60 Ôºå(59/60)214 = 16110„ÄÇÂ∞ÜÂÆöÁÇπÊï∞ËΩ¨Êç¢‰∏∫Êï¥Êï∞ÂàôÈô§‰ª• f „ÄÇ C‰∏≠ÁöÑ‚Äú/‚ÄùËøêÁÆóÁ¨¶ÂêëÈõ∂ËàçÂÖ•Ôºå‰πüÂ∞±ÊòØËØ¥ÔºåÂÆÉÂ∞ÜÊ≠£Êï∞Âêë‰∏ãËàçÂÖ•ÔºåÂêëË¥üÊï∞Âêë‰∏äËàçÂÖ•„ÄÇË¶ÅËàçÂÖ•Âà∞ÊúÄËøëÔºåÂ∞Ü f / 2 ÂÖà‰∏éÊ≠£Êï∞Áõ∏Âä†ÂÜçÈô§ÔºåÊàñËÄÖÂÖàÂú®Ë¥üÊï∞‰∏≠ÂáèÂéª f / 2 ÂÜçÈô§„ÄÇ ‰∏ãË°®ÊÄªÁªì‰∫ÜÂ¶Ç‰ΩïÂú®C‰∏≠ÂÆûÁé∞ÂÆöÁÇπÁÆóÊúØËøêÁÆó„ÄÇÂú®Ë°®‰∏≠ÔºåxÂíåyÊòØÂÆöÁÇπÊï∞ÔºånÊòØÊï¥Êï∞ÔºåÂÆöÁÇπÊï∞ÊòØÂ∏¶Á¨¶Âè∑ÁöÑp.qÊ†ºÂºèÔºåÂÖ∂‰∏≠p + q = 31ÔºåÂíåfÊòØ1 &lt;&lt; qÔºö ÂÆûÈ™åËøáÁ®ãÊ†πÊçÆÂÆûÈ™åËØ¥ÊòéÔºåÊàë‰ª¨ÂèØ‰ª•Áü•ÈÅìboolÂèòÈáèthread_mlfqsÊåáÁ§∫ÊòØÂê¶ÂêØÁî®È´òÁ∫ßË∞ÉÂ∫¶Á®ãÂ∫èÔºåÂπ∂‰∏îÈ´òÁ∫ßË∞ÉÂ∫¶Á®ãÂ∫è‰∏çÂ∫îÂåÖÂê´‰ºòÂÖàÁ∫ßÊçêËµ†ÁöÑÂÜÖÂÆπÔºåÊâÄ‰ª•ÔºåÂú®Mission_2‰∏≠ÂÆûÁé∞ÁöÑ‰ºòÂÖàÁ∫ßÊçêËµ†‰ª£Á†ÅÔºåÈúÄË¶Å‰ΩøÁî®ifÂà§Êñ≠‰ª•‰øùËØÅÂú®‰ΩøÁî®È´òÁ∫ßË∞ÉÂ∫¶Á®ãÂ∫èÊó∂Ôºå‰∏çÂêØÁî®‰ºòÂÖàÁ∫ßÊçêËµ†„ÄÇÈöèÂêéÔºåÊàë‰ª¨ÂèØ‰ª•Ê†πÊçÆÂÆûÈ™åÊåáÂØº‰∏≠ÁöÑËØ¶ÁªÜËØ¥Êòé‰∏ÄÊ≠•Ê≠•ÂÆåÊàêÊú¨Ê¨°ÂÆûÈ™å„ÄÇ È¶ñÂÖàÔºåÊ†πÊçÆ‰∏äËø∞ÁªôÂÆöÁÇπÊï∞ÁöÑËÆ°ÁÆóÊñπÊ≥ïÔºåÁºñÂÜôÂÆöÁÇπÊï∞ÁöÑËÆ°ÁÆóÊñπÊ≥ïÔºåÂÆûÁé∞ 16.15 Ê†ºÂºèÂÆöÁÇπÊï∞ËÆ°ÁÆóÊñπÊ≥ï„ÄÇ 123456789101112131415161718192021222324252627/* Basic definitions of fixed point. */typedef int fixed_t;/* 16 LSB used for fractional part. */#define FP_SHIFT_AMOUNT 16/* Convert a value to fixed-point value. */#define FP_CONST(A) ((fixed_t)(A &lt;&lt; FP_SHIFT_AMOUNT))/* Add two fixed-point value. */#define FP_ADD(A,B) (A + B)/* Add a fixed-point value A and an int value B. */#define FP_ADD_MIX(A,B) (A + (B &lt;&lt; FP_SHIFT_AMOUNT))/* Substract two fixed-point value. */#define FP_SUB(A,B) (A - B)/* Substract an int value B from a fixed-point value A */#define FP_SUB_MIX(A,B) (A - (B &lt;&lt; FP_SHIFT_AMOUNT))/* Multiply a fixed-point value A by an int value B. */#define FP_MULT_MIX(A,B) (A * B)/* Divide a fixed-point value A by an int value B. */#define FP_DIV_MIX(A,B) (A / B)/* Multiply two fixed-point value. */#define FP_MULT(A,B) ((fixed_t)(((int64_t) A) * B &gt;&gt; FP_SHIFT_AMOUNT))/* Divide two fixed-point value. */#define FP_DIV(A,B) ((fixed_t)((((int64_t) A) &lt;&lt; FP_SHIFT_AMOUNT) / B))/* Get integer part of a fixed-point value. */#define FP_INT_PART(A) (A &gt;&gt; FP_SHIFT_AMOUNT)/* Get rounded integer of a fixed-point value. */#define FP_ROUND(A) (A &gt;= 0 ? ((A + (1 &lt;&lt; (FP_SHIFT_AMOUNT - 1))) &gt;&gt; FP_SHIFT_AMOUNT) \ : ((A - (1 &lt;&lt; (FP_SHIFT_AMOUNT - 1))) &gt;&gt; FP_SHIFT_AMOUNT)) Áî±‰∫éÊú¨ÂÆûÈ™åÊ∂âÂèäÂà∞ÁöÑÂÖ¨ÂºèÂùá‰∏éÊó∂Èíü‰∏≠Êñ≠ÊúâÂÖ≥ÔºåÊâÄ‰ª•ÔºåÊàë‰ª¨Â∞Ü‰∏äËø∞ÁöÑÂÖ¨ÂºèËø≠‰ª£ËÆ°ÁÆóÁöÑÁõ∏ÂÖ≥‰ª£Á†ÅÔºåÂÜôÂÖ•Êàë‰ª¨Âú®Mission_1‰∏≠ËØ¶ÁªÜ‰ªãÁªçËøáÁöÑtimer_interrupt()Êó∂Èíü‰∏≠Êñ≠Â§ÑÁêÜÂáΩÊï∞‰∏≠„ÄÇÂÖ∂ÂéüÂáΩÊï∞‰∏∫Ôºö ‰πãÂâçÂ∑≤ÁªèÊé•‰ªãÁªçËøáÔºåÊú¨ÂÆûÈ™åÂú®thread_mlfqsÂèòÈáè‰∏∫trueÁöÑÊÉÖÂÜµ‰∏ãËøõË°å„ÄÇÊâÄ‰ª•ÔºåÊàë‰ª¨ÈúÄË¶ÅÈÄöËøáifÂØπÊ≠§Êù°‰ª∂ËøõË°åÂà§Êñ≠Ôºå‰ª•ÂÖçÂΩ±ÂìçÂÖ∂‰ªñÂÆûÈ™åÁöÑÊ≠£Â∏∏ËøêË°å„ÄÇ ÂåÖÊã¨ÔºåÊØè‰∏™Êó∂Èíü‰∏≠Êñ≠ÈÉΩÊõ¥Êñ∞ÁöÑrecent_cpu„ÄÅÊØè‰∏ÄÁßíÊõ¥Êñ∞ÁöÑload_avg„ÄÅÊØèÂõõ‰∏™Êó∂ÈíüÊõ¥Êñ∞‰∏ÄÊ¨°ÁöÑpriorityÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫„ÄÇÊé•‰∏ãÊù•ÔºåÊàë‰ª¨ÂàÜÂà´‰ªãÁªçËøô‰∫õÂáΩÊï∞„ÄÇ È¶ñÂÖàÊòØthread_mlfqs_increase_recent_cpu_by_one(void)ÔºåËã•ÂΩìÂâçËøõÁ®ã‰∏çÊòØÁ©∫Èó≤ËøõÁ®ãÂàôÂΩìÂâçËøõÁ®ãÂä†1ÔºåÊ≥®ÊÑèÂÆöÁÇπÊï∞Âä†Ê≥ï„ÄÇ Êé•‰∏ãÊù•ÊòØthread_mlfqs_update_load_avg_and_recent_cpu(void)ÂáΩÊï∞ÔºåÈ¶ñÂÖàÊ†πÊçÆÂ∞±Áª™ÈòüÂàóÁöÑÂ§ßÂ∞èËÆ°ÁÆóload_avgÁöÑÂÄºÔºåÈöèÂêéÊ†πÊçÆload_avgÁöÑÂÄºÔºåÊõ¥Êñ∞ÊâÄÊúâËøõÁ®ãÁöÑrecent_cpuÂÄºÂèäpriorityÂÄº„ÄÇ ÊúÄÂêéÔºåÈÄöËøáthread_mlfqs_update_priority (struct thread *t)ÂáΩÊï∞ÔºåÊõ¥Êñ∞ÂΩìÂâçËøõÁ®ãÁöÑpriorityÂÄºÔºåÊ≥®ÊÑèÔºå‰∏ÄÂÆöË¶Å‰øùËØÅÊØè‰∏™Á∫øÁ®ãÁöÑ‰ºòÂÖàÁ∫ß‰ªã‰∫é0(PRI_MIN)Âà∞63(PRI_MAX)‰πãÈó¥„ÄÇ ÊúÄÂêéÂà∞‰∫ÜÊî∂Â∞æÂ∑•‰ΩúÔºåÊàë‰ª¨Ë¶ÅÂú®struct threadÁªìÊûÑ‰Ωì‰∏≠Âä†ÂÖ•niceÂíårecent_cpuËøô‰∏§‰∏™ÂèòÈáèÔºåÂÖ∂ÂÆåÊï¥ÁöÑÂÆö‰πâÂ¶Ç‰∏ãÔºö Âπ∂Âú®init_thread()Á∫øÁ®ãÂàùÂßãÂåñÊó∂ÔºåÂ∞Ünice‰∏érecent_cpuÁΩÆÈõ∂„ÄÇÊ≥®ÊÑèrecent_cpuÊòØÂÆöÁÇπÊï∞0„ÄÇÊàë‰ª¨ÈúÄË¶ÅÂú®thread.c‰∏≠ÂÆö‰πâÂÖ®Â±ÄÂèòÈáèload_avgÔºåÊ≥®ÊÑèÊòØÂÆöÁÇπÊï∞Á±ªÂûã„ÄÇÂú®thread_start()ÂáΩÊï∞‰∏≠ÂàùÂßãÂåñ‰∏∫0„ÄÇ Ê†πÊçÆ‰∏äËø∞ÊåáÂØºÂÜÖÂÆπÔºåÂú®thread.c‰∏≠Â∞ÜÈúÄË¶ÅÊàë‰ª¨ÂÆûÁé∞ÁöÑÂáΩÊï∞ÂÖ®ÈÉ®ÂÜôÂÖ•„ÄÇ ÂÆûÈ™åÁªìÊûúÊàë‰ª¨Âà∞/src/threadÁõÆÂΩï‰∏ãÊâßË°åmake checkÔºåÂèØ‰ª•ËøõË°åÊµãËØï„ÄÇ Ëá≥Ê≠§ÔºåMISSION_3 ADVANCED SCHEDULERÁºñÂÜôÂÆåÊØïÔºåÊâßË°åÊµãËØïÊúâÂ¶Ç‰∏ãÁªìÊûúÔºö Ëá¥Ë∞¢Êí∞ÂÜôÊú¨ÊñáÁöÑÁõÆÁöÑÂú®‰∫éËÆ∞ÂΩïÂ∞èÁªÑpintosÂÆûÈ™å‰∏ÄËøáÁ®ãÔºå ÊñØÂù¶Á¶èÂÆòÊñπÂÆûÈ™åÊåáÂØº‰π¶Ôºå Pintos-ÊñØÂù¶Á¶èÂ§ßÂ≠¶Êìç‰ΩúÁ≥ªÁªüProjectËØ¶Ëß£ Âú®Ê≠§ÁâπÂà´ÊÑüË∞¢‰ª•‰∏ä‰ΩúËÄÖ„ÄÇ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <tags>
        <tag>Êìç‰ΩúÁ≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËøõÁ®ãÂÆûÈ™å‰∫å]]></title>
    <url>%2F2019%2F03%2F21%2Flab3%2F</url>
    <content type="text"><![CDATA[ÂÆûÈ™å‰∏â ÂÆûÈ™åÊä•Âëä Â≠ôÊ±âÊ≠¶ ÂÆâÂÖ®1601 16281047 ÂÆûÈ™åÊ∫ê‰ª£Á†ÅÈìæÊé• Task 11.1 ÂÆûÈ™åË¶ÅÊ±Ç$\qquad$ÈÄöËøáforkÁöÑÊñπÂºèÔºå‰∫ßÁîü4‰∏™ËøõÁ®ãP1,P2,P3,P4ÔºåÊØè‰∏™ËøõÁ®ãÊâìÂç∞ËæìÂá∫Ëá™Â∑±ÁöÑÂêçÂ≠óÔºå‰æãÂ¶ÇP1ËæìÂá∫‚ÄúI am the process P1‚Äù„ÄÇË¶ÅÊ±ÇP1ÊúÄÂÖàÊâßË°åÔºåP2„ÄÅP3‰∫íÊñ•ÊâßË°åÔºåP4ÊúÄÂêéÊâßË°å„ÄÇÈÄöËøáÂ§öÊ¨°ÊµãËØïÈ™åËØÅÂÆûÁé∞ÊòØÂê¶Ê≠£Á°Æ„ÄÇ 1.2 ÂÆûÈ™åËøáÁ®ã ÂÆûÈ™åÊ∫êÁ†Å Task1.c 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768#include&lt;stdio.h&gt;#include&lt;unistd.h&gt;#include&lt;stdlib.h&gt;#include&lt;pthread.h&gt;#include&lt;semaphore.h&gt;#include&lt;fcntl.h&gt;int main(){ sem_t *P1_signal,*P2_signal,*P3_signal; //‰∏ªÂáΩÊï∞‰∏≠ÁöÑËøõÁ®ãÊòØP1 pid_t p2,p3,p4; P1_signal=sem_open("P1_signal",O_CREAT,0666,0); P2_signal=sem_open("P2_signal",O_CREAT,0666,0); P3_signal=sem_open("P3_signal",O_CREAT,0666,0); p2=fork();//ÂàõÂª∫ËøõÁ®ãP2 if(p2&lt;0) { perror("ÂàõÂª∫ËøõÁ®ãp2Âá∫ÈîôÔºÅ"); } if(p2==0) { sem_wait(P1_signal); printf("I am the process P2!\n"); sem_post(P1_signal); sem_post(P2_signal); } if(p2&gt;0) { p3=fork(); if(p3&lt;0) { perror("ÂàõÂª∫ËøõÁ®ãpÂá∫ÈîôÔºÅ"); } if(p3==0) { sem_wait(P1_signal); printf("I am the process P3!\n"); sem_post(P1_signal); sem_post(P3_signal); } if(p3&gt;0) { printf("I am the process P1!\n"); sem_post(P1_signal); p4=fork(); if(p4&lt;0) { perror("ÂàõÂª∫ËøõÁ®ãp4Âá∫ÈîôÔºÅ"); } if(p4==0) { sem_wait(P2_signal); sem_wait(P3_signal); printf("I am the process P4!\n"); sem_post(P2_signal); sem_post(P3_signal); } } } sem_close(P1_signal); sem_close(P3_signal); sem_close(P2_signal); sem_unlink("P1_signal"); sem_unlink("P2_signal"); sem_unlink("P3_signal"); return 0;} ÂéüÁêÜËß£Èáä ÂâçË∂ãÂõæ ÂâçÈ©±ÂÖ≥Á≥ªÔºö`P1--&gt;P2`„ÄÅ`P1--&gt;P3`„ÄÅ`P2--&gt;P4`„ÄÅ`P3--&gt;P4` ÂâçÈ©±ÂÖ≥Á≥ªÂÆûÁé∞ È¢òÁõÆË¶ÅÊ±Ç‰∫ßÁîüÁöÑÂõõ‰∏™ËøõÁ®ãÂøÖÈ°ªÊòØP1ÊúÄÂÖàÊâßË°åÔºåP2„ÄÅP3Âú®P1ÊâßË°åÂÆåÂêé‰∫íÊñ•ÊâßË°åÔºåP4ÊúÄÂêéÊâßË°å„ÄÇ‰∫éÊòØÊ†πÊçÆË¶ÅÊ±ÇÊúâ‰∫Ü‰∏äÈù¢ÁöÑÂâçÈ©±ÂÖ≥Á≥ªÂíåÂâçÈ©±Âõæ„ÄÇ‰ΩÜÊòØÂ¶Ç‰ΩïÂÆûÁé∞ËøôÁßçËøõÁ®ãÈó¥ÁöÑÂâçÈ©±ÂÖ≥Á≥ªÂë¢ÔºüÊØîËæÉËá™ÁÑ∂ÁöÑÊÉ≥Âà∞‰∫ÜÊòØÁî®‰ø°Âè∑ÈáèÊú∫Âà∂„ÄÇÂ¶Ç‰∏äÈù¢ÁöÑ‰ª£Á†ÅÊâÄÁ§∫ÔºåÂÆö‰πâ‰∫Ü‰∏â‰∏™‰ø°Âè∑ÈáèÔºåP1_signal„ÄÅP2_signalÂíåP3_signalÔºåÂÖ∂ÂàùÂÄºÂùá‰∏∫0 123P1_signal=sem_open("P1_signal",O_CREAT,0666,0); P2_signal=sem_open("P2_signal",O_CREAT,0666,0); P3_signal=sem_open("P3_signal",O_CREAT,0666,0); P1ËøõÁ®ãÊâßË°åÂÆåÊâìÂç∞‰ªªÂä°‰πãÂêéÂØπP1_signal‰ø°Âè∑ÈáèËøõË°åVÊìç‰ΩúÔºå‰∫ßÁîü‰∏Ä‰∏™ËµÑÊ∫êËÆ©Á≠âÂæÖP1_signalÁöÑËøõÁ®ãP2ÂíåP3ÂÖ∂‰∏≠‰πã‰∏ÄÂèØ‰ª•ÊâßË°å„ÄÇÁî±‰∫éP2ÂíåP3ÈÉΩÊòØÁ≠âÂæÖP1_signal‰ø°Âè∑ÈáèÔºå‰ΩÜÊòØP1ËøõÁ®ãÂè™‰∫ßÁîü‰∏Ä‰∏™Âçï‰ΩçÁöÑ‰ø°Âè∑ÔºåÊâÄ‰ª•P2ÂíåP3ÁöÑÊâßË°åÊòØ‰∫íÊñ•ÁöÑÔºåËøôÊ†∑Â∞±Êª°Ë∂≥‰∫ÜÈ¢òÁõÆË¶ÅÊ±Ç„ÄÇÊúÄÂêéÂú®P2ÂíåP3ÊâßË°åÂÆåÊâìÂç∞‰ªªÂä°ÂêéÂØπ‰ø°Âè∑ÈáèP2_signalÂíåP3_signalËøõË°åVÊìç‰Ωú‰ªéÂêÑ‰∫ßÁîü‰∏Ä‰∏™Âçï‰ΩçÁöÑ‰ø°Âè∑ÈáèÔºåËÄåËøõÁ®ãP4‰ºöÁ≠âÂæÖP2_signalÂíåP3_signalÔºåÊâÄ‰ª•Áü•ÈÅìÂΩìP2ÂíåP3ËøõÁ®ãÈÉΩÂÆåÊàêÊâçËÉΩËøõË°åP4ËøõÁ®ã„ÄÇÈÄöËøáÊéßÂà∂Ëøô‰∏â‰∏™‰ø°Âè∑ÈáèÔºåËøôÂõõ‰∏™ËøõÁ®ã‰πãÈó¥ÁöÑÂâçÈ©±ÂÖ≥Á≥ªÂ∞±Êª°Ë∂≥‰∫ÜÈ¢òÁõÆË¶ÅÊ±Ç„ÄÇ ![](http://ipic-picgo.oss-cn-beijing.aliyuncs.com/2019-04-29-173752.jpg) ËøõÁ®ã‰∫ßÁîüÂÆûÁé∞ Ê†πÊçÆÈ¢òÁõÆË¶ÅÊ±ÇÔºåÈÄöËøáforkÁöÑÊñπÂºè‰∫ßÁîüÂõõ‰∏™ËøõÁ®ã„ÄÇforkÂáΩÊï∞‰ºö‰ªéÂΩìÂâç‰ΩçÁΩÆÂ§çÂà∂ËøõÁ®ãÔºåÂπ∂‰∏îÂú®Áà∂ËøõÁ®ã‰∏≠ËøîÂõûÁöÑpid‰∏∫Â§çÂà∂ËøõÁ®ãÁöÑÁúüÂÆûpidÔºåÂú®Â≠êËøõÁ®ã‰∏≠ËøîÂõûÁöÑpid‰∏∫0„ÄÇ‰∫ÜËß£Ëøô‰∫õÁü•ËØÜ‰πãÂêéÂèØ‰ª•ÂæóÂà∞Â¶Ç‰∏ãÁöÑÊµÅÁ®ãÂõæÔºö ‰∏ãÈù¢ÁöÑÊµÅÁ®ãÂõæ‰ªÖË°®Á§∫ËøõÁ®ãÈó¥ÁöÑÂÖ≥Á≥ªÔºåÂâçÈ©±ÂÖ≥Á≥ªÁöÑÂÆûÁé∞ËØ∑Áúã‰∏ä‰∏ÄÂ∞èËäÇ. ËøõÁ®ãÊ†ë ÁºñËØëÊ∫êÁ†Å ÈÄöËøá‰∏ãÈù¢ÁöÑÂëΩ‰ª§ÁºñËØëÊ∫êÁ†ÅÔºåÂæóÂà∞ÂèØÊâßË°åÁ®ãÂ∫è 1gcc -g task1.c -o task1 -lpthrea 1.3 ÂÆûÈ™åÁªìÊûú$\qquad$ÈÄöËøá‰∏äÈù¢ÁöÑÂÆûÈ™åÂ∑≤ÁªèÂæóÂà∞Êª°Ë∂≥ÂÆûÈ™åË¶ÅÊ±ÇÁöÑÂèØÊâßË°åÁ®ãÂ∫ètask1,‰∏ãÈù¢ÁªôÂá∫ËøêË°åÁªìÊûúÔºåÁªèËøáÂ§öÊ¨°ÊµãËØïÔºåÂõõ‰∏™ËøõÁ®ãÂú®Â±èÂπï‰∏äÊâìÂç∞ÁöÑÈ°∫Â∫èÂè™Êúâ‰∏§ÁßçÁªìÊûúÔºåÂàÜÂà´Â¶Ç‰∏ãÔºö È°∫Â∫è1ÔºöP1--&gt;P2--&gt;P3--&gt;P4 È°∫Â∫è2ÔºöP1--&gt;P3--P2--&gt;P4 1.4 Áé∞Ë±°Ëß£Èáä$\qquad$ÊµãËØïÁöÑÂÆûÈ™åÁªìÊûú‰∏≠Âá∫Áé∞‰∏§ÁßçÊâßË°åÈ°∫Â∫èÔºåÈÄöËøá1.2 ËäÇ‰∏≠ÁöÑÂàÜÊûê‰∏çÈöæËß£ÈáäËøôÁßçÁé∞Ë±°ÔºåÁî±‰∫éP1ÊòØP2ÂíåP3ÁöÑÂâçÈ©±ÔºåÊâÄ‰ª•P1‰∏ÄÂÆö‰ºöÂú®P2ÂíåP3‰πãÂâçÊâßË°åÔºå‰ΩÜÊòØP2ÂíåP3ÊòØ‰∫íÊñ•ÂÖ≥Á≥ªÔºåËøô‰∏§‰∏™ËøõÁ®ãË∞ÅÂÖàËé∑ÂæóP1‰∫ßÁîüÁöÑ‰ø°Âè∑ÈáèË∞ÅÂ∞±ÂÖàÊâßË°åÂè¶‰∏Ä‰∏™ËøõÁ®ãÁ≠âÂæÖ„ÄÇÊúÄÂêéÁ≠âP2ÂíåP3ÈÉΩÊâßË°åÂÆå‰∫ÜÂÜçÊâßË°åP4ÔºåÊâÄ‰ª•‰ºöÂá∫Áé∞‰∏äÈù¢ÁöÑ‰∏§ÁßçÊâßË°åÈ°∫Â∫è„ÄÇ Task 22.1 ÂÆûÈ™åË¶ÅÊ±Ç$\qquad$ÁÅ´ËΩ¶Á•®‰ΩôÁ•®Êï∞ticketCount ÂàùÂßãÂÄº‰∏∫1000ÔºåÊúâ‰∏Ä‰∏™ÂîÆÁ•®Á∫øÁ®ãÔºå‰∏Ä‰∏™ÈÄÄÁ•®Á∫øÁ®ãÔºåÂêÑÂæ™ÁéØÊâßË°åÂ§öÊ¨°„ÄÇÊ∑ªÂä†ÂêåÊ≠•Êú∫Âà∂Ôºå‰ΩøÂæóÁªìÊûúÂßãÁªàÊ≠£Á°Æ„ÄÇË¶ÅÊ±ÇÂ§öÊ¨°ÊµãËØïÊ∑ªÂä†ÂêåÊ≠•Êú∫Âà∂ÂâçÂêéÁöÑÂÆûÈ™åÊïàÊûú„ÄÇ 2.2 ÂÆûÈ™åËøáÁ®ã2.2.1Êú™Ê∑ªÂä†ÂêåÊ≠•Êú∫Âà∂ ÂÆûÈ™åÊ∫êÁ†Å task2_1.c: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#include&lt;pthread.h&gt;#include&lt;semaphore.h&gt;#include&lt;sys/stat.h&gt;#include&lt;fcntl.h&gt;#include&lt;string.h&gt;int ticketCount=1000;void *SaleThread(void *arg){ int num,temp; num=atoi(arg); for(int i=0;i&lt;num;i++) { if(i % 10 ==0) printf("Âçñ%dÂº†Á•®,Ââ©‰Ωô%dÂº†Á•®\n",i,ticketCount); temp=ticketCount; //ÊîæÂºÉCPUÔºåÂº∫Âà∂ÂàáÊç¢Âà∞Âè¶Â§ñ‰∏Ä‰∏™ËøõÁ®ã pthread_yield(); temp=temp-1; pthread_yield(); ticketCount=temp; } return NULL;}void *RefundThread(void *arg){ int num,temp; num=atoi(arg); for(int i=0;i&lt;num;i++) { if(i % 10 ==0) printf("ÈÄÄ%dÂº†Á•®ÔºåÂâ©‰Ωô%dÂº†Á•®\n",i,ticketCount); temp=ticketCount; pthread_yield(); temp=temp+1; pthread_yield(); ticketCount=temp; } return NULL;}int main(int argc,char *argv[]){ if(argc!=3) { printf("ËØ∑Ê≠£Á°ÆËæìÂÖ•ÂèÇÊï∞ÔºÅ\n"); exit(0); } printf("ÂàùÂßãÁ•®Êï∞‰∏∫Ôºö%d\n",ticketCount); pthread_t p1,p2; /* printf("%s %s",argv[1],argv[2]); */ pthread_create(&amp;p1,NULL,SaleThread,argv[1]); pthread_create(&amp;p2,NULL,RefundThread,argv[2]); pthread_join(p1,NULL); pthread_join(p2,NULL); printf("ÊúÄÁªàÁ•®Êï∞‰∏∫Ôºö%d\n",ticketCount); return 0;} Á®ãÂ∫èËß£Èáä Âú®mainÂáΩÊï∞‰∏≠ÂàõÂª∫‰∏§‰∏™Á∫øÁ®ãÔºåÂàÜÂà´ÊòØÊ®°ÊãüÂîÆÁ•®ÁöÑÁ∫øÁ®ãSaleThreadÂíåÊ®°ÊãüÈÄÄÁ•®ÁöÑÁ∫øÁ®ãRefundThreadÔºå‰∏§‰∏™ËøõÁ®ãÂπ∂ÂèëÊâßË°åÔºå‰∏çÊ∑ªÂä†‰ªª‰ΩïÁöÑÂêåÊ≠•Êú∫Âà∂„ÄÇ Ê®°ÊãüÁ•®Êï∞ÁöÑÂèòÈáèticketCountÊòØÂÖ®Â±ÄÂèòÈáè Á®ãÂ∫èËøêË°åÈúÄË¶ÅËæìÂÖ•‰∏§‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÊòØÂîÆÁ•®Êï∞ÈáèÔºåÁ¨¨‰∫å‰∏™Êï∞ÈÄÄÁ•®Êï∞Èáè Á®ãÂ∫èËøêË°åÁªìÊûú ÁºñËØë‰∏äËø∞Á®ãÂ∫èÔºåÂæóÂà∞ÂèØÊâßË°åÁ®ãÂ∫ètask2_1 1gcc -g task2_1.c -o task2_1 -lpthread Â§öÊ¨°ÊµãËØïËøêË°åÔºåËøêË°åÁªìÊûúÂèØ‰ª•ÂàÜ‰∏∫‰∏§ÁßçÁ±ªÂûãÔºå‰∏ÄÁßçÊòØÂîÆÁ•®Êï∞ÈáèÊØîÈÄÄÁ•®Êï∞ÈáèÂ§öÔºåÂè¶‰∏ÄÁßçÊòØÂîÆÁ•®Êï∞ÈáèÊØîÈÄÄÁ•®Êï∞ÈáèÂ∞ë„ÄÇ‰∏§ÁßçÊÉÖÂÜµÁöÑÁªìÊûúÂàÜÂà´Â¶Ç‰∏ãÔºö ÂîÆÁ•®Êï∞ÈáèÊØîÈÄÄÁ•®Êï∞ÈáèÂ§öÔºö ÂàùÂßãÁ•®Êï∞Ôºö1000 ÂîÆÁ•®Ôºö100 ÈÄÄÁ•®Ôºö40 ÂîÆÁ•®Êï∞ÈáèÊØîÈÄÄÁ•®Êï∞ÈáèÂ∞ëÔºö ÂàùÂßãÁ•®Êï∞Ôºö1000 ÂîÆÁ•®Ôºö50 ÈÄÄÁ•®Ôºö80 ÂÆûÈ™åÁé∞Ë±°ÂΩíÁ∫≥ ÈÄöËøá‰∏ÄÁ≥ªÂàóÁöÑÊµãËØïÔºåÂΩíÁ∫≥Âá∫ÁöÑÂÆûÁé∞Áé∞Ë±°Â¶Ç‰∏ãÔºö ÂΩìÂîÆÁ•®Êï∞ÈáèÂ§ß‰∫éÈÄÄÁ•®Êï∞ÈáèÁöÑÊó∂ÂÄôÔºåÊúÄÁªàÁ•®Êï∞Á≠â‰∫éÊÄªÁ•®Êï∞ÂáèÂéªÂîÆÁ•®Êï∞ ÂΩìÂîÆÁ•®Êï∞ÈáèÂ∞è‰∫éÈÄÄÁ•®Êï∞ÈáèÁöÑÊó∂ÂÄôÔºåÊúÄÁªàÁ•®Êï∞Á≠â‰∫éÊÄªÁ•®Êï∞Âä†‰∏äÈÄÄÁ•®Êï∞ 2.2.2 Ê∑ªÂä†ÂêåÊ≠•Êú∫Âà∂ ÂÆûÈ™åÊ∫êÁ†Å task2_2.c 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#include&lt;pthread.h&gt;#include&lt;semaphore.h&gt;#include&lt;sys/stat.h&gt;#include&lt;fcntl.h&gt;#include&lt;string.h&gt;volatile int ticketCount=1000;sem_t *flag=NULL;void *SaleThread(void *arg){ int num,temp; num=atoi(arg); for(int i=0;i&lt;num;i++) { if(i % 10 ==0) printf("Âçñ%dÂº†Á•®,Ââ©‰Ωô%dÂº†Á•®\n",i,ticketCount); sem_wait(flag); temp=ticketCount; //ÊîæÂºÉCPUÔºåÂº∫Âà∂ÂàáÊç¢Âà∞Âè¶Â§ñ‰∏Ä‰∏™ËøõÁ®ã pthread_yield(); temp=temp-1; ticketCount-=1; pthread_yield(); ticketCount=temp; sem_post(flag); } return NULL;}void *RefundThread(void *arg){ int num,temp; num=atoi(arg); for(int i=0;i&lt;num;i++) { if(i % 10 ==0) printf("ÈÄÄ%dÂº†Á•®ÔºåÂâ©‰Ωô%dÂº†Á•®\n",i,ticketCount); sem_wait(flag); temp=ticketCount; pthread_yield(); temp=temp+1; ticketCount+=1; pthread_yield(); ticketCount=temp; sem_post(flag); } return NULL;}int main(int argc,char *argv[]){ if(argc!=3) { printf("ËØ∑Ê≠£Á°ÆËæìÂÖ•ÂèÇÊï∞ÔºÅ\n"); exit(0); } flag=sem_open("flag",O_CREAT,0666,1); printf("ÂàùÂßãÁ•®Êï∞‰∏∫Ôºö%d\n",ticketCount); pthread_t p1,p2; printf("%s %s",argv[1],argv[2]); pthread_create(&amp;p1,NULL,SaleThread,argv[1]); pthread_create(&amp;p2,NULL,RefundThread,argv[2]); pthread_join(p1,NULL); pthread_join(p2,NULL); printf("ÊúÄÁªàÁ•®Êï∞‰∏∫Ôºö%d\n",ticketCount); sem_close(flag); sem_unlink("flag"); return 0;} Á®ãÂ∫èËß£Èáä task2_2.cÂú®task2_1.cÁöÑÂü∫Á°Ä‰∏äÂ¢ûÂä†‰∫ÜÂêåÊ≠•Êú∫Âà∂ÔºåÂÖ∂‰ªñÈÉ®ÂàÜÂÆåÂÖ®‰∏ÄËá¥ÔºåÈÄöËøá‰ø°Âè∑ÈáèflagÁöÑÊéßÂà∂ÔºåËÆ©ÂîÆÁ•®Á∫øÁ®ãÂíåÈÄÄÁ•®Á∫øÁ®ã‰∏ÄÊ¨°Âè™ËÉΩÊâßË°å‰∏Ä‰∏™ÔºåÂú®‰∏Ä‰∏™Ê≤°ÊúâÊâßË°åÂÆåÊàê‰πãÂâçÂè¶‰∏Ä‰∏™‰∏çËÉΩËøõÂÖ•ÊâßË°åÔºåËøôÊ†∑Â∞±‰øùËØÅ‰∫ÜÂîÆÁ•®Êìç‰ΩúÂíåÈÄÄÁ•®Êìç‰ΩúÁöÑÂéüÂ≠êÊÄßÔºåÈÅøÂÖç‰∫ÜËÑèÊï∞ÊçÆÁöÑËØªÂèñ„ÄÇ flagÂàùÂßãÂÄº‰∏∫ËÆæÁΩÆ‰∏∫1ÔºåË°®Á§∫ÊØèÊ¨°Âè™ÂÖÅËÆ∏‰∏Ä‰∏™Á∫øÁ®ãÊìç‰ΩúticketCountËøô‰∏™Êï∞ÊçÆ ÂîÆÁ•®Á∫øÁ®ãÂíåÈÄÄÁ•®Á∫øÁ®ãÂú®ËøõÂÖ•Êìç‰Ωú‰πãÂâçÈÉΩË¶Åsem_wait(flag)ÔºåÁ≠âÂæÖ‰ø°Âè∑ÈáèÔºåÂú®ÂÆåÊàêÊìç‰Ωú‰πãÂêéË¶Åsem_post(flag)Ôºå‰∏ãÂõæÊòØÂîÆÁ•®Á∫øÁ®ã‰∏≠Â¢ûÂä†‰∫Ü‰ø°Âè∑ÈáèÁöÑÊìç‰ΩúÔºö Á®ãÂ∫èËøêË°åÁªìÊûú ÁºñËØë‰∏äËø∞Á®ãÂ∫èÔºåÂæóÂà∞ÂèØÊâßË°åÁ®ãÂ∫ètask2_2 1gcc task2_2.c -o task2_2 -lpthread Â§öÊ¨°ÊµãËØïËøêË°åÔºåÊµãËØï‰∏ªË¶ÅÂàÜ‰∏∫‰∏§ÁßçÁ±ªÂûãÔºå‰∏ÄÁßçÊòØÂîÆÁ•®Êï∞ÈáèÊØîÈÄÄÁ•®Êï∞ÈáèÂ§öÔºåÂè¶‰∏ÄÁßçÊòØÂîÆÁ•®Êï∞ÈáèÊØîÈÄÄÁ•®Êï∞ÈáèÂ∞ë„ÄÇ‰∏§ÁßçÊÉÖÂÜµÁöÑÁªìÊûúÂàÜÂà´Â¶Ç‰∏ãÔºö ÂîÆÁ•®Êï∞ÈáèÊØîÈÄÄÁ•®Êï∞ÈáèÂ§öÔºö ÂàùÂßãÁ•®Êï∞Ôºö1000 ÂîÆÁ•®Ôºö100 ÈÄÄÁ•®Ôºö40 ÈÄÄÁ•®Êï∞ÈáèÊØîÂîÆÁ•®Êï∞ÈáèÂ§öÔºö ÂàùÂßãÁ•®Êï∞Ôºö1000 ÂîÆÁ•®Ôºö50 ÈÄÄÁ•®Ôºö80 ÂÆûÈ™åÁé∞Ë±°ÂΩíÁ∫≥ Âú®Á¨¨‰∏Ä‰∏™ÊµãËØïÊ†∑‰æã‰∏≠ÔºåÂàùÂßãÁ•®Êï∞‰∏∫1000ÔºåÂîÆÁ•®100Âπ∂‰∏îÈÄÄÁ•®40ÔºåÊúÄÁªàÊÄªÁ•®Êï∞‰∏∫940ÔºåÁªìÊûúÊ≠£Á°ÆÔºõ Âú®Á¨¨‰∫å‰∏™ÊµãËØïÊ†∑‰æã‰∏≠ÔºåÂàùÂßãÁ•®Êï∞‰∏∫1000ÔºåÂîÆÁ•®50Âπ∂‰∏îÈÄÄÁ•®80ÔºåÊúÄÁªàÊÄªÁ•®Êï∞‰∏∫1030ÔºåÁªìÊûúÊ≠£Á°Æ„ÄÇ ÈÄöËøá‰∏äÈù¢ÁöÑÊµãËØïÁªìÊûúÂèØ‰ª•ÁúãÂá∫Ôºå‰∏çËÆ∫ÊòØÂîÆÁ•®Êï∞ÈáèÊØîÈÄÄÁ•®Êï∞ÈáèÂ§öËøòÊòØÂ∞ëÔºåÈÉΩ‰∏ç‰ºöÂèëÁîüÁ±ª‰ººÂâçÈù¢2.2.1ÁöÑÈóÆÈ¢òÔºåÊúÄÁªàÁöÑÁ•®Êï∞ÊòØÊúüÂæÖÂæóÂà∞ÁöÑÁªìÊûú„ÄÇ ‰∏äÈù¢ÁöÑÂÆûÈ™åËØÅÂÆû‰∫ÜÂ¢ûÂä†‰∫ÜÂêåÊ≠•Êú∫Âà∂‰πãÂêéÁöÑÂ§öÁ∫øÁ®ãÂπ∂ÂèëÁ®ãÂ∫èÊúâÊïàÁöÑËß£ÂÜ≥‰∫ÜËÑèÊï∞ÊçÆÁöÑËØªÂèñÈóÆÈ¢ò 2.3 ÂÆûÈ™åÁªìÊûú ÈÄöËøá2.2ËäÇÁöÑÂØπÊØîÂÆûÈ™åÂèØ‰ª•ÁúãÂá∫ÔºåÂú®ÊâßË°åÂ§öËøõÁ®ãÂπ∂ÂèëÁ®ãÂ∫èÁöÑÊó∂ÂÄôÔºåÁî±‰∫éÂ§öËøõÁ®ãÁöÑÂàáÊç¢ÂèØËÉΩÂèëÁîüÂú®Êüê‰∏™ËøõÁ®ãÁöÑ‰∏≠Èó¥Ôºå‰ºöÂØºËá¥Âú®‰∏Ä‰∏™ËøõÁ®ãÂ§ÑÁêÜÁöÑÊï∞ÊçÆÊú™ÂÜôÂÖ•ticketCount‰πãÂâçÂè¶Â§ñ‰∏Ä‰∏™ËøõÁ®ãËØªÂèñËØ•Êï∞ÊçÆÔºåËøôÊ†∑Â∞±ÂØºËá¥‰∫ÜËÑèÊï∞ÊçÆÁöÑËØªÂèñÔºåÂØºËá¥ÊúÄÁªàÁªìÊûúÁöÑ‰∏çÊ≠£Á°Æ„ÄÇ Âú®2.2ËäÇÁöÑÂêéÂçäÈÉ®ÂàÜÈÄöËøáÊÄéÂä†ÂêåÊ≠•Êú∫Âà∂Ôºå‰øùËØÅÂîÆÁ•®ËøõÁ®ãÂíåÈÄÄÁ•®ËøõÁ®ãÁöÑÁöÑÂéüÂ≠êÊÄßÔºåÂ∞±ÊòØÊåáÂú®Êüê‰∏™ËøõÁ®ãÊìç‰ΩúÁöÑÊó∂ÂÄôÔºåÂú®ÂÆÉÂÆåÊàêÊìç‰Ωú‰πãÂâçÂè¶Â§ñ‰∏Ä‰∏™ËøõÁ®ãÊó†Ê≥ïÊìç‰ΩúÂÖ±‰∫´ÂèòÈáèticketCount,ËøôÊ†∑Â∞±ÈÅøÂÖç‰∫ÜËÑèÊï∞ÊçÆÁöÑÂèëÁîüÔºåÂæóÂà∞‰∫ÜÈ¢ÑÊúüÁöÑÊ≠£Á°ÆÁªìÊûú„ÄÇ 2.4 Áé∞Ë±°Ëß£Èáä2.4.1 Áé∞Ë±°Ëß£Èáä1Âú®2.2.1ËäÇÁöÑÂÆûÈ™å‰∏≠Ôºå‰ª•ÂîÆÁ•®Á∫øÁ®ã‰∏∫‰æãÔºà‰ª£Á†ÅÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºâÔºåÊ≤°ÊúâÊ∑ªÂä†ÂêåÊ≠•Êú∫Âà∂ÔºåÂπ∂‰∏îÂú®ËøõË°åtemp=temp-1Âíåtemp=ticketCountÁöÑÂêéÈù¢ÂùáÂä†‰∏ä‰∫Üpthread_yieldÔºåËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÊîæÂºÉÂØπCPUÁöÑ‰ΩøÁî®ÊùÉÔºåÂàáÊç¢Âà∞ÂÖ∂‰ªñËøõÁ®ã‰∏≠ÔºåÊú¨ÂÆûÈ™å‰∏≠Â∞±ÊòØÂàáÊç¢Âà∞ÈÄÄÁ•®ËøõÁ®ã‰∏≠„ÄÇ ËøôÊ†∑Â∞±ËÉΩËß£Èáä‰∏∫‰ªÄ‰πà2.2.1ËäÇ‰∏≠ÁöÑÂÆûÈ™åÁé∞Ë±°ÔºåÂú®2.2.1ËäÇ‰∏≠Ôºå‰∏çËÆ∫ÂîÆÁ•®Êï∞Â§öËøòÊòØÈÄÄÁ•®Êï∞Â§öÔºåÊúÄÁªàÁªìÊûúÈÉΩÊòØÊÄªÁ•®Êï∞Âä†‰∏äÊàñÂáèÂéªÂÄºÊØîËæÉÂ§ßÁöÑÈÇ£‰∏™Êï∞„ÄÇÈÄöËøáÂàÜÊûêÂèØ‰ª•ÂæóÂá∫Ëß£ÈáäÔºåÂîÆÁ•®ËøõÁ®ãÂíåÈÄÄÁ•®ËøõÁ®ãÂêåÊó∂ËøõË°åÔºåÂàùÂßãÁ•®Êï∞Âùá‰∏∫1000ÔºåÂîÆÁ•®ËøõÁ®ãÂÆåÊàê‰∏ÄÊ¨°ÊòØÁ•®Êï∞‰∏∫999ÔºåÂîÆÁ•®ËøõÁ®ãÂºÄÂßã‰∏ã‰∏ÄÊ¨°ÂîÆÁ•®Ôºå‰ΩÜÊòØÂú®ËøêË°åtemp=ticketCount‰πãÂâçÔºåÈÄÄÁ•®ËøõÁ®ãÂ§ÑÁêÜÁöÑÊï∞ÊçÆËøòÊ≤°ÊúâÂÜôÂÖ•Âà∞ÂÜÖÂ≠ò‰∏≠ÔºåÂØºËá¥ÂîÆÁ•®ËøõÁ®ãËØªÂèñÁöÑËøòÊòØËá™Â∑±‰πãÂâçËÆ°ÁÆóÁöÑticketCountÂÄºÔºåËÄå‰∏çÊòØÂÖ®Â±ÄÁöÑÂÄº„ÄÇÈÄÄÁ•®ËøõÁ®ã‰πüÊòØÂêåÁêÜ„ÄÇ ‰ΩÜÊòØ‰∏∫‰ªÄ‰πàÂàöÂ•ΩÂ∞±ÊòØÊÄªÁ•®Êï∞Âä†‰∏äÊàñÂáèÂéªÂÄºÊØîËæÉÂ§ßÁöÑÈÇ£‰∏™Âë¢ÔºüÊåâÁÖßÈÅìÁêÜÊù•ËØ¥Âõ†ËØ•ÂîÆÁ•®ËøõÁ®ãÊâßË°åtemp=ticketCountÂú®ÈÄÄÁ•®ËøõÁ®ãÂÜôÂÖ•ticketCountÂÄº‰πãÂâçÂèëÁîüÊòØÂ≠òÂú®‰∏ÄÂÆöÊ¶ÇÁéáÁöÑÔºå‰ΩÜÊòØÂú®ÁõÆÂâç‰∏∫Ê≠¢ÁöÑÊâÄÊúâÊµãËØïÁªìÊûúÂÖ®ÈÉ®ÈÉΩÊòØÂú®ÂÜôÂÖ•‰πãÂâçËØªÂèñticketCountÂÄºÔºåÂØπÊ≠§ÁöÑËß£ÈáäÊòØÁî±‰∫éticketCount=tempÂíåtemp=ticketCount‰πãÈó¥Ê≤°ÊúâÂä†pthread_yieldÊìç‰ΩúÔºåËÄåÁé∞‰ª£ÁöÑÂ§ÑÁêÜÂô®ËøêÁÆóÈÄüÂ∫¶Ë∂≥Â§üÂø´ÔºåÂú®ÈÄÄÁ•®ËøõÁ®ãÊîæÂºÉCPUÊéßÂà∂ÊùÉÁöÑÈÇ£‰∏™Êó∂Èó¥ÁâáÂ∑≤ÁªèÂÆåÊàê‰∫ÜËøô‰∏§Ê≠•Êìç‰ΩúÔºåÊâÄ‰ª•Áõ∏ÂΩì‰∫éÂîÆÁ•®ËøõÁ®ãËØªÂèñÁöÑticketCount‰∏ÄÁõ¥ÊòØËá™Â∑±Êú¨Ë∫´ÁöÑÂÄºÔºåÈÄÄÁ•®ËøõÁ®ãÂ§ÑÁêÜÁöÑÊï∞ÊçÆÂØπÂîÆÁ•®ËøõÁ®ãÂπ∂Ê≤°ÊúâÂΩ±Âìç„ÄÇ ‰∏∫‰∫ÜÈ™åËØÅ‰∏äÈù¢ÁöÑÁåúÊÉ≥ÔºåÂú®=Â¶Ç‰∏ãÂõæÊâÄÁ§∫‰ª£Á†ÅÔºåÂú®ticketCount‰πãÂêéÂ¢ûÂä†‰∏ÄË°å‰ª£Á†ÅÔºåpthread_yieldÔºåÊîæÂºÉÂΩìÂâçËøõÁ®ãÂØπCPUÁöÑÊéßÂà∂ÊùÉÔºåÂç≥ÂîÆÁ•®ËøõÁ®ãÊîæÂºÉÂØπCPUÁöÑÊéßÂà∂ÊùÉËΩ¨ËÄå‰∫§ÁªôÈÄÄÁ•®ËøõÁ®ãÔºåËøô‰∏™Êó∂ÂÄôÈÄÄÁ•®ËøõÁ®ãÂ§ÑÁêÜÁöÑÊï∞ÊçÆÂ∞±ËÉΩÂÜôÂÖ•Âà∞ÂÜÖÂ≠ò‰∏≠ÔºåËÄåÂΩìÂîÆÁ•®ËøõÁ®ãÂÜçÊ¨°Â§ÑÁêÜtemp=ticketCountÁöÑÊó∂ÂÄôÔºåËØªÂèñÁöÑÂ∞±ÊòØÈÄÄÁ•®ËøõÁ®ãÂ∑≤ÁªèÂÜôÂÖ•ÁöÑÊï∞ÊçÆ„ÄÇÂ¶ÇÊûúÁåúÊÉ≥Ê≠£Á°ÆÁöÑËØùÔºåÊúüÂæÖÁöÑÊúÄÁªàÁ•®Êï∞Âõ†ËØ•Ëøò‰ºöÂèëÁîüÈîôËØØÔºå‰ΩÜÂπ∂‰∏çÊòØÂÉèÁ¨¨‰∏Ä‰∏≠ÈÇ£ÁßçÊÅ∞Â•ΩÁ≠â‰∫éÊÄªÁ•®Êï∞Âä†ÂáèÊï∞ÂÄºÂ§ßÁöÑÈÇ£‰∏™Êï∞„ÄÇ ÂæóÂà∞ÁöÑÁªìÊûúÂ¶Ç‰∏ãÔºåÂèëÁé∞ÊúÄÁªàÁöÑÁ•®Êï∞‰∏çÂú®ÊòØ1000+50=1050ÔºåËÄåÊòØÂàÜÂ∏ÉÂú®1000~1050‰πãÈó¥ÁöÑÊï∞ÂÄº„ÄÇÁåúÊÉ≥ÂæóÂà∞È™åËØÅ„ÄÇ ÈíàÂØπ‰∏äÈù¢ÁöÑÁåúÊÉ≥ÔºàCPUËøêÁÆóÈÄüÂ∫¶ËøáÂø´ÔºåÂØºËá¥ticketCount=tempÂíåtemp=ticketCount‰∏§Ê≠•Êìç‰ΩúÂú®‰∏Ä‰∏™ËøõÁ®ãÁöÑÊó∂Èó¥ÁâáÂÜÖÂÆåÊàêÂØºËá¥ÁöÑÊï∞ÊçÆÈîôËØØÔºâÔºåÂè¶Â§ñÁöÑ‰∏ÄÁßçÈ™åËØÅÊñπÂºèÊòØÂ∞ÜÂàùÂßãÁ•®Êï∞ÂíåÂîÆÁ•®ÈÄÄÁ•®Êï∞ËÆæÁΩÆÁöÑË∂≥Â§üÂ§ßÔºåÂΩìÊï∞ÊçÆË∂≥Â§üÂ§ßÁöÑÊó∂ÂÄôÔºåÂ∞±‰ºöÂ≠òÂú®‰∏ÄÂÆöÊ¶ÇÁéáÂá∫Áé∞Âú®‰∏Ä‰∏™ËøõÁ®ãÁöÑticketCount=tempÂíåtemp=ticketCount‰∏§Ê≠•Êìç‰Ωú‰πãÈó¥ÂàáÊç¢ËøõÁ®ãÁöÑÈóÆÈ¢òÔºåÂæóÂà∞ÁöÑÁªìÊûúÂ∞±‰∏ç‰ºöÁ±ª‰ºº2.2.1‰∏≠ÁöÑÈÇ£Ê†∑ÔºåËÄåÊòØÁ±ª‰ººÂú®ticketCount=temp‰∏ãÈù¢Âä†‰∫Üpthread_yieldÈÇ£Ê†∑„ÄÇ ÂÜçÊ¨°ËøêË°åÔºåÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ãÁöÑÂÆûÈ™åÁªìÊûúÔºö 2.4.2 Áé∞Ë±°Ëß£Èáä2Âú®2.2.2ËäÇ‰∏≠ÔºåÂΩìÁªôÂîÆÁ•®ËøõÁ®ãÂíåÈÄÄÁ•®ËøõÁ®ãÈÉΩÂä†‰∏äÂêåÊ≠•Êú∫Âà∂ÂêéÔºå‰øùËØÅ‰∫ÜÊØè‰∏™Á∫øÁ®ãÊìç‰ΩúÁöÑÂéüÂ≠êÊÄßÔºåÊØè‰∏™Á∫øÁ®ãÊìç‰ΩúÁöÑËøáÁ®ã‰∏≠ÂÖ∂‰ªñÁöÑÁ∫øÁ®ã‰∏çËÉΩÂØπÂÖ±‰∫´ÁöÑticketCountÂèòÈáèËøõÁ®ã‰øÆÊîπÔºåËøôÊ†∑ÁöÑËØùÊúÄÁªàÁöÑÁªìÊûúÂ∞±ÊòØÊ≠£Á°ÆÁöÑÁªìÊûú„ÄÇ Task 33.1 ÂÆûÈ™åË¶ÅÊ±Ç$\qquad$‰∏Ä‰∏™Áîü‰∫ßËÄÖ‰∏Ä‰∏™Ê∂àË¥πËÄÖÁ∫øÁ®ãÂêåÊ≠•„ÄÇËÆæÁΩÆ‰∏Ä‰∏™Á∫øÁ®ãÂÖ±‰∫´ÁöÑÁºìÂÜ≤Âå∫Ôºå char buf[10]„ÄÇ‰∏Ä‰∏™Á∫øÁ®ã‰∏çÊñ≠‰ªéÈîÆÁõòËæìÂÖ•Â≠óÁ¨¶Âà∞buf,‰∏Ä‰∏™Á∫øÁ®ã‰∏çÊñ≠ÁöÑÊääbufÁöÑÂÜÖÂÆπËæìÂá∫Âà∞ÊòæÁ§∫Âô®„ÄÇË¶ÅÊ±ÇËæìÂá∫ÁöÑÂíåËæìÂÖ•ÁöÑÂ≠óÁ¨¶ÂíåÈ°∫Â∫èÂÆåÂÖ®‰∏ÄËá¥„ÄÇÔºàÂú®ËæìÂá∫Á∫øÁ®ã‰∏≠ÔºåÊØèÊ¨°ËæìÂá∫Áù°Áú†‰∏ÄÁßíÈíüÔºåÁÑ∂Âêé‰ª•‰∏çÂêåÁöÑÈÄüÂ∫¶ËæìÂÖ•ÊµãËØïËæìÂá∫ÊòØÂê¶Ê≠£Á°ÆÔºâ„ÄÇË¶ÅÊ±ÇÂ§öÊ¨°ÊµãËØïÊ∑ªÂä†ÂêåÊ≠•Êú∫Âà∂ÂâçÂêéÁöÑÂÆûÈ™åÊïàÊûú„ÄÇ 3.2 ÂÆûÈ™åËøáÁ®ã ÂÆûÈ™åÊ∫êÁ†Å task3.c 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#include&lt;pthread.h&gt;#include&lt;semaphore.h&gt;#include&lt;sys/stat.h&gt;#include&lt;fcntl.h&gt;char buf[10];sem_t *empty=NULL;sem_t *full=NULL;void *worker1(void *arg){ for(int i=0;i&lt;10;i++) { sem_wait(empty); /* fflush(stdin); */ /* printf("ËæìÂÖ•Ôºö"); */ scanf("%c",&amp;buf[i]); sem_post(full); if(i==9) { i=-1; } } return NULL;}void *worker2(void *arg){ for(int i=0;i&lt;10;i++) { sem_wait(full); printf("ËæìÂá∫Ôºö%c\n",buf[i]); sem_post(empty); sleep(1); if(i==9) { i=-1; } } return NULL;}int main(int argc,char *argv[]){ empty=sem_open("empty_",O_CREAT,0666,10); full=sem_open("full_",O_CREAT,0666,0); pthread_t p1,p2; pthread_create(&amp;p1,NULL,worker1,NULL); pthread_create(&amp;p2,NULL,worker2,NULL); pthread_join(p1,NULL); pthread_join(p2,NULL); sem_close(empty); sem_close(full); sem_unlink("empty_"); sem_unlink("full_"); return 0;} Á®ãÂ∫èËß£Èáä work1ÊòØËæìÂÖ•Á∫øÁ®ãË∞ÉÁî®ÁöÑÂáΩÊï∞Ôºåworker2ÊòØËæìÂá∫Á∫øÁ®ãË∞ÉÁî®ÁöÑÂáΩÊï∞„ÄÇ ËÆæÁΩÆ‰∏§‰∏™‰ø°Âè∑ÈáèemptyÂíåfulÊù•ÊéßÂà∂Á®ãÂ∫èÁöÑÊâßË°åÔºåÂÖ∂‰∏≠empty‰ø°Âè∑ÈáèÁî®‰∫é‰øùËØÅËæìÂÖ•Á∫øÁ®ãÂú®ÂÜôÂÖ•Êï∞ÊçÆÂà∞ÁºìÂ≠òÁöÑÊó∂ÂÄôÁºìÂ≠ò‰∏≠ËøòÊúâÁ©∫‰ΩôÁöÑ‰ΩçÁΩÆÔºå‰øùËØÅÂÜôÂÖ•Á∫øÁ®ãÂêéÂÜôÂÖ•ÁöÑÊï∞ÊçÆ‰∏ç‰ºöÊääÂâçÈù¢ÂÜôÂÖ•‰ΩÜÊòØ‰∏∫ËæìÂá∫ÁöÑÊï∞ÊçÆÁªôË¶ÜÁõñÊéâÔºåÂÖ∂ÂàùÂßãÂÄº‰∏∫10ÔºåË°®Á§∫ÊúÄÂºÄÂßãÁºìÂ≠ò‰∏≠Êúâ10‰∏™Á©∫‰ΩôÁöÑ‰ΩçÁΩÆ‰æõÁªôÂÜôÂÖ•Á∫øÁ®ãÂÜôÂÖ•Êï∞ÊçÆÔºõfull‰ø°Âè∑ÈáèÊòØÁî®‰∫é‰øùËØÅËæìÂá∫Á∫øÁ®ãÊúâÊï∞ÊçÆËæìÂá∫ÔºåÈÅøÂÖçÂú®ÂÜôÂÖ•Á∫øÁ®ãËøòÊ≤°ÊúâÂÜôÂÖ•Êï∞ÊçÆÁöÑÊÉÖÂÜµ‰∏ãËæìÂá∫Á∫øÁ®ãËæìÂá∫ÈöèÊú∫Êï∞ÊçÆÔºåÂÖ∂ÂàùÂßãÂÄº‰∏∫0ÔºåË°®Á§∫ÂàùÂßãÁä∂ÊÄÅ‰∏ãÁºìÂ≠ò‰∏≠Ê≤°ÊúâÊï∞ÊçÆÂèØ‰ª•ËæìÂá∫ ËæìÂÖ•Á∫øÁ®ãÂú®ÂÜôÂÖ•‰∏Ä‰∏™Êï∞ÊçÆÂâçË¶ÅÁ≠âÂæÖempty‰ø°Âè∑ÈáèÔºåËøõÂÖ•Âêé‰æøÊ∂àËÄó‰∏Ä‰∏™‰ø°Âè∑ÈáèÔºõÂÆåÊàêÂÜôÂÖ•Êï∞ÊçÆÊìç‰Ωú‰πãÂêépost‰∏Ä‰∏™full‰ø°Âè∑ÈáèÔºåÈÄöÁü•ËæìÂá∫Á∫øÁ®ãËæìÂá∫Êï∞ÊçÆ„ÄÇ ËæìÂá∫Á∫øÁ®ãÂú®ËæìÂá∫‰∏Ä‰∏™Êï∞ÊçÆ‰πãÂâçÂìüÂïäÁ≠âÂæÖfull‰ø°Âè∑ÈáèÔºåËøõÂá∫ËæìÂá∫Êìç‰ΩúÂêé‰æøÊ∂àËÄó‰∏Ä‰∏™full‰ø°Âè∑ÈáèÔºõÂÆåÊàêËæìÂá∫Êìç‰ΩúÂêépost‰∏Ä‰∏™empty‰ø°Âè∑ÈáèÔºåÈÄöÁü•ÂÜôÂÖ•Á∫øÁ®ãÁºìÂ≠òÂèàÂ§ö‰∏Ä‰∏™Á©∫‰Ωô‰ΩçÁΩÆ‰ª•‰æõÂÜôÂÖ•Êï∞ÊçÆ„ÄÇ ËæìÂá∫Á∫øÁ®ãÊØèËæìÂá∫‰∏Ä‰∏™Â≠óÁ¨¶Á≠âÂæÖ‰∏ÄÁßíÈíüÔºåÊñπ‰æøÂÆûÈ™åÁªìÊûúÁöÑÊü•Áúã„ÄÇ ÁºñËØëÊ∫ê‰ª£Á†Å 1gcc task3.c -o task3 -lpthread 3.3 ÂÆûÈ™åÁªìÊûú3.3.1 ÂÆûÈ™åËøêË°åÁé∞Ë±° ÈöèÊú∫ËæìÂÖ•Â≠óÊØçÂíåÊï∞Â≠óÔºà10‰∏™‰ª•ÂÜÖÔºâÔºö124365abc ÈöèÊú∫ËæìÂÖ•Â≠óÊØçÂíåÊï∞Â≠ó(10‰∏™‰ª•‰∏ä)Ôºö123456789abcdefg ‰∏çÈó¥Êñ≠ËæìÂÖ•Ôºö ÈÄöËøáËßÇÂØü‰∏äÈù¢ÁöÑÂÆûÈ™åÁé∞Ë±°ÔºåÂèØ‰ª•ÁúãÂà∞Â∑≤ÁªèÊª°Ë∂≥‰∫ÜÂÆûÈ™åÈ¢òÁõÆÁöÑË¶ÅÊ±Ç„ÄÇ 3.3.2 ÂÆûÈ™åÁé∞Ë±°Ëß£Èáä Âú®Á¨¨‰∏ÄÁßçÁ±ªÂûãÁöÑÊµãËØï‰∏≠ÔºåËæìÂÖ•Êï∞ÊçÆ‰∏çÂ§ß‰∫é10‰∏™Â≠óÁ¨¶ÁöÑÊó∂ÂÄôÔºåÁî±‰∫éemptyÁöÑ‰ø°Âè∑ÈáèÂàùÂßãÂÄº‰∏∫10ÔºåÊâÄ‰ª•ËæìÂÖ•ËøõÁ®ã‰ºö‰∏ÄÁõ¥ËøûÁª≠‰∏çÊñ≠ÁöÑÂêëÁºìÂ≠ò‰∏≠ÂÜôÂÖ•Êï∞ÊçÆÔºåÊØèÂÜôÂÖ•‰∏Ä‰∏™Êï∞ÊçÆÔºå‰æøpost‰∏Ä‰∏™full‰ø°Âè∑ÈáèÔºåËæìÂá∫Á∫øÁ®ã‰æøËÉΩÊåâÂ∫èËæìÂá∫Â≠óÁ¨¶„ÄÇ Âú®Á¨¨‰∫åÁßçÁ±ªÂûãÁöÑÊµãËØï‰∏≠ÔºåËæìÂÖ•Êï∞ÊçÆÂ§ß‰∫é10‰∏™Â≠óÁ¨¶ÁöÑÊó∂ÂÄôÔºåÁî±‰∫éemptyÁöÑÂàùÂßãÂÄº‰∏∫10ÔºåÊâÄ‰ª•ËæìÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≠ÂºÄÂßãÁöÑÊó∂ÂÄôÂè™ÊúâÂâç10‰∏™Â≠óÁ¨¶Ë¢´ÂÜôÂÖ•ÁºìÂ≠ò‰∏≠ÔºåÂÖ∂‰ªñÁöÑÂú®I/OÁºìÂÜ≤Âå∫Á≠âÂæÖËæìÂÖ•ÔºåÂΩìËæìÂá∫Á∫øÁ®ãÊé•Êî∂Âà∞ËæìÂÖ•Á∫øÁ®ãpostÁöÑ‰ø°Âè∑ÈáèÁöÑÊó∂ÂÄô‰æø‰ºöÂºÄÂßãËæìÂá∫ÔºåÊØèËæìÂá∫‰∏Ä‰∏™Â≠óÁ¨¶‰æø‰ºöpost‰∏Ä‰∏™empty‰ø°Âè∑ÈáèÔºåÂΩìËæìÂÖ•Á∫øÁ®ãÊé•Êî∂Âà∞empty‰ø°Âè∑ÈáèÁöÑÊó∂ÂÄôÊúâÂºÄÂßã‰ªéI/OÁºìÂÜ≤Âå∫ËØªÂèñÊï∞ÊçÆÂÜôÂÖ•Âà∞ÁºìÂ≠ò‰∏≠„ÄÇ Á¨¨‰∏âÁßçÊµãËØïÂíåÁ¨¨‰∫åÁßçÁ±ª‰ººÔºåÂú®ËæìÂá∫ÁöÑËøáÁ®ã‰∏≠Èó¥ËæìÂÖ•Êï∞ÊçÆÔºåÂéüÁêÜÂÖ∂ÂÆûÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ Task 44.1 ÂÆûÈ™åË¶ÅÊ±Ç ÈÄöËøáÂÆûÈ™åÊµãËØïÔºåÈ™åËØÅÂÖ±‰∫´ÂÜÖÂ≠òÁöÑ‰ª£Á†Å‰∏≠ÔºåreceiverËÉΩÂê¶Ê≠£Á°ÆËØªÂá∫senderÂèëÈÄÅÁöÑÂ≠óÁ¨¶‰∏≤ÔºüÂ¶ÇÊûúÊääÂÖ∂‰∏≠‰∫íÊñ•ÁöÑ‰ª£Á†ÅÂà†Èô§ÔºåËßÇÂØüÂÆûÈ™åÁªìÊûúÊúâ‰Ωï‰∏çÂêåÔºüÂ¶ÇÊûúÂú®ÂèëÈÄÅÂíåÊé•Êî∂ËøõÁ®ã‰∏≠ÊâìÂç∞ËæìÂá∫ÂÖ±‰∫´ÂÜÖÂ≠òÂú∞ÂùÄÔºå‰ªñ‰ª¨ÊòØÂê¶Áõ∏ÂêåÔºå‰∏∫‰ªÄ‰πàÔºü ÊúâÂêçÁÆ°ÈÅìÂíåÊó†ÂêçÁÆ°ÈÅìÈÄö‰ø°Á≥ªÁªüË∞ÉÁî®ÊòØÂê¶Â∑≤ÁªèÂÆûÁé∞‰∫ÜÂêåÊ≠•Êú∫Âà∂ÔºüÈÄöËøáÂÆûÈ™åÈ™åËØÅÔºåÂèëÈÄÅËÄÖÂíåÊé•Êî∂ËÄÖÂ¶Ç‰ΩïÂêåÊ≠•ÁöÑ„ÄÇÊØîÂ¶ÇÔºåÂú®‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÔºåÂèëÈÄÅËÄÖ‰ºöÈòªÂ°ûÔºå‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÔºåÊé•Êî∂ËÄÖ‰ºöÈòªÂ°ûÔºü Ê∂àÊÅØÈÄö‰ø°Á≥ªÁªüË∞ÉÁî®ÊòØÂê¶Â∑≤ÁªèÂÆûÁé∞‰∫ÜÂêåÊ≠•Êú∫Âà∂ÔºüÈÄöËøáÂÆûÈ™åÈ™åËØÅÔºåÂèëÈÄÅËÄÖÂíåÊé•Êî∂ËÄÖÂ¶Ç‰ΩïÂêåÊ≠•ÁöÑ„ÄÇÊØîÂ¶ÇÔºåÂú®‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÔºåÂèëÈÄÅËÄÖ‰ºöÈòªÂ°ûÔºå‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÔºåÊé•Êî∂ËÄÖ‰ºöÈòªÂ°ûÔºü 4.2 ÂÆûÈ™åËøáÁ®ã ÂÆûÈ™åËøáÁ®ãÊ†πÊçÆÂÆûÈ™åË¶ÅÊ±ÇÁöÑ‰∏â‰∏™ÈÉ®ÂàÜÔºåÂØπÂ∫îÁöÑËøáÁ®ã‰πüÂàÜ‰∏∫‰∏â‰∏™ÈÉ®ÂàÜÔºåÂÖ∑‰ΩìÂ¶Ç‰∏ãÊâÄÁ§∫ 4.2.1 ÂÜÖÂ≠òÂÖ±‰∫´ ÂÆûÈ™åÊ∫êÁ†Å ÂÜÖÂ≠òÂÜÖÂ≠òÂÖ±‰∫´ÂÆûÈ™åÁöÑÊ∫êÁ†ÅÂàÜ‰∏∫‰∏§‰∏™ÈÉ®ÂàÜÔºåÂàÜÂà´ÊòØSender.cÂíåReceive.c, Sender.cÔºö 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980/* * Filename: Sender.c * Description: */#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/sem.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;sys/shm.h&gt;#include &lt;sys/types.h&gt;#include &lt;string.h&gt;int main(int argc, char *argv[]){ key_t key; int shm_id; int sem_id; int value = 0; //1.Product the key key = ftok(".", 0xFF); //2. Creat semaphore for visit the shared memory sem_id = semget(key, 1, IPC_CREAT|0644); if(-1 == sem_id) { perror("semget"); exit(EXIT_FAILURE); } //3. init the semaphore, sem=0 if(-1 == (semctl(sem_id, 0, SETVAL, value))) { perror("semctl"); exit(EXIT_FAILURE); } //4. Creat the shared memory(1K bytes) shm_id = shmget(key, 1024, IPC_CREAT|0644); if(-1 == shm_id) { perror("shmget"); exit(EXIT_FAILURE); } //5. attach the shm_id to this process char *shm_ptr; shm_ptr = shmat(shm_id, NULL, 0); if(NULL == shm_ptr) { perror("shmat"); exit(EXIT_FAILURE); } //6. Operation procedure struct sembuf sem_b; sem_b.sem_num = 0; //first sem(index=0) sem_b.sem_flg = SEM_UNDO; sem_b.sem_op = 1; //Increase 1,make sem=1 while(1) { if(0 == (value = semctl(sem_id, 0, GETVAL))) { printf("\nNow, snd message process running:\n"); printf("\tInput the snd message: "); scanf("%s", shm_ptr); if(-1 == semop(sem_id, &amp;sem_b, 1)) { perror("semop"); exit(EXIT_FAILURE); } } //if enter "end", then end the process if(0 == (strcmp(shm_ptr ,"end"))) { printf("\nExit sender process now!\n"); break; } } shmdt(shm_ptr); return 0;} Receiver.c 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/sem.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;sys/shm.h&gt;#include &lt;sys/types.h&gt;#include &lt;string.h&gt;int main(int argc, char *argv[]){ key_t key; int shm_id; int sem_id; int value = 0; //1.Product the key key = ftok(".", 0xFF); //2. Creat semaphore for visit the shared memory sem_id = semget(key, 1, IPC_CREAT|0644); if(-1 == sem_id) { perror("semget"); exit(EXIT_FAILURE); } //3. init the semaphore, sem=0 if(-1 == (semctl(sem_id, 0, SETVAL, value))) { perror("semctl"); exit(EXIT_FAILURE); } //4. Creat the shared memory(1K bytes) shm_id = shmget(key, 1024, IPC_CREAT|0644); if(-1 == shm_id) { perror("shmget"); exit(EXIT_FAILURE); } //5. attach the shm_id to this process char *shm_ptr; shm_ptr = shmat(shm_id, NULL, 0); if(NULL == shm_ptr) { perror("shmat"); exit(EXIT_FAILURE); } //6. Operation procedure struct sembuf sem_b; sem_b.sem_num = 0; //first sem(index=0) sem_b.sem_flg = SEM_UNDO; sem_b.sem_op = -1; //Increase 1,make sem=1 while(1) { if(1 == (value = semctl(sem_id, 0, GETVAL))) { printf("\nNow, receive message process running:\n"); printf("\tThe message is : %s\n", shm_ptr); if(-1 == semop(sem_id, &amp;sem_b, 1)) { perror("semop"); exit(EXIT_FAILURE); } } //if enter "end", then end the process if(0 == (strcmp(shm_ptr ,"end"))) { printf("\nExit the receiver process now!\n"); break; } } shmdt(shm_ptr); //7. delete the shared memory if(-1 == shmctl(shm_id, IPC_RMID, NULL)) { perror("shmctl"); exit(EXIT_FAILURE); } //8. delete the semaphore if(-1 == semctl(sem_id, 0, IPC_RMID)) { perror("semctl"); exit(EXIT_FAILURE); } return 0;} Á®ãÂ∫èËß£Èáä ‰∏ãÈù¢‰ª•sender.c‰∏∫‰æãËß£Èáä‰∏Ä‰∏ãÂ¶Ç‰ΩïÂàõÂª∫ÂÖ±‰∫´ÂÜÖÂ≠òÂπ∂ÈÄöËøá‰ø°Âè∑ÈáèÊú∫Âà∂ÂÆûÁé∞‰∫íÊñ•ËÆøÈóÆ‰ªéËÄåËææÂà∞ËøõÁ®ãÈó¥ÈÄö‰ø°ÁöÑÁõÆÁöÑ„ÄÇ ÂàõÂª∫‰∏Ä‰∏™ÂÖ±‰∫´ÂÜÖÂ≠òÁöÑID,Â∞±ÊòØ‰ª£Á†Å‰∏≠ÁöÑkey 12key_t key;key = ftok(".", 0xFF); ÈÄöËøáftokÂáΩÊï∞ÂàõÂª∫‰∏Ä‰∏™key_tÁ±ªÂûãÁöÑÂèòÈáèÔºå‰Ωú‰∏∫ÂÖ±‰∫´ÂÜÖÂ≠òÁöÑkeyÔºåftokÂáΩÊï∞ÁöÑ‰∏§‰∏™ÂèÇÊï∞ÂàÜÂà´ÊòØÊñáÊ°£Âêç(‰∏Ä‰∏™Â≠òÂú®ÁöÑË∑ØÂæÑ),‰∏ä‰æã‰∏≠ÁöÑË∑ØÂæÑÊòØ.Ë°®Á§∫ÂΩìÂâçË∑ØÂæÑÔºåÂè¶‰∏Ä‰∏™ÂèÇÊï∞ÊòØÂ≠êÂ∫èÂè∑ ÂàõÂª∫Âπ∂ÂàùÂßãÂåñ‰ø°Âè∑Èáè 123456789101112int sem_id;sem_id = semget(key, 1, IPC_CREAT|0644);if(-1 == sem_id){ perror("semget"); exit(EXIT_FAILURE);}if(-1 == (semctl(sem_id, 0, SETVAL, value))){ perror("semctl"); exit(EXIT_FAILURE);} ÈÄöËøásemget()ÂáΩÊï∞ÂàõÂª∫‰∏Ä‰∏™‰ø°Âè∑ÈáèÔºåÂàùÂßãÂÄº‰∏∫1ÔºåÂÜçÈÄöËøásemctl()ÂáΩÊï∞ÂàùÂßãÂåñËØ•‰ø°Âè∑Èáè ÂàõÂª∫ÂÖ±‰∫´ÂÜÖÂ≠òÂπ∂ÊåÇËΩΩÂú®ËøõÁ®ã‰∏≠ 123456789101112131415//4. Creat the shared memory(1K bytes)shm_id = shmget(key, 1024, IPC_CREAT|0644);if(-1 == shm_id){ perror("shmget"); exit(EXIT_FAILURE);}//5. attach the shm_id to this processchar *shm_ptr;shm_ptr = shmat(shm_id, NULL, 0);if(NULL == shm_ptr){ perror("shmat"); exit(EXIT_FAILURE);} Âú®ËøôÈÉ®ÂàÜ‰ª£Á†Å‰∏≠ÔºåÈ¶ñÂÖàÈÄöËøáshmget()ÂáΩÊï∞ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Â§ßÂ∞è‰∏∫1000BÁöÑÂÖ±‰∫´ÂÜÖÂ≠òÔºåÁÑ∂ÂêéÈÄöËøáshmatÂáΩÊï∞ÔºåÂ∞ÜÂàöÂàöÂàõÂª∫ÁöÑÂÖ±‰∫´ÂÜÖÂ≠ò‰ª•ÂèØËØªÂÜôÁöÑÊñπÂºèÊåÇËΩΩÂú®ËøõÁ®ã‰∏äÔºåÂπ∂‰∏îÊåáÂÆöÁ≥ªÁªüÂ∞ÜËá™Âä®ÈÄâÊã©‰∏Ä‰∏™ÂêàÈÄÇÁöÑÂú∞ÂùÄÁªôÂÖ±‰∫´ÂÜÖÂ≠òÔºåÂ∞ÜÊåÇËΩΩÁöÑÂÖ±‰∫´ÂÜÖÂ≠òÂú∞ÂùÄËµãÂÄºÁªôcharÂûãÊåáÈíàshm_ptr Sender‰∏ªÂæ™ÁéØ 123456789101112131415161718192021while(1){ if(0 == (value = semctl(sem_id, 0, GETVAL))) { printf("\nNow, snd message process running:\n"); printf("\tInput the snd message: "); scanf("%s", shm_ptr); if(-1 == semop(sem_id, &amp;sem_b, 1)) { perror("semop"); exit(EXIT_FAILURE); } } //if enter "end", then end the process if(0 == (strcmp(shm_ptr ,"end"))) { printf("\nExit sender process now!\n"); break; }} ‰∏ªÂæ™ÁéØ‰∏≠È¶ñÂÖàÂà§Êñ≠Ë°®Á§∫ÂÖ±‰∫´ÂÜÖÂ≠òËÆøÈóÆÊÉÖÂÜµÁöÑ‰ø°Âè∑ÈáèÊòØÂê¶‰∏∫0(‰∏∫0Ë°®Á§∫ÂÖ±‰∫´ÂÜÖÂ≠òÁ©∫Èó≤)ÔºåÂ¶ÇÊûú‰∏∫0ÁöÑËØùÊèêÁ§∫Áî®Êà∑ËæìÂÖ•ÊÉ≥Ë¶ÅËæìÂÖ•ÁöÑÊ∂àÊÅØÔºåÂπ∂Â∞ÜÁî®Êà∑ËæìÂÖ•ÁöÑÊ∂àÊÅØÂÜôÂÖ•ÂÖ±‰∫´ÂÜÖÂ≠ò‰∏≠ÔºåÂÜôÂÆåÂêéÈÄöËøásemopÂáΩÊï∞Â∞Ü‰ø°Âè∑ÈáèÂä†‰∏ÄÔºåÈÄöÁü•receiverËØªÂèñÊ∂àÊÅØ„ÄÇÂπ∂‰∏îÂÆö‰πâ‰∏Ä‰∏™endÂëΩ‰ª§Ë°®Á§∫ÈÄÄÂá∫ÂΩìÂâçËøõÁ®ã„ÄÇÂæ™ÁéØÈÄÄÂá∫ÁöÑÊó∂ÂÄôÂèñÊ∂àÂÖ±‰∫´ÂÜÖÂ≠òÁöÑÊåÇËΩΩ Receiver‰∏ªÂæ™ÁéØ 1234567891011121314151617181920while(1){ if(1 == (value = semctl(sem_id, 0, GETVAL))) { printf("\nNow, receive message process running:\n"); printf("\tThe message is : %s\n", shm_ptr); if(-1 == semop(sem_id, &amp;sem_b, 1)) { perror("semop"); exit(EXIT_FAILURE); } } //if enter "end", then end the process if(0 == (strcmp(shm_ptr ,"end"))) { printf("\nExit the receiver process now!\n"); break; }} ‰∏ªÂæ™ÁéØ‰∏≠È¶ñÂÖàÂà§Êñ≠Ë°®Á§∫ÂÖ±‰∫´ÂÜÖÂ≠òËÆøÈóÆÊÉÖÂÜµÁöÑ‰ø°Âè∑ÈáèÊòØÂê¶‰∏∫1(‰∏∫1Ë°®Á§∫ÂÖ±‰∫´ÂÜÖÂ≠òÂ∑≤ÁªèÂÜôÂÖ•Ê∂àÊÅØÔºåÂèØ‰ª•ËØªÂèñ)ÔºåÂ¶ÇÊûú‰∏∫1ÁöÑËØùËæìÂá∫ËØ•Ê∂àÊÅØÔºåËæìÂá∫ÂêéÈÄöËøásemopÂáΩÊï∞Â∞Ü‰ø°Âè∑ÈáèÂáè1ÔºåÈÄöÁü•SenderÂèØ‰ª•ÂÜçÊ¨°ÂÜôÂÖ•Ê∂àÊÅØ„ÄÇÂπ∂‰∏îÂÆö‰πâ‰∏Ä‰∏™endÂëΩ‰ª§Ë°®Á§∫ÈÄÄÂá∫ÂΩìÂâçËøõÁ®ã„ÄÇÂæ™ÁéØÈÄÄÂá∫ÁöÑÊó∂ÂÄôÂèñÊ∂àÂÖ±‰∫´ÂÜÖÂ≠òÁöÑÊåÇËΩΩ ÂÆûÈ™åÁé∞Ë±° Â∞Ü‰∏äËø∞Ê∫êÁ†ÅÁºñËØëÂêéËøõË°åÊµãËØïÔºåÂæóÂà∞‰∏ãÈù¢ÁöÑÁªìÊûú„ÄÇ ÂèØ‰ª•ÁúãÂà∞senderËøõÁ®ãÂèëÂá∫ÁöÑÊ∂àÊÅØreceiverËøõÁ®ãÂùáÂáÜÁ°ÆÊó†ËØØÁöÑÊî∂Âà∞ Âà†Èô§‰∫íÊñ•ËÆøÈóÆÁõ∏ÂÖ≥ÁöÑ‰ª£Á†Å Á®ãÂ∫è‰∏ªË¶ÅÁöÑ‰ª£Á†ÅÊ≤°ÊúâÂèòÂåñÔºåÂè™ÊòØÂú®SenderÂíåReceiverËøõÁ®ãÁöÑ‰∏ªÂæ™ÁéØ‰∏≠Â∞ÜÁî®‰∫éÊéßÂà∂‰∫íÊñ•ËÆøÈóÆÂÖ±‰∫´ÂÜÖÂ≠òÁöÑÁõ∏ÂÖ≥‰ª£Á†ÅÂà†Èô§ÔºåÊ≥®ÈáäÂêéÁöÑÁªìÊûúÂ¶Ç‰∏ãÔºö Sender_2.c: 123456789101112while(1){ printf("\nNow, snd message process running:\n"); printf("\tInput the snd message: "); scanf("%s", shm_ptr); //if enter "end", then end the process if(0 == (strcmp(shm_ptr ,"end"))) { printf("\nExit sender process now!\n"); break; }} Receiver_2.c: 12345678910111213while(1){ printf("\nNow, receive message process running:\n"); printf("\tThe message is : %s\n", shm_ptr); //if enter "end", then end the process if(0 == (strcmp(shm_ptr ,"end"))) { printf("\nExit the receiver process now!\n"); break; } sleep(3);} ÊúÄÂêéÂä†‰∏Ä‰∏™sleep(1)Áî®‰∫éÊéßÂà∂ÊâìÂç∞ÁöÑÈÄüÂ∫¶Ôºå‰æø‰∫éËßÇÂØüÁé∞Ë±° Âà†Èô§‰∫íÊñ•ËÆøÈóÆÂêéÁöÑÂÆûÈ™åÁé∞Ë±° ÂÆûÈ™åÁé∞Ë±°Ëß£ÈáäÔºöÂΩìÂà†Èô§‰∫íÊñ•ËÆøÈóÆ‰πãÂêéÔºå‰∏§‰∏™ËøõÁ®ã‰æøÊ≤°ÊúâÈôêÂà∂ÁöÑËÆøÈóÆÂÖ±‰∫´ÂÜÖÂ≠òÔºåSenderËøõÁ®ãÁî±‰∫éÂèóÈôê‰∫éÁî®Êà∑ËæìÂÖ•ÁöÑÈÄüÂ∫¶Ôºå‰ºöÂÅúÁïô‰∏ÄÁõ¥Á≠âÂæÖÁî®Êà∑ËæìÂÖ•Êï∞ÊçÆÔºå‰ΩÜÊòØReceiverËøõÁ®ã‰ºö‰∏ÄÁõ¥ËæìÂá∫ÂÖ±‰∫´ÂÜÖÂ≠ò‰∏≠ÁöÑÊ∂àÊÅØ„ÄÇ ÊâìÂç∞SenderÂíåReceiverËøõÁ®ã‰∏≠ÂÖ±‰∫´ÂÜÖÂ≠òÁöÑÂú∞ÂùÄ Âú®ÂéüÂßã‰ª£Á†ÅÁöÑÂü∫Á°Ä‰∏ä‰øÆÊîπÔºåÂÖ∑‰Ωì‰ª£Á†ÅÊñá‰ª∂ÂàÜÂà´ÊòØSender_3.cÂíåReceiver_3.cÔºåÂÖ∑‰Ωì‰øÆÊîπÂ∞±ÊòØÂ¶Ç‰∏ãÔºö Âú®ÊåÇËΩΩÂÖ±‰∫´ÂÜÖÂ≠òÂêéÊâìÂç∞ÊåÇËΩΩÂêéÁöÑÂú∞ÂùÄ ÊâìÂç∞ÂÖ±‰∫´ÂÜÖÂ≠òÂú∞ÂùÄÂÆûÈ™åÁé∞Ë±° ÂèØ‰ª•ÁúãÂà∞ÂÆûÈ™åÁé∞Ë±°ÔºåÂú®‰∏§‰∏™ËøõÁ®ã‰∏≠ÂÖ±‰∫´ÂÜÖÂ≠òÁöÑÂú∞ÂùÄ‰∏ç‰∏ÄÊ†∑ ==Áé∞Ë±°Ëß£ÈáäÔºö== ÈÄöËøá‰∏äÈù¢ÁöÑÁé∞Ë±°ÂèØ‰ª•ÁúãÂà∞ÂÖ±‰∫´ÂÜÖÂ≠òÂú®‰∏çÂêåËøõÁ®ã‰∏≠ÊòØ‰∏çÁõ∏ÂêåÁöÑÔºåÊÄªÁªìÊúâ‰ª•‰∏ãÁöÑÂéüÂõ†ÂØºËá¥ÂÖ±‰∫´ÂÜÖÂ≠òÂú®‰∏çÂêåËøõÁ®ã‰∏≠ÁöÑÂú∞ÂùÄ‰∏ç‰∏ÄÊ†∑Ôºö ËøõÁ®ãÂú®ÊåÇËΩΩÂÜÖÂ≠òÁöÑÊó∂ÂÄô‰ΩøÁî®ÁöÑshmat()ÂáΩÊï∞‰∏≠ÁöÑÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰ΩøÁî®ÁöÑÊòØNULLÔºåNULLÂèÇÊï∞ÁöÑÂê´‰πâÊòØËøõÁ®ãËÆ©Á≥ªÁªüÂàÜÈÖçÁªôÂÖ±‰∫´ÂÜÖÂ≠òÂêàÈÄÇÁöÑÂú∞ÂùÄ„ÄÇÂú®shmat()ÂáΩÊï∞‰∏≠ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞Êúâ‰∏âÁßçÈÄâÊã©ÔºåÂàÜÂà´ÊòØÔºö | ÂèÇÊï∞ÂÄº | NULL | addr | addr || :‚Äî‚Äî: | :‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî: | :‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî: | :‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî: || Âê´‰πâ | Á≥ªÁªüÂ∞ÜËá™Âä®ÈÄâÊã©‰∏Ä‰∏™ÂêàÈÄÇÁöÑÂú∞ÂùÄ | Â¶ÇÊûúshmaddrÈùû0 Âπ∂‰∏îÊåáÂÆö‰∫ÜSHM_RND ÂàôÊ≠§ÊÆµËøûÊé•Âà∞shmaddr -Ôºàshmaddr mod SHMLAB)ÊâÄË°®Á§∫ÁöÑÂú∞ÂùÄ‰∏ä„ÄÇ | Á¨¨‰∏â‰∏™ÂèÇÊï∞Â¶ÇÊûúÂú®flag‰∏≠ÊåáÂÆö‰∫ÜSHM_RDONLY‰ΩçÔºåÂàô‰ª•Âè™ËØªÊñπÂºèËøûÊé•Ê≠§ÊÆµÔºåÂê¶Âàô‰ª•ËØªÂÜôÁöÑÊñπÂºèËøûÊé•Ê≠§ ÊÆµ„ÄÇ | ‚Äã ÂèØ‰ª•ÁúãÂà∞ÔºåÂΩìaddrÊúâÂÖ∑‰ΩìÁöÑÂÄºÁöÑÊó∂ÂÄôÔºå‰æøÂ∞ÜÂÖ±‰∫´ÂÜÖÂ≠òÊåÇËΩΩÂà∞ÊåáÂÆöÁöÑÂú∞ÂùÄ‰∏ä Áé∞‰ª£Êìç‰ΩúÁ≥ªÁªü‰∏≠ÈÉΩÂ≠òÂú®ASLR(Âú∞ÂùÄÁ©∫Èó¥ÈöèÊú∫Âåñ)ÔºåASLRÊòØ‚ºÄÁßçÈíàÂØπÁºìÂÜ≤Âå∫Ê∫¢Âá∫ÁöÑÂÆâÂÖ®‰øùÊä§Êú∫Âà∂ÔºåÂÖ∑ÊúâASLRÊú∫Âà∂ÁöÑÊìç‰ΩúÁ≥ªÁªüÊØèÊ¨°Âä†ËΩΩÂà∞ÂÜÖÂ≠òÁöÑÁ®ãÂ∫èËµ∑ÂßãÂú∞ÂùÄ‰ºöÈöèÊú∫ÂèòÂåñ„ÄÇÁ≥ªÁªüÁöÑËøô‰∏™ÈöèÊú∫ÂåñÊìç‰ΩúÂèØËÉΩÂØºËá¥ÂÖ±‰∫´ÂÜÖÂ≠òÁöÑÂú∞ÂùÄ‰∏ç‰∏ÄËá¥„ÄÇ ==È™åËØÅÔºö== ÊåáÂÆöSender_4.cÂíåReceiver_4.c‰∏≠ÂÖ±‰∫´ÂÜÖÂ≠òÁöÑÊåÇËΩΩÂú∞ÂùÄ‰∏∫0x7fcc2c0bb000 ‰øÆÊîπÂÖ∑‰ΩìÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö ËøêË°åÁªìÊûúÔºö ÂÆûÈ™åÁªìÊûúÁªìÊûú‰ΩêËØÅ‰∫Ü‰∏äÈù¢ÁöÑÁé∞Ë±°Ëß£ÈáäÔºåÈÄöËøáÊåáÂÆöÊåÇËΩΩÂÖ±‰∫´ÂÜÖÂ≠òÁöÑÂú∞ÂùÄÔºåÂèØ‰ª•‰ΩøÂÖ±‰∫´ÂÜÖÂ≠òÁöÑÂú∞ÂùÄ‰∏ÄËá¥ÔºåÂèØ‰ª•ÈöèÊÑèÊåáÂÆöÊîπÂú∞ÂùÄ ÂÖ≥Èó≠Á≥ªÁªüÁöÑASLRÊìç‰Ωú ÂÖ∑‰ΩìÁöÑÂÖ≥Èó≠ÂëΩ‰ª§Â¶Ç‰∏ãÔºö 12 sudo susysctl -w kernel.randomize_va_space=0 + ËøêË°åÁªìÊûúÔºö &lt;div align="center"&gt;&lt;img src="" width="800" /&gt;&lt;/div&gt; ![](http://ipic-picgo.oss-cn-beijing.aliyuncs.com/2019-04-29-174000.jpg) &gt; Ëøô‰∏™ÂÆûÈ™åÁé∞Ë±°‰πü‰ΩêËØÅ‰∫ÜÁ≥ªÁªüÁöÑASLR‰πüÂØπÂØºËá¥ÊåÇËΩΩÁöÑÂÖ±‰∫´ÂÜÖÂ≠òÂú∞ÂùÄ‰∏ç‰∏ÄÊ†∑ 4.2.2 ÁÆ°ÈÅìÈÄö‰ø°Ôºà1ÔºâÊó†ÂêçÁÆ°ÈÅì ÂÆûÈ™åÊ∫êÁ†Å pipe.c: 12345678910111213141516171819#include &lt;stdio.h&gt;#include &lt;unistd.h&gt; //for pipe()#include &lt;string.h&gt; //for memset()#include &lt;stdlib.h&gt; //for exit()int main(){ int fd[2]; char buf[20]; if(-1 == pipe(fd)) { perror("pipe"); exit(EXIT_FAILURE); } write(fd[1], "hello,world", 12); memset(buf, '\0', sizeof(buf)); read(fd[0], buf, 12); printf("The message is: %s\n", buf); return 0;} Á®ãÂ∫èËß£Èáä ÈÄöËøápipeÂáΩÊï∞ÂàõÂª∫ÁÆ°ÈÅìÔºåÂáΩÊï∞‰º†ÈÄí‰∏Ä‰∏™Êï¥ÂΩ¢Êï∞ÁªÑfdÔºåfdÁöÑ‰∏§‰∏™Êï¥ÂΩ¢Êï∞Ë°®Á§∫ÁöÑÊòØ‰∏§‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶ÔºåÂÖ∂‰∏≠Á¨¨‰∏Ä‰∏™Áî®‰∫éËØªÂèñÊï∞ÊçÆÔºåÁ¨¨‰∫å‰∏™Áî®‰∫éÂÜôÊï∞ÊçÆ„ÄÇ‰∏§‰∏™ÊèèËø∞Á¨¶Áõ∏ÂΩìËøúÁÆ°ÈÅìÁöÑ‰∏§Á´ØÔºå‰∏ÄÊÆµË¥üË¥£ÂÜôÊï∞ÊçÆÔºå‰∏ÄÊÆµË¥üË¥£ËØªÊï∞ÊçÆ„ÄÇ pipeÁÆ°ÈÅìÊòØÂçäÂèåÂ∑•ÁöÑÂ∑•‰ΩúÊ®°ÂºèÔºåÊüê‰∏ÄÊó∂ÂàªÂè™ËÉΩËØªÊàñËÄÖÂè™ËÉΩÂÜô ËØªÂÜôÁÆ°ÈÅìÂ∞±ÂíåËØªÂÜôÊôÆÈÄöÊñá‰ª∂‰∏ÄÊ†∑Ôºå‰ΩøÁî®writeÂíåread ÂÆûÈ™åÁé∞Ë±° Êó†ÂêçÁÆ°ÈÅìÂêåÊ≠•Êú∫Âà∂È™åËØÅ ‰∏∫‰∫ÜÈ™åËØÅÊó†ÂêçÁÆ°ÈÅìÁöÑÂêåÊ≠•Êú∫Âà∂ÔºåÂú®‰∏äËø∞‰ª£Á†ÅÁöÑÂü∫Á°Ä‰∏äËøõË°å‰øÆÊîπÔºåÂæóÂà∞Â¶Ç‰∏ãÁöÑ‰ª£Á†Å pipe_2.c: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152#include &lt;stdio.h&gt;#include &lt;unistd.h&gt; //for pipe()#include &lt;string.h&gt; //for memset()#include &lt;stdlib.h&gt; //for exit()int main(){ int fd[2]; char buf[200]={0}; pid_t child; //ÂàõÂª∫ÁÆ°ÈÅì if(-1 == pipe(fd)) { perror("pipe"); exit(EXIT_FAILURE); } //ÂàõÂª∫Â≠êËøõÁ®ã child=fork(); if(child==-1) { perror("fork"); exit("EXIT_FAILURE"); } if(child==0) { //ÂÖ≥Èó≠Â≠êËøõÁ®ã‰∏≠‰∏çÈúÄË¶ÅÁöÑÂÜôÊèèËø∞Á¨¶ close(fd[1]); while(1) { if(read(fd[0],buf,sizeof(buf))&gt;0) printf("Â≠êËøõÁ®ãÊé•Êî∂ÁöÑÊ∂àÊÅØÊòØ:%s\n",buf); else printf("Â≠êËøõÁ®ã:ÁÆ°ÈÅì‰∏≠Ê≤°ÊúâÊï∞ÊçÆ\n"); sleep(2); if(strcmp(buf,"end")==0) break; memset(buf,0,sizeof(buf)); } } if(child&gt;0) { close(fd[0]); while(1) { printf("Áà∂ËøõÁ®ã‰∏≠-ËØ∑ËæìÂÖ•Ê∂àÊÅØ:"); scanf("%s",buf); write(fd[1],buf,strlen(buf)); if(strcmp(buf,"end")==0) break; } } return 0;} ÂØπ‰∫é‰∏äËø∞‰ª£Á†ÅÂÅöÂá∫Â¶Ç‰∏ãËß£ÈáäÔºöÁà∂ËøõÁ®ãÊòØÊ∂àÊÅØÁöÑÂèëÈÄÅËÄÖÔºåÂú®Áà∂ËøõÁ®ã‰∏≠ÂàõÂª∫‰∫Ü‰∏§‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶Ôºåfork‰∏Ä‰∏™Â≠êËøõÁ®ãÁöÑÊó∂ÂÄô‰ºöÂ§çÂà∂Ëøô‰∏§‰∏™ÁÆ°ÈÅìÊñá‰ª∂ÊèèËø∞Á¨¶ÔºåÂõ†Ê≠§Áà∂ËøõÁ®ãÂíåÂ≠êËøõÁ®ãÈÉΩ‰ºöÂ∞ÜËá™Â∑±ÁöÑÈÇ£‰∏™Áî®‰∏çÂà∞ÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶ÂÖ≥Èó≠„ÄÇÁà∂ËøõÁ®ã‰∏≠‰ºöÊåÅÁª≠ÂêëÁÆ°ÈÅì‰∏≠ÂÜôÂÖ•Áî®Êà∑ËæìÂÖ•ÁöÑÊ∂àÊÅØÔºåÂ≠êËøõÁ®ã‰ºö‰∏ÄÁõ¥ËæìÂá∫ÁÆ°ÈÅì‰∏≠ÁöÑÊ∂àÊÅØÔºåÂ¶ÇÊûúÁÆ°ÈÅì‰∏≠Ê≤°ÊúâÊ∂àÊÅØÂ∞±‰ºöÈòªÂ°ûÁ≠âÂæÖ„ÄÇ Êó†ÂêçÁÆ°ÈÅìÂêåÊ≠•Êú∫Âà∂ÂÆûÈ™åÁé∞Ë±° ÂèØ‰ª•ÁúãÂà∞ËæìÂá∫ËøõÁ®ãÊòØÊåâÁÖßËæìÂÖ•ËøõÁ®ãËæìÂÖ•ÁöÑÈ°∫Â∫èËæìÂá∫Êï∞ÊçÆÔºåÂπ∂‰∏îÂΩìËæìÂÖ•ËøõÁ®ãÊ≤°ÊúâÊï∞ÊçÆËæìÂÖ•ÔºåÂç≥ÁÆ°ÈÅì‰∏≠Ê≤°ÊúâÊï∞ÊçÆÁöÑÊó∂ÂÄôÔºåËæìÂá∫ËøõÁ®ã‰ºöÈòªÂ°û„ÄÇÂõ†Ê≠§Êó†ÂêçÁÆ°ÈÅìÈÄö‰ø°Á≥ªÁªüË∞ÉÁî®ÁöÑÊó∂ÂÄôÂ∑≤ÁªèyijingÂÆûÁé∞‰∫ÜÂêåÊ≠•Êú∫Âà∂ Êó†ÂêçÁÆ°ÈÅìÂêåÊ≠•Êú∫Âà∂ÂéüÁêÜ ÈÄöËøá‰∏äÈù¢ÁöÑÂÆûÈ™åÂíåÊü•ÈòÖÁõ∏ÂÖ≥ËµÑÊñôÔºåÂæóÂà∞Êó†ÂêçÁÆ°ÈÅìÂ¶Ç‰∏ãÁöÑÂêåÊ≠•Êú∫Âà∂Ôºö ÁÆ°ÈÅìÁöÑËØªÂÜôÈÄöËøá‰∏§‰∏™Á≥ªÁªüË∞ÉÁî®writeÂíåreadÂÆûÁé∞ ÂèëÈÄÅËÄÖÂú®ÂêëÁÆ°ÈÅìÂÜÖÂ≠ò‰∏≠ÂÜôÂÖ•Êï∞ÊçÆ‰πãÂâçÔºåÈ¶ñÂÖàÊ£ÄÊü•ÂÜÖÂ≠òÊòØÂê¶Ë¢´ËØªËøõÁ®ãÈîÅÂÆöÂíåÂÜÖÂ≠ò‰∏≠ÊòØÂê¶ËøòÊúâÂâ©‰ΩôÁ©∫Èó¥ÔºåÂ¶ÇÊûúËøô‰∏§‰∏™Ë¶ÅÊ±ÇÈÉΩÊª°Ë∂≥ÁöÑËØùwriteÂáΩÊï∞‰ºöÂØπÂÜÖÂ≠ò‰∏äÈîÅÔºåÁÑ∂ÂêéËøõË°åÂÜôÂÖ•Êï∞ÊçÆÔºåÂÜôÂÆå‰πãÂêéËß£ÈîÅÔºõÂê¶ÂàôÂ∞±‰ºöÁ≠âÂæÖ(ÈòªÂ°û)„ÄÇ ÂÜôËøõÁ®ãÂú®ËØªÂèñÁÆ°ÈÅì‰∏≠ÁöÑÊï∞ÊçÆ‰πãÂâçÔºå‰πü‰ºöÊ£ÄÊü•ÂÜÖÂ≠òÊòØÂê¶Ë¢´ËØªËøõÁ®ãÈîÅÂÆöÂíåÁÆ°ÈÅìÂÜÖÂ≠ò‰∏≠ÊòØÂê¶ÊúâÊï∞ÊçÆÔºåÂ¶ÇÊûúÊª°Ë∂≥Ëøô‰∏§‰∏™Êù°‰ª∂ÔºåreadÂáΩÊï∞‰ºöÂØπÂÜÖÂ≠ò‰∏äÈîÅÔºåËØªÂèñÊï∞ÊçÆÂêéÂú®Ëß£ÈîÅÔºõÂê¶Âàô‰ºöÁ≠âÂà∞(ÈòªÂ°û) Ôºà2ÔºâÊúâÂêçÁÆ°ÈÅì ÂÆûÈ™å‰ª£Á†Å ÊúâÂêçÁÆ°ÈÅìÂÆûÈ™å‰∏≠ËÆæËÆ°‰∏§‰∏™‰ª£Á†ÅÊñá‰ª∂fifo_send.cÂíåfifo_rcv.c fifo_send.c: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/stat.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;fcntl.h&gt;#define FIFO "./my_fifo"int main(){ char buf[] = "hello,world"; //1. check the fifo file existed or not int ret; ret = access(FIFO, F_OK); if(ret != 0) //file /tmp/my_fifo existed { if(-1 == mkfifo(FIFO, 0766)) { perror("mkfifo"); exit(EXIT_FAILURE); } } //3.Open the fifo file int fifo_fd; fifo_fd = open(FIFO, O_WRONLY); if(-1 == fifo_fd) { perror("open"); exit(EXIT_FAILURE); } //4. write the fifo file int num = 0; num = write(fifo_fd, buf, sizeof(buf)); if(num &lt; sizeof(buf)) { perror("write"); exit(EXIT_FAILURE); } printf("write the message ok!\n"); close(fifo_fd); return 0;} fifo_rcv.c: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/* *File: fifo_rcv.c */ #include &lt;stdio.h&gt;#include &lt;string.h&gt;#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/stat.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;fcntl.h&gt;#define FIFO "./my_fifo"int main(){ char buf[20] ; memset(buf, '\0', sizeof(buf)); //`. check the fifo file existed or not int ret; ret = access(FIFO, F_OK); if(ret != 0) //file /tmp/my_fifo existed { if(-1==mkfifo(FIFO,0766)) { perror("mkfifo"); exit("EXIT_FAILURE"); } }// 2.Open the fifo file int fifo_fd; fifo_fd = open(FIFO, O_RDONLY); if(-1 == fifo_fd) { perror("open"); exit(EXIT_FAILURE); } //4. read the fifo file int num = 0; num = read(fifo_fd, buf, sizeof(buf)); printf("Read %d words: %s\n", num, buf); close(fifo_fd); return 0;} Á®ãÂ∫èËß£Èáä ÂÜôËøõÁ®ãfifo_sendÂàÜ‰∏∫Âõõ‰∏™Ê≠•È™§ÊâßË°åÔºåÈ¶ñÂÖàÂà§Êñ≠ÂΩìÂâçÁõÆÂΩï‰∏ãÊòØÂê¶Â∑≤ÁªèÂ≠òÂú®my_fifoÊñá‰ª∂Ôºå‰∏çÂ≠òÂú®ÁöÑËØùÂú®ÂΩìÂâçÁõÆÂΩï‰∏ãÈÄöËøámkfifo()ÂáΩÊï∞ÂàõÂª∫FIFOÁ±ªÂûãÁöÑÊñá‰ª∂my_fifoÔºõÂÜçÈÄöËøáopen()ÂáΩÊï∞ÊâìÂºÄmy_fifoÊñá‰ª∂ÔºåÊúÄÂêéÂêëÊñá‰ª∂‰∏≠ÂÜôÂÖ•Ê∂àÊÅØÔºõ ËØªËøõÁ®ãÁöÑËøáÁ®ãÂíåÂÜôËøõÁ®ãÁöÑÁ±ª‰ººÔºåÂè™Ê≤°Êúâ‰∫ÜÂàõÂª∫fifoÊñá‰ª∂ÁöÑËøáÁ®ãËÄåÂ∑≤ ÂÆûÈ™åÁé∞Ë±° Áé∞Ë±°ÊèèËø∞ÔºöÂú®‰ªÖ‰ªÖÂè™ËøêË°åfifo_sendËøõÁ®ãÁöÑÊó∂ÂÄôÔºåÊ≤°Êúâ‰ªª‰ΩïËæìÂá∫ÔºåËøõÁ®ã‰∏ÄÁõ¥ÈòªÂ°ûÔºåÁõ¥Âà∞fifo_rcvËøõÁ®ãËøêË°åÔºå‰∏§‰∏™ËøõÁ®ãÊâçÂºÄÂßãËæìÂá∫‰ø°ÊÅØ„ÄÇ ÂΩìÂÜôËøõÁ®ãÂíåËØªËøõÁ®ãÈÉΩËÆæÁΩÆÊàêÈòªÂ°ûÁä∂ÊÄÅÁöÑÊó∂ÂÄôÔºå‰∏çËÆ∫ÂÖàÊâßË°åÈÇ£‰∏™ËøõÁ®ãÔºåÂÖàÊâßË°åÁöÑËøõÁ®ãÈÉΩ‰ºöÈòªÂ°ûÁ≠âÂæÖÔºåÂæÖÂè¶‰∏Ä‰∏™ËøõÁ®ãÊâßË°åÂêé‰∏§‰∏™ËøõÁ®ãÊâçÊ≠£Â∏∏ÊâßË°å„ÄÇ Êé¢Á©∂ÊúâÂêçÁÆ°ÈÅìÁöÑÂêåÊ≠•ÂíåÈòªÂ°ûÊú∫Âà∂ ÈÄöËøáfifo_fd=open(FIFO,O_RDONLY | O_NONBLOCK)ËÆæÁΩÆ‰∏∫ÈùûÈòªÂ°ûÁä∂ÊÄÅÔºåfifo_fd=open(FIFO,O_RDONLY)ËÆæÁΩÆ‰∏∫ÈòªÂ°ûÁä∂ÊÄÅÔºåÂØπÂ∫îÂõõ‰∏™ËøõÁ®ãÂàÜÂà´‰∏∫fifo_send(ÈòªÂ°û)„ÄÅfifo_rcv(ÈòªÂ°û)„ÄÅfifo_send_1(ÈùûÈòªÂ°û)„ÄÅfifo_rcv_1(ÈùûÈòªÂ°û) ËØªËøõÁ®ãÈòªÂ°û„ÄÅÂÜôËøõÁ®ãÈòªÂ°û ÂÖàÊâßË°åfifo_sendÂêéÊâßË°åfifo_rcvÔºåÁªìÊûúÊ≠£Á°Æ Êà™ÂõæËØ∑ËßÅ‰∏äÈù¢ÁöÑÂÆûÈ™åÁé∞Ë±° ÂÖàÊâßË°åfifo_rcvÂêéÊâßË°åfifo_sendÔºåÁªìÊûúÊ≠£Á°Æ ÂÖ∑‰ΩìÁöÑÂéüÂõ†ÊòØËØªËøõÁ®ãÂú®open FIFOÁöÑÊó∂ÂÄôÁî±‰∫éÊ≤°Êúâs ÈÄöËøáÊü•ÈòÖËµÑÊñôÂæóÂà∞‰∫ÜFIFOÁÆ°ÈÅìÁöÑÈòªÂ°ûÊú∫Âà∂Â¶Ç‰∏ãÔºö ÂØπ‰∫éËÆæÁΩÆ‰∫ÜÈòªÂ°ûÁöÑËØªËøõÁ®ãËÄåË®ÄÔºö ËØªËøõÁ®ãÈòªÂ°ûÁöÑÂéüÂõ†Êúâ‰∏âÁßçÔºöFIFO ‰∏≠Ê≤°ÊúâÊï∞ÊçÆ„ÄÅÊúâÂÖ∂‰ªñÁöÑËØªËøõÁ®ãÊ≠£Âú®ËØªÂèñËøô‰∫õÊï∞ÊçÆ„ÄÅÊ≤°ÊúâÂÜôËøõÁ®ãÊâìÂºÄFIFOÊñá‰ª∂ ‰∏çËÆ∫ÊòØÂì™ÁßçÂéüÂõ†ÂºïËµ∑ÁöÑÈòªÂ°ûÔºåËß£ÂºÄÈòªÂ°ûÁöÑÂéüÂõ†ÈÉΩÊòØFIFOÊúâÊñ∞ÁöÑÊï∞ÊçÆÂÜôÂÖ• Â¶ÇÊûú‰∏Ä‰∏™ËØªËøõÁ®ãÊúâÂ§ö‰∏™readÊìç‰ΩúÔºåÈÇ£‰πàÂè™‰ºöÈòªÂ°ûÁ¨¨‰∏Ä‰∏™readÔºåÂÖ∂‰ªñÁöÑ‰∏ç‰ºöÂèëÁîüÈòªÂ°û ÂØπ‰∫éËÆæÁΩÆ‰∫ÜÈòªÂ°ûÁöÑÂÜôËøõÁ®ãËÄåË®ÄÔºö ÂΩìÂÜôÂÖ•ÁöÑÊï∞ÊçÆÈáèÂ∞è‰∫éPIPE_BUFÊó∂ÔºåLinux‰øùËØÅÂÜôÂÖ•ÂéüÂ≠êÊÄß„ÄÇÂ¶ÇÊûúÊ≠§Êó∂ÁÆ°ÈÅì‰∏≠ÁöÑÁ©∫Èó≤‰ΩçÁΩÆ‰∏çË∂≥‰ª•ÂÆπÁ∫≥Ë¶ÅÂÜôÂÖ•ÁöÑÊï∞ÊçÆÔºåÊ≥ΩÂÜôËøõÁ®ãÈòªÂ°ûÔºåÁõ¥Âà∞ÁÆ°ÈÅì‰∏≠Á©∫Èó¥Ë∂≥Â§üÔºå‰∏ÄÊ¨°ÊÄßÂÜôÂÖ•ÊâÄÊúâÊï∞ÊçÆ ÂΩìÂÜôÂÖ•ÁöÑÊï∞ÊçÆÈáèÂ§ß‰∫éPIPE_BUFÊó∂ÔºåLinux‰∏çÂÜç‰øùËØÅÂÜôÂÖ•ÁöÑÂéüÂ≠êÊÄß„ÄÇ‰∏ÄÊó¶ÁÆ°ÈÅì‰∏≠ÊúâÁ©∫Èó≤‰ΩçÁΩÆ‰æøÂ∞ùËØïÂÜôÂÖ•Êï∞ÊçÆÔºåÁõ¥Âà∞ÊâÄÊúâÊï∞ÊçÆÂÜôÂÖ•ÂÆåÊàêÂêéËøîÂõû„ÄÇ ËØªËøõÁ®ãÈòªÂ°ûÔºåÂÜôËøõÁ®ãÈùûÈòªÂ°û ÂÖàÊâßË°åfifo_send_1ÂêéÊâßË°åfifo_rcvÔºåÂÜôËøõÁ®ãopenÂáΩÊï∞ËøîÂõû-1 ÂÖàÊâßË°åfifo_rcvÂêéÊâßË°åfifo_send_1ÔºåÁªìÊûúÊ≠£Â∏∏ ËØªËøõÁ®ãÈùûÈòªÂ°ûÔºåÂÜôËøõÁ®ãÈòªÂ°û ÂÖàÊâßË°åfifo_sendÂêéÊâßË°åfifo_rcv_1,ÁªìÊûúÊ≠£Â∏∏ ÂÖàÊâßË°åfifo_rcv_1ÂêéÊâßË°åfifo_sendÔºåÁ®ãÂ∫èÂ¥©Ê∫É ËØªÂÜôËøõÁ®ãÈÉΩÊòØÈùûÈòªÂ°û ÂÖàÊâßË°åfifo_send_1ÂêéÊâßË°åfifo_rcv_1 ÂÖàÊâßË°åfifo_rcv_1ÂêéÊâßË°åfifo_send_1 4.2.3 Ê∂àÊÅØÈòüÂàó ÂÆûÈ™å‰ª£Á†Å Êú¨ÂÆûÈ™å‰ª£Á†ÅÊñá‰ª∂ÂàÜ‰∏∫Server.cÂíåClient.c‰∏§‰∏™ Server.c: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/types.h&gt;#include &lt;sys/msg.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;signal.h&gt;#define BUF_SIZE 128//Rebuild the strcut (must be)struct msgbuf{ long mtype; char mtext[BUF_SIZE];};int main(int argc, char *argv[]){ //1. creat a mseg queue key_t key; int msgId; key = ftok(".", 0xFF); msgId = msgget(key, IPC_CREAT|0644); if(-1 == msgId) { perror("msgget"); exit(EXIT_FAILURE); } printf("Process (%s) is started, pid=%d\n", argv[0], getpid()); while(1) { alarm(0); alarm(600); //if doesn't receive messge in 600s, timeout &amp; exit struct msgbuf rcvBuf; memset(&amp;rcvBuf, '\0', sizeof(struct msgbuf)); msgrcv(msgId, &amp;rcvBuf, BUF_SIZE, 1, 0); printf("Receive msg: %s\n", rcvBuf.mtext); struct msgbuf sndBuf; memset(&amp;sndBuf, '\0', sizeof(sndBuf)); strncpy((sndBuf.mtext), (rcvBuf.mtext), strlen(rcvBuf.mtext)+1); sndBuf.mtype = 2; if(-1 == msgsnd(msgId, &amp;sndBuf, strlen(rcvBuf.mtext)+1, 0)) { perror("msgsnd"); exit(EXIT_FAILURE); } //if scanf "end~", exit if(!strcmp("end~", rcvBuf.mtext)) break; } printf("THe process(%s),pid=%d exit~\n", argv[0], getpid()); return 0;} Client.c: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/types.h&gt;#include &lt;sys/msg.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;signal.h&gt;#define BUF_SIZE 128//Rebuild the strcut (must be)struct msgbuf{ long mtype; char mtext[BUF_SIZE];};int main(int argc, char *argv[]){ //1. creat a mseg queue key_t key; int msgId; printf("THe process(%s),pid=%d started~\n", argv[0], getpid()); key = ftok(".", 0xFF); msgId = msgget(key, IPC_CREAT|0644); if(-1 == msgId) { perror("msgget"); exit(EXIT_FAILURE); } //2. creat a sub process, wait the server message pid_t pid; if(-1 == (pid = fork())) { perror("vfork"); exit(EXIT_FAILURE); } //In child process if(0 == pid) { while(1) { alarm(0); alarm(100); //if doesn't receive messge in 100s, timeout &amp; exit struct msgbuf rcvBuf; memset(&amp;rcvBuf, '\0', sizeof(struct msgbuf)); msgrcv(msgId, &amp;rcvBuf, BUF_SIZE, 2, 0); printf("Server said: %s\n", rcvBuf.mtext); } exit(EXIT_SUCCESS); } else //parent process { while(1) { usleep(100); struct msgbuf sndBuf; memset(&amp;sndBuf, '\0', sizeof(sndBuf)); char buf[BUF_SIZE] ; memset(buf, '\0', sizeof(buf)); printf("\nInput snd mesg: "); scanf("%s", buf); strncpy(sndBuf.mtext, buf, strlen(buf)+1); sndBuf.mtype = 1; if(-1 == msgsnd(msgId, &amp;sndBuf, strlen(buf)+1, 0)) { perror("msgsnd"); exit(EXIT_FAILURE); } //if scanf "end~", exit if(!strcmp("end~", buf)) break; } printf("THe process(%s),pid=%d exit~\n", argv[0], getpid()); } return 0;} Á®ãÂ∫èËß£Èáä Á®ãÂ∫èÂàÜ‰∏∫ÊúçÂä°Âô®Á´ØÂíåÂÆ¢Êà∑Á´ØÔºåÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®ÂèëËµ∑ÈÄö‰ø°ÔºåÊúçÂä°Âô®Á´ØÊî∂Âà∞Êï∞ÊçÆÂêéÂ∞Ü‰∏ÄÊ®°‰∏ÄÊ†∑ÁöÑÊï∞ÊçÆËøîÂõû ÈÄöËøámgsrcvÂáΩÊï∞ËØªÂèñÂÆ¢Êà∑Á´Ø‰º†ËøáÊù•ÁöÑÊ∂àÊÅØÔºåmsgrcvÁöÑÂèÇÊï∞ÂàóË°®ËßÅ‰∏ãÈù¢„ÄÇ int msgrcv(int msqid, void *ptr, size_t length, long type, int flag); | ÂèÇÊï∞ | msgid | ptr | length | type | flag || :‚Äî: | :‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî: | :‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî: | :‚Äî‚Äî‚Äî‚Äî‚Äî: | :‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî: | :‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî: || Âê´‰πâ | Ê∂àÊÅØÈòüÂàóÊ†áËØÜÁ¨¶ | Ê∂àÊÅØÁºìÂÜ≤Âå∫ÊåáÈíà | Ê∂àÊÅØÊï∞ÊçÆÈïøÂ∫¶ | ÂÜ≥ÂÆö‰ªéÈòüÂàó‰∏≠ËøîÂõûÈÇ£‰∏ÄÊù°‰∏ãÊ∂àÊÅØ | ÈòªÂ°û‰∏éÂê¶ || Â§áÊ≥® | | | | =0 ËøîÂõûÊ∂àÊÅØÈòüÂàó‰∏≠Á¨¨‰∏ÄÊù°Ê∂àÊÅØ&gt;0 ËøîÂõûÊ∂àÊÅØÈòüÂàó‰∏≠Á≠â‰∫émtype Á±ªÂûãÁöÑÁ¨¨‰∏ÄÊù°Ê∂àÊÅØ„ÄÇ&lt;0 ËøîÂõûmtype&lt;=type ÁªùÂØπÂÄºÊúÄÂ∞èÂÄºÁöÑÁ¨¨‰∏ÄÊù°Ê∂àÊÅØ„ÄÇ | msgflg ‰∏∫ÔºêË°®Á§∫ÈòªÂ°ûÊñπÂºèÔºåËÆæÁΩÆIPC_NOWAIT Ë°®Á§∫ÈùûÈòªÂ°ûÊñπÂºè | ÈÄöËøámsgsndÂáΩÊï∞ÂêëÊ∂àÊÅØÈòüÂàó‰∏≠Âä†ÂÖ•Ê∂àÊÅØÔºåmsgsndÁöÑÂèÇÊï∞ÂàóË°®ËßÅ‰∏ãÈù¢„ÄÇ int msgsnd(int msqid, const void *ptr, size_t length, int flag); | ÂèÇÊï∞ | msgid | ptr | length | flag || :‚Äî: | :‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî: | :‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî: | :‚Äî‚Äî‚Äî‚Äî‚Äî: | :‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî: || Âê´‰πâ | Ê∂àÊÅØÈòüÂàóÊ†áËØÜÁ¨¶ | Ê∂àÊÅØÁºìÂÜ≤Âå∫ÊåáÈíà | Ê∂àÊÅØÊï∞ÊçÆÈïøÂ∫¶ | ÈòªÂ°û‰∏éÂê¶ || Â§áÊ≥® | | | | msgflg ‰∏∫ÔºêË°®Á§∫ÈòªÂ°ûÊñπÂºèÔºåËÆæÁΩÆIPC_NOWAIT Ë°®Á§∫ÈùûÈòªÂ°ûÊñπÂºè | ÂÆ¢Êà∑Á´ØÁöÑÂ≠êËøõÁ®ã‰∏ªË¶ÅË¥üË¥£Ê∂àÊÅØÁöÑÊé•ÂèóÔºåÁà∂ËøõÁ®ã‰∏ªË¶ÅË¥üË¥£Ê∂àÊÅØÁöÑÂèëÈÄÅÔºõ ÈÄöËøáÂàÜÊûê‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂèØ‰ª•Áü•ÈÅìÔºåÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®Á´ØÈÉΩÊòØ‰ª•ÈòªÂ°ûÁöÑÊñπÂºèËØªÂèñÂíåÂÜôÂÖ•Ê∂àÊÅØ Á®ãÂ∫èËøêË°åÁªìÊûú Êé¢Á©∂Ê∂àÊÅØÈòüÂàóÁöÑÂêåÊ≠•ÂíåÈòªÂ°ûÊú∫Âà∂ ÈÄöËøá‰∏äÈù¢ÁöÑÁ®ãÂ∫èËß£Èáä‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÊ∂àÊÅØÈòüÂàóÈÄöËøámsgrcvÂíåmsgsnd‰∏§‰∏™ÂáΩÊï∞ÁöÑflagÂèÇÊï∞ÊéßÂà∂ÊòØÂê¶ÈòªÂ°ûÔºåÂ∞ÜÂÖ∂ËÆæÁΩÆ‰∏∫IPC_NOWAITË°®Á§∫‰∏çÈòªÂ°ûÔºõÂ¶ÇÊûúÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®Á´ØÈÉΩËÆæÁΩÆÈòªÂ°ûËØùÔºåÂ∞±ÂèØ‰ª•ËææÂà∞ÂêåÊ≠•ÁöÑÁõÆÁöÑ Áé∞Âú®ÂÅöÂá∫Â¶Ç‰∏ãÊé¢Á©∂Ôºö ÂÆ¢ÊúçÁ´Ø‰∏çÈòªÂ°û(‰ª£Á†Å‰∏∫Client_1.c),ÊúçÂä°Âô®Á´ØÈòªÂ°ûÔºåÂæóÂà∞ÁªìÊûúÂ¶Ç‰∏ã„ÄÇ ÂèØ‰ª•ÁúãÂà∞ÂΩìÂÆ¢Êà∑Á´Ø‰∏çÈòªÂ°ûÁöÑËØùÂú®ÂÆ¢Êà∑Á´ØÊé•ÂèóÊúçÂä°Âô®Á´ØÊ∂àÊÅØÁöÑÊó∂ÂÄô‰ºöÊó†ÈôêÂà∂ÁöÑÊâìÂç∞Ê∂àÊÅØÈòüÂàó‰∏≠ÁöÑÁ©∫Ê∂àÊÅØÔºåÂì™ÊÄïÊ∂àÊÅØÈòüÂàó‰∏≠Ê≤°Êúâ‰ªª‰ΩïÊ∂àÊÅØ ÂÆ¢Êà∑Á´ØÈòªÂ°ûÔºåÊúçÂä°Âô®Á´Ø‰∏çÈòªÂ°û(‰ª£Á†Å‰∏∫Server_1.c) ÂèØ‰ª•ÁúãÂà∞ÂΩìÊúçÂä°Âô®Á´ØÊ≤°ÊúâËÆæÁΩÆÈòªÂ°ûÁöÑÊó∂ÂÄôÔºåÊúçÂä°Âô®Á´Ø‰ºö‰∏ÄÁõ¥Êé•ÂèóÊ∂àÊÅØÈòüÂàó‰∏≠ÁöÑÁ©∫Ê∂àÊÅØÂπ∂ÂêëÂÆ¢Êà∑Á´ØËΩ¨Âèë„ÄÇ Task 5 Êú¨ÂÆûÈ™åÂàÜÊûêËøõÁ®ã‰∏ä‰∏ãÊñáÂàáÊç¢ÁöÑ‰ª£Á†ÅÔºåËØ¥ÊòéÂÆûÁé∞ÁöÑ‰øùÂ≠òÂíåÊÅ¢Â§çÁöÑ‰∏ä‰∏ãÊñáÂÜÖÂÆπ‰ª•ÂèäËøõÁ®ãÂàáÊç¢ÁöÑÂ∑•‰ΩúÊµÅÁ®ã„ÄÇ Êàë‰ª¨È¶ñÂÖà‰ªédevices/timer.cÊñá‰ª∂‰∏≠ÁöÑtimer_sleepÂáΩÊï∞ÂºÄÂßã ÂàÜÊûêÔºå‰∏ãÈù¢ÊòØËØ•ÂáΩÊï∞ÁöÑÂÖ∑‰Ωì‰ª£Á†ÅÔºö 123456789/* Sleeps for approximately TICKS timer ticks. Interrupts must be turned on. */void timer_sleep (int64_t ticks) { int64_t start = timer_ticks (); ASSERT (intr_get_level () == INTR_ON); while (timer_elapsed (start) &lt; ticks) thread_yield ();} ‰∏ãÈù¢ÂºÄÂßãÈÄêË°åÂàÜÊûêËøô‰∏™ÂáΩÊï∞ÔºåÁ¨¨5Ë°åÁöÑtimer_ticksÂáΩÊï∞‰πüÂú®timer.cÊñá‰ª∂‰∏≠ÔºåË∑≥ËΩ¨Âà∞ËØ•ÂáΩÊï∞‰∏≠Ôºö 12345678/* Returns the number of timer ticks since the OS booted. */int64_t timer_ticks (void) { enum intr_level old_level = intr_disable (); int64_t t = ticks; intr_set_level (old_level); return t;} timer_ticksÂáΩÊï∞‰∏≠Á¨¨4Ë°åÊ∂âÂèä‰∏Ä‰∏™Âêç‰∏∫intr_disable()ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞ÁöÑÂÖ∑‰ΩìÂÆö‰πâÂú®devices/interrupt.cÊñá‰ª∂‰∏≠„ÄÇ 1234567891011/* Disables interrupts and returns the previous interrupt status. */enum intr_level intr_disable (void) { enum intr_level old_level = intr_get_level (); /* Disable interrupts by clearing the interrupt flag. See [IA32-v2b] "CLI" and [IA32-v3a] 5.8.1 "Masking Maskable Hardware Interrupts". */ asm volatile ("cli" : : : "memory"); return old_level;} Âú®ÁúãÁúãËøîÂõûÂÄºintr_levelÊòØ‰∏™‰ªÄ‰πàÁªìÊûÑ,‰ª£Á†ÅÂú®devices/interrupt.h‰∏≠Ôºö 123456/* Interrupts on or off? */enum intr_level { INTR_OFF, /* Interrupts disabled. */ INTR_ON /* Interrupts enabled. */ }; ÂèØ‰ª•ÂèëÁé∞Ôºåintr_levelËøô‰∏™Êûö‰∏æÁ±ªÂûãË°®Á§∫ÁöÑÊòØÊòØÂê¶ÂÖÅËÆ∏‰∏≠Êñ≠„ÄÇ‰∫éÊòØÂàÜÊûêÂæóÂà∞intr_disableÂáΩÊï∞ÂÅö‰∫Ü‰∏§‰ª∂‰∫ã„ÄÇ1. Ë∞ÉÁî®intr_old_levelÂáΩÊï∞ 2. Áõ¥Êé•ÊâßË°åÊ±áÁºñ‰ª£Á†Å‰øùËØÅËøô‰∏™Á∫øÁ®ã‰∏çËÉΩË¢´‰∏≠Êñ≠„ÄÇ‰πãÂêéËøîÂõûË∞ÉÁî®intr_old_levelÂáΩÊï∞ÁöÑËøîÂõûÂÄº„ÄÇ ÂÜçÁúãÁúãintr_get_levelÂáΩÊï∞ÁöÑÂÆûÁé∞ÁªÜËäÇÔºåËØ•ÂáΩÊï∞ÁöÑÂÆö‰πâ‰πüÂú®devices/interrupt.cÊñá‰ª∂‰∏≠ 1234567891011/* Returns the current interrupt status. */enum intr_level intr_get_level (void) { uint32_t flags; /* Push the flags register on the processor stack, then pop the value off the stack into `flags'. See [IA32-v2b] "PUSHF" and "POP" and [IA32-v3a] 5.8.1 "Masking Maskable Hardware Interrupts". */ asm volatile ("pushfl; popl %0" : "=g" (flags)); return flags &amp; FLAG_IF ? INTR_ON : INTR_OFF;} ÈÄöËøáÊ≥®Èáä‰ø°ÊÅØÂíåÂàÜÊûêÊ±áÁºñ‰ª£Á†ÅÂèØ‰ª•Áü•ÈÅìÔºåintr_get_levelËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØËøîÂõûÂΩìÂâçÁöÑ‰∏≠Êñ≠Áä∂ÊÄÅ„ÄÇintr_get_levelÂáΩÊï∞ÂºÑÊ∏ÖÊ•ö‰∫Ü‰πãÂêéÔºåËøîÂõû‰∏ä‰∏ÄÂ±ÇÂáΩÊï∞‰∏≠ÔºåÂà∞‰∫Üintr_disableÂáΩÊï∞‰∏≠ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Ê∏ÖÊ•öÁöÑÁü•ÈÅìintr_disableÂáΩÊï∞ÁöÑ‰ΩúÁî®Ôºö Ëé∑ÂèñÂΩìÂâç‰∏≠Êñ≠Áä∂ÊÄÅ Â∞ÜÂΩìÂâç‰∏≠Êñ≠Áä∂ÊÄÅÊõ¥Êîπ‰∏∫‰∏çÂèØ‰∏≠Êñ≠ ËøîÂõûÂÖàÂâçÁöÑ‰∏≠Êñ≠Áä∂ÊÄÅ ÂºÑÊ∏ÖÊ•ö‰∫Üintr_disableÂáΩÊï∞ÔºåÊé•ÁùÄÁúãtimer_ticksÂáΩÊï∞ÁöÑ5„ÄÅ6„ÄÅ7Ë°å Á¨¨5Ë°åÈÄöËøá‰∏Ä‰∏™int64_tÁ±ªÂûãÁöÑÂèòÈáètËé∑ÂèñÂÖ®Â±ÄÂèòÈáèticksÁöÑÂÄºÔºõ Á¨¨6Ë°åintr_set_level(old_level)Ë°®Á§∫Â∞ÜÂΩìÂâç‰∏≠Êñ≠Áä∂ÊÄÅËÆæÁΩÆ‰∏∫‰πãÂâçÁöÑ‰∏≠Êñ≠Áä∂ÊÄÅ„ÄÇ Á¨¨7Ë°åËøîÂõût ËøôÊ†∑ÔºåÂáΩÊï∞timer_ticksÁöÑÂê´‰πâ‰πüÂ∞±ÂºÑÊ∏ÖÊ•ö‰∫Ü„ÄÇÂÖ∂ÂÆûtimer_ticksÂáΩÊï∞ÁöÑ‰ΩúÁî®ÂæàÁÆÄÂçïÔºåÂ∞±ÊòØÊÉ≥Ëé∑ÂèñÂΩìÂâçÁ≥ªÁªüÁöÑticksÂÄºËÄåÂ∑≤ÔºåËÄå‰∏äÈù¢ÈÄöËøáËøô‰πàÂ§ßÁØáÂπÖÁöÑ‰ªãÁªçtimer_ticksÂáΩÊï∞ÁöÑ4„ÄÅ6‰∏§Ë°åÁöÑ‰ΩúÁî®ÔºåÂéüÂõ†ÊòØÁ¨¨4Ë°åÂíåÁ¨¨6Ë°åÈÄöËøáÂÖàÂÖ≥Èó≠‰∏≠Êñ≠ÔºåÂæÖtËé∑ÂèñÂà∞ticksÂÄº‰πãÂêéËΩΩÊÅ¢Â§ç‰πãÂâçÁöÑ‰∏≠Êñ≠Áä∂ÊÄÅÔºåÊù•‰øùËØÅÊìç‰ΩúÁöÑÂéüÂ≠êÊÄßÔºåÁÆÄÂçïÁöÑËØ¥Â∞±ÊòØÂú®tËé∑ÂèñÂÖ®Â±ÄÂèòÈáèticksÁöÑÂÄºÁöÑÊó∂ÂÄôÔºå‰∏çËÉΩË¢´ÊâìÊñ≠„ÄÇ ÁÑ∂ÂêéÊé•ÁùÄÂàÜÊûêtimer_sleepÂáΩÊï∞ÁöÑÁ¨¨6Ë°åASSERT (intr_get_level () == INTR_ON);ËøôÈáåÊòØ‰∏Ä‰∏™Êñ≠Ë®ÄÔºåÂΩìintr_get_lvelÂáΩÊï∞Ëé∑ÂèñÁöÑÂΩìÂâç‰∏≠Êñ≠Áä∂ÊÄÅ‰∏çÊòØINTR_ONÁöÑÊó∂ÂÄôÂèëÁîüË≠¶Âëä‰∏îÈÄÄÂá∫„ÄÇ timer_sleepÂáΩÊï∞Ââ©‰∏ãÁöÑÂ∞±ÊòØ‰∏Ä‰∏™Âæ™ÁéØ‰∫ÜÔºö 12while (timer_elapsed (start) &lt; ticks) thread_yield (); ÈÄöËøáÂàÜÊûê‰∏çÈöæÂæóÂá∫timer_elapsed()ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØËÆ°ÁÆóÂΩìÂâçÁöÑÁ≥ªÁªüticksÂáèÂéª‰πãÂâçÂæóÂà∞ÁöÑstartÁöÑÂ∑ÆÂÄºÔºåÂ¶ÇÊûúËøô‰∏™Â∑ÆÂÄºÂ∞è‰∫éÂáΩÊï∞ÂèÇÊï∞ticksÁöÑËØù‰∏ÄÁõ¥ÊâßË°åthread_yield()ÂáΩÊï∞„ÄÇ ÂÜçÁúãÁúãthread_yieldÂáΩÊï∞ÁöÑÂÖ∑‰ΩìÂÆö‰πâÔºàÂú®thread/thread.cÊñá‰ª∂‰∏≠ÔºâÔºåÂàÜÊûê‰∏Ä‰∏ãËØ•ÂáΩÊï∞ÁöÑ‰ΩúÁî®Ôºö 1234567891011121314/* Yields the CPU. The current thread is not put to sleep and may be scheduled again immediately at the scheduler's whim. */void thread_yield (void) { struct thread *cur = thread_current (); enum intr_level old_level; ASSERT (!intr_context ()); old_level = intr_disable (); if (cur != idle_thread) list_push_back (&amp;ready_list, &amp;cur-&gt;elem); cur-&gt;status = THREAD_READY; schedule (); intr_set_level (old_level);} thread_yieldÂáΩÊï∞Á¨¨5Ë°åÈ°æÂêçÊÄù‰πâÔºå‰ΩúÁî®Â∞±ÊòØËøîÂõûÂΩìÂâçÊ≠£Âú®ËøêË°åÁöÑÁ∫øÁ®ãÔºåÈÄöËøá‰∏Ä‰∏™threadÁ±ªÂûãÁöÑÁªìÊûÑ‰ΩìÊåáÈíàÊé•ÂèóËØ•ÂáΩÊï∞ËøîÂõûÂÄº„ÄÇ thread_yieldÂáΩÊï∞ÁöÑÁ¨¨7Ë°åÈÄöËøáÊñ≠Ë®ÄÁöÑÊñπÂºèÂà§Êñ≠‰∏≠Êñ≠Á±ªÂûãÔºåÂ¶ÇÊûúÊòØÁî±‰∫éI/OÁ≠âÂºïËµ∑ÁöÑÁ°¨‰∏≠Êñ≠ÂàôÈÄÄÂá∫ÔºåÂ¶ÇÊûúÊòØËΩØ‰∏≠Êñ≠ÁöÑËØùÊ≠£Â∏∏ËøêË°å„ÄÇ ÂÜçÁúãÁ¨¨8Ë°åÂíåÁ¨¨13Ë°åÁöÑ‰πãÂâç‰πüÂàÜÊûêËøáÔºåËøôÊòØ‰øùËØÅ9-12Ë°åÊìç‰ΩúÁöÑÂéüÂ≠êÊÄß„ÄÇ ÂÜçÂàÜÊûê9-12Ë°åÔºö 9-10Ë°åÔºöÂ¶Ç‰ΩïÂΩìÂâçÁ∫øÁ®ã‰∏çÊòØÁ©∫Èó≤ÁöÑÁ∫øÁ®ãÂ∞±Ë∞ÉÁî®list_push_backÊääÂΩìÂâçÁ∫øÁ®ãÁöÑÂÖÉÁ¥†ÊâîÂà∞Â∞±Áª™ÈòüÂàóÈáåÈù¢Ôºå 11Ë°åÔºöÊääÁ∫øÁ®ãÊîπÊàêTHREAD_READYÁä∂ÊÄÅ 12Ë°åÔºöË∞ÉÁî®scheduleÂáΩÊï∞ ÂÜçÊ∑±ÂÖ•scheduleÂáΩÊï∞(thread/thread.cÊñá‰ª∂)ÁúãÁúã 1234567891011121314151617181920/* Schedules a new process. At entry, interrupts must be off and the running process's state must have been changed from running to some other state. This function finds another thread to run and switches to it. It's not safe to call printf() until thread_schedule_tail() has completed. */static void schedule (void) { struct thread *cur = running_thread (); struct thread *next = next_thread_to_run (); struct thread *prev = NULL; ASSERT (intr_get_level () == INTR_OFF); ASSERT (cur-&gt;status != THREAD_RUNNING); ASSERT (is_thread (next)); if (cur != next) prev = switch_threads (cur, next); thread_schedule_tail (prev);} scheduleÂáΩÊï∞È¶ñÂÖàËé∑ÂèñÂΩìÂâçÊ≠£Âú®ËøêË°åÁöÑÁ∫øÁ®ãÊåáÈíàcurÂíå‰∏ã‰∏Ä‰∏™ËøêË°åÁöÑÁ∫øÁ®ãnextÔºå‰πãÂêéÊòØ‰∏â‰∏™Êñ≠Ë®Ä„ÄÇ ASSERT (intr_get_level () == INTR_OFF)Ôºö‰øùËØÅ‰∏≠Êñ≠Áä∂ÊÄÅÊòØÂºÄÂêØÁöÑ ASSERT (cur-&gt;status != THREAD_RUNNING)Ôºö‰øùËØÅÂΩìÂâçËøêË°åÁöÑÁ∫øÁ®ãÊòØRUNNING_THREADÁöÑ ASSERT (is_thread (next))Ôºö‰øùËØÅ‰∏ã‰∏Ä‰∏™Á∫øÁ®ãÊúâÊïà 17-18Ë°åÁöÑ‰ΩúÁî®ÊòØÔºöÂ¶ÇÊûúÂΩìÂâçÁ∫øÁ®ãÂíå‰∏ã‰∏Ä‰∏™Ë¶ÅË∑ëÁöÑÁ∫øÁ®ã‰∏çÊòØÂêå‰∏Ä‰∏™ÁöÑËØùË∞ÉÁî®switch_threadsËøîÂõûÁªôprev ‰∏ãÈù¢ÂÜçÁúãÁúãswitch_threadsÂáΩÊï∞(Âú®threads/switch.S‰∏≠)ËøôÊòØ‰∏Ä‰∏™ÂÆåÂÖ®Áî±Ê±áÁºñËØ≠Ë®ÄÁºñÂÜôÁöÑÂáΩÊï∞ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#include "threads/switch.h"#### struct thread *switch_threads (struct thread *cur, struct thread *next);######## Switches from CUR, which must be the running thread, to NEXT,#### which must also be running switch_threads(), returning CUR in#### NEXT's context.######## This function works by assuming that the thread we're switching#### into is also running switch_threads(). Thus, all it has to do is#### preserve a few registers on the stack, then switch stacks and#### restore the registers. As part of switching stacks we record the#### current stack pointer in CUR's thread structure..globl switch_threads.func switch_threadsswitch_threads: # Save caller's register state. # # Note that the SVR4 ABI allows us to destroy %eax, %ecx, %edx, # but requires us to preserve %ebx, %ebp, %esi, %edi. See # [SysV-ABI-386] pages 3-11 and 3-12 for details. # # This stack frame must match the one set up by thread_create() # in size. pushl %ebx pushl %ebp pushl %esi pushl %edi # Get offsetof (struct thread, stack)..globl thread_stack_ofs mov thread_stack_ofs, %edx # Save current stack pointer to old thread's stack, if any. movl SWITCH_CUR(%esp), %eax movl %esp, (%eax,%edx,1) # Restore stack pointer from new thread's stack. movl SWITCH_NEXT(%esp), %ecx movl (%ecx,%edx,1), %esp # Restore caller's register state. popl %edi popl %esi popl %ebp popl %ebx ret.endfunc.globl switch_entry.func switch_entryswitch_entry: # Discard switch_threads() arguments. addl $8, %esp # Call thread_schedule_tail(prev). pushl %eax.globl thread_schedule_tail call thread_schedule_tail addl $4, %esp # Start thread proper. ret.endfunc ÂàÜÊûêËøôÊÆµÊ±áÁºñ‰ª£Á†ÅÔºåÈ¶ñÂÖàÂ∞Ü4‰∏™ÂØÑÂ≠òÂô®ÁöÑÂÄºÂéãÊ†à‰øùÊä§ÂØÑÂ≠òÂô®Áä∂ÊÄÅÔºåËøôÂõõ‰∏™ÂØÑÂ≠òÂô®ÁöÑÂÄºÊòØswitch_threads_frameÁöÑÊàêÂëòÔºåswitch_threads_frameÁªìÊûÑÁöÑÂÖ∑‰ΩìÂÆö‰πâÂ¶Ç‰∏ã(thread/switch.h‰∏≠ÂÆö‰πâ)Ôºö 1234567891011/* switch_thread()'s stack frame. */struct switch_threads_frame { uint32_t edi; /* 0: Saved %edi. */ uint32_t esi; /* 4: Saved %esi. */ uint32_t ebp; /* 8: Saved %ebp. */ uint32_t ebx; /* 12: Saved %ebx. */ void (*eip) (void); /* 16: Return address. */ struct thread *cur; /* 20: switch_threads()'s CUR argument. */ struct thread *next; /* 24: switch_threads()'s NEXT argument. */ }; ÂÖ®Â±ÄÂèòÈáèthread_stack_ofsËÆ∞ÂΩïÁ∫øÁ®ãÂíåÊ†à‰πãÈó¥ÁöÑÈó¥ÈöôÔºå‰∏ãÈù¢Êàë‰ª¨Êù•ÁúãÁ∫øÁ®ãÂàáÊç¢‰∏≠‰øùÂ≠òÁé∞Âú∫ÁöÑËøáÁ®ã„ÄÇ 35-36Ë°åÔºöÂÖàÊääÂΩìÂâçÁöÑÁ∫øÁ®ãÊåáÈíàÊîæÂà∞eax‰∏≠Ôºå Âπ∂ÊääÁ∫øÁ®ãÊåáÈíà‰øùÂ≠òÂú®Áõ∏ÂØπÂü∫Âú∞ÂùÄÂÅèÁßªÈáè‰∏∫edxÁöÑÂú∞ÂùÄ‰∏≠ 40-41: ÂàáÊç¢Âà∞‰∏ã‰∏Ä‰∏™Á∫øÁ®ãÁöÑÁ∫øÁ®ãÊ†àÊåáÈíàÔºå ‰øùÂ≠òÂú®ecx‰∏≠Ôºå ÂÜçÊääËøô‰∏™Á∫øÁ®ãÁõ∏ÂØπÂü∫Âú∞ÂùÄÂÅèÁßªÈáèedxÂú∞ÂùÄÔºà‰∏ä‰∏ÄÊ¨°‰øùÂ≠òÁé∞Âú∫ÁöÑÊó∂ÂÄôÂ≠òÊîæÁöÑÔºâÊîæÂà∞espÂΩì‰∏≠ÁªßÁª≠ÊâßË°å„ÄÇ ËøôÈáåecx, eaxËµ∑ÂÆπÂô®ÁöÑ‰ΩúÁî®Ôºå edxÊåáÂêëÂΩìÂâçÁé∞Âú∫‰øùÂ≠òÁöÑÂú∞ÂùÄÂÅèÁßªÈáè„ÄÇÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØ‰øùÂ≠òÂΩìÂâçÁ∫øÁ®ãÁä∂ÊÄÅÔºå ÊÅ¢Â§çÊñ∞Á∫øÁ®ã‰πãÂâç‰øùÂ≠òÁöÑÁ∫øÁ®ãÁä∂ÊÄÅ„ÄÇ Áî±Ê≠§Êàë‰ª¨ÂèØ‰ª•ÁúãÂá∫scheduleÂáΩÊï∞ÊòØÂÖàÂ∞ÜÂΩìÂâçÁ∫øÁ®ãÊîæÂÖ•Â∞±Áª™ÈòüÂàóÔºåÂ¶ÇÊûú‰∏ã‰∏Ä‰∏™Á∫øÁ®ãÂíåÂΩìÂâçÁ∫øÁ®ã‰∏ç‰∏ÄÊ†∑ÁöÑËØùÂàáÊç¢Âà∞‰∏ã‰∏Ä‰∏™Á∫øÁ®ã„ÄÇ ÂÜçÁúãÁúãshceduleÂáΩÊï∞ÊúÄÂêé‰∏ÄË°åÊâßË°åÁöÑÊìç‰ΩúÔºåÊúÄÂêé‰∏ÄË°åË∞ÉÁî®thread_schedule_tailÂáΩÊï∞Ôºå‰∏ãÈù¢ËØ¶ÁªÜÂàÜÊûê‰∏Ä‰∏ãËøô‰∏™ÂáΩÊï∞Ôºàthread/thread.cÊñá‰ª∂‰∏≠Ôºâ„ÄÇ 12345678910111213141516171819202122232425262728void thread_schedule_tail (struct thread *prev){ struct thread *cur = running_thread (); ASSERT (intr_get_level () == INTR_OFF); /* Mark us as running. */ cur-&gt;status = THREAD_RUNNING; /* Start new time slice. */ thread_ticks = 0;#ifdef USERPROG /* Activate the new address space. */ process_activate ();#endif /* If the thread we switched from is dying, destroy its struct thread. This must happen late so that thread_exit() doesn't pull out the rug under itself. (We don't free initial_thread because its memory was not obtained via palloc().) */ if (prev != NULL &amp;&amp; prev-&gt;status == THREAD_DYING &amp;&amp; prev != initial_thread) { ASSERT (prev != cur); palloc_free_page (prev); }} È¶ñÂÖàÊòØËé∑ÂæóÂΩìÂâçÁ∫øÁ®ãÁöÑÁöÑcur(ÂàáÊç¢‰πãÂêéÁöÑÁ∫øÁ®ã)ÔºåÁÑ∂ÂêéÂ∞ÜcurÁöÑÁä∂ÊÄÅÊîπ‰∏∫THREAD_RUNNINGÔºåÁÑ∂Âêéthread_ticksÊ∏ÖÈõ∂ÂºÄÂßãÊñ∞ÁöÑÁ∫øÁ®ãÂàáÊç¢Êó∂Èó¥Áâá„ÄÇÁÑ∂ÂêéË∞ÉÁî®diaoyongprocess_activateÂáΩÊï∞Áî≥ËØ∑Êñ∞ÁöÑÂú∞ÂùÄÁ©∫Èó¥ÔºåÂÜçÂàÜÊûêprocess_activeÂáΩÊï∞(Âú®useruserprog/process.cÊñá‰ª∂‰∏≠ÂÆö‰πâ) 123456789101112/* Sets up the CPU for running user code in the current thread. This function is called on every context switch. */void process_activate (void){ struct thread *t = thread_current (); /* Activate thread's page tables. */ pagedir_activate (t-&gt;pagedir); /* Set thread's kernel stack for use in processing interrupts. */ tss_update ();} ÂÖ≥ÈîÆÁöÑÂ∞±ÊòØpagedir_activate()ÂáΩÊï∞Âíåtss_updateÂáΩÊï∞ÔºåËøô‰∏§‰∏™ÂáΩÊï∞ÂàÜÂà´‰Ωç‰∫éuserprog/pagedir.cÂíåuserprog/tss.cÊñá‰ª∂‰∏≠ ‰∏ãÈù¢ÂÜçËøõÂÖ•pagedir_activate()ÂáΩÊï∞‰∏≠Êü•Áúã„ÄÇ 1234567891011121314/* Loads page directory PD into the CPU's page directory base register. */void pagedir_activate (uint32_t *pd) { if (pd == NULL) pd = init_page_dir; /* Store the physical address of the page directory into CR3 aka PDBR (page directory base register). This activates our new page tables immediately. See [IA32-v2a] "MOV--Move to/from Control Registers" and [IA32-v3a] 3.7.5 "Base Address of the Page Directory". */ asm volatile ("movl %0, %%cr3" : : "r" (vtop (pd)) : "memory");} Ëøô‰∏™Ê±áÁºñÊåá‰ª§Â∞ÜÂΩìÂâçÁ∫øÁ®ãÁöÑÈ°µÁõÆÂΩïÊåáÈíàÂ≠òÂÇ®Âà∞CR3ÔºàÈ°µÁõÆÂΩïË°®Áâ©ÁêÜÂÜÖÂ≠òÂü∫Âú∞ÂùÄÂØÑÂ≠òÂô®Ôºâ‰∏≠Ôºå‰πüÂ∞±ÊòØËØ¥Ëøô‰∏™ÂáΩÊï∞Êõ¥Êñ∞‰∫ÜÁé∞Âú®ÁöÑÈ°µÁõÆÂΩïË°® ÂÜçËøõÂÖ•tss_updateÂáΩÊï∞‰∏≠Ôºö 1234567/* Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack. */void tss_update (void) { ASSERT (tss != NULL); tss-&gt;esp0 = (uint8_t *) thread_current () + PGSIZE;} tssÊåáÁöÑÊòØ task state segmentÔºå Âè´‰ªªÂä°Áä∂ÊÄÅÊÆµÔºå ‰ªªÂä°ÔºàËøõÁ®ãÔºâÂàáÊç¢Êó∂ÁöÑ‰ªªÂä°Áé∞Âú∫‰ø°ÊÅØ„ÄÇËøôÈáåÂÖ∂ÂÆûÊòØÊääTSSÁöÑ‰∏Ä‰∏™Ê†àÊåáÈíàÊåáÂêë‰∫ÜÂΩìÂâçÁ∫øÁ®ãÊ†àÁöÑÂ∞æÈÉ®Ôºå ‰πüÂ∞±ÊòØÊõ¥Êñ∞‰∫Ü‰ªªÂä°Áé∞Âú∫ÁöÑ‰ø°ÊÅØÂíåÁä∂ÊÄÅ„ÄÇ Âà∞Ê≠§process_activateÂáΩÊï∞ÁöÑÂàÜÊûêÂÆåÊØïÔºåÂÆÉÂÅö‰∫Ü‰∏§‰ª∂‰∫ãÔºö Êõ¥Êñ∞È°µÁõÆÂΩïË°® Êõ¥Êñ∞‰ªªÂä°Áé∞Âú∫‰ø°ÊÅØÔºàtssÔºâ Âú®ÁªßÁª≠Áúãthread_schedule_tailÂáΩÊï∞ÁöÑÊúÄÂêé4Ë°åÔºö 12345if (prev != NULL &amp;&amp; prev-&gt;status == THREAD_DYING &amp;&amp; prev != initial_thread) { ASSERT (prev != cur); palloc_free_page (prev);} ËøôÈáåÊòØËØ¥Â¶ÇÊûúÊàë‰ª¨ÂàáÊç¢ÁöÑÁ∫øÁ®ãÁä∂ÊÄÅÊòØTHREAD_DYINGÔºà‰ª£Ë°®Ê¨≤Ë¶ÅÈîÄÊØÅÁöÑÁ∫øÁ®ãÔºâÁöÑËØùÔºå Ë∞ÉÁî®palloc_free_pageÔºàthread/palloc.cÊñá‰ª∂‰∏≠ÂÆö‰πâÔºâÔºö 12345/* Frees the page at PAGE. */void palloc_free_page (void *page) { palloc_free_multiple (page, 1);} ÁÆÄÂçïËÄåË®Ä‰ΩúÁî®Â∞±ÊòØÈáäÊîæPAGEÂèÇÊï∞‰∏≠ÁöÑÈ°µÈù¢ Âà∞Ê≠§Ôºåthread_schedule_tailÂáΩÊï∞ÂàÜÊûêÂÆåÊØïÔºåÂÖ∂‰ΩúÁî®Â∞±ÊòØÂàÜÈÖçÊÅ¢Â§ç‰πãÂâçÊâßË°åÁöÑÁä∂ÊÄÅÂíåÁé∞Âú∫Ôºå Â¶ÇÊûúÂΩìÂâçÁ∫øÁ®ãÊ≠ª‰∫ÜÂ∞±Ê∏ÖÁ©∫ËµÑÊ∫ê„ÄÇ scheduleÂáΩÊï∞ÁöÑ‰ΩúÁî®Â∞±ÊòØÊãø‰∏ã‰∏Ä‰∏™Á∫øÁ®ãÂàáÊç¢ËøáÊù•ÁªßÁª≠ËøêË°å„ÄÇthread_yieldÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØshiÊääÂΩìÂâçËøõÁ®ãÊîæÂú®Â∞±Áª™ÈòüÂàóÈáåÔºåË∞ÉÁî®scheduleÂàáÊç¢Âà∞‰∏ã‰∏Ä‰∏™ËøõÁ®ã„ÄÇ ÊúÄÂêéËøîÂõûÂà∞ÊúÄÈ°∂Â±ÇÁöÑtimer_sleepÂáΩÊï∞Ôºå‰ªñÁöÑ‰ΩúÁî®Â∞±ÊòØÂú®ticksÁöÑÊó∂Èó¥ÂÜÖneiÔºåÂ¶ÇÊûúÁ∫øÁ®ãÂ§Ñ‰∫érunningÁä∂ÊÄÅÂ∞±‰∏çÊñ≠ÁöÑÊääÂÆÉÊîæÂú®Â∞±Áª™ÈòüÂàó‰∏çËÆ©ÂÆÉÊâßË°å„ÄÇ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>Êìç‰ΩúÁ≥ªÁªüÂÆûÈ™å</category>
      </categories>
      <tags>
        <tag>Êìç‰ΩúÁ≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËøõÁ®ãÂÆûÈ™å]]></title>
    <url>%2F2019%2F03%2F11%2Flab2%2F</url>
    <content type="text"><![CDATA[ÂÆûÈ™å‰∫åÂÆûÈ™åÊä•Âëä Â≠ôÊ±âÊ≠¶ 16281047 ÂÆâÂÖ®1601 Task 11.1 ÂÆûÈ™åÊ≠•È™§ ÊâìÂºÄ‰∏Ä‰∏™viËøõÁ®ã ÈÄöËøápsÂëΩ‰ª§ÊâæÂà∞ÂêçÂ≠ó‰∏∫viÁöÑËøõÁ®ãÔºåÂëΩ‰ª§Â¶Ç‰∏ã 1ps -auxc | grep vi$ ËøôÈáåÂØπËØ•ÂëΩ‰ª§‰∏≠ÁöÑÂèÇÊï∞ÂÅöÂá∫Ëß£Èáä -aux: ÊòæÁ§∫ÊâÄÊúâËøõÁ®ã -c: Â∞ÜcommandÂàóËæìÂá∫Êõ¥Êîπ‰∏∫ÂèØÊâßË°åÊñá‰ª∂ÂêçËÄå‰∏çÊòØÂëΩ‰ª§ÂêçÁß∞ grep Ê≠£ÂàôË°®ËææÂºèÊêúÁ¥¢ vi$ ÂåπÈÖçÁªìÂ∞æ‰∏∫viÂ≠óÁ¨¶‰∏≤ ËøôÈáåÂØπpsÂëΩ‰ª§ÁöÑËæìÂá∫ÁªìÊûúÊØè‰∏ÄÂàóÁöÑÂê´‰πâÂÅöÂá∫Ëß£ÈáäÔºåps -auxÂëΩ‰ª§ÁöÑËæìÂá∫ÁªìÊûú‰∏ÄÂÖ±ÊúâÂçÅ‰∏ÄÂàóÔºå‰ªéÂ∑¶ÂæÄÂè≥ÂàÜÂà´ÊòØÔºö ÂàóÂêç USER PID %CPU %MEM VSZ RSS Âê´‰πâ ËøõÁ®ãÊâÄÂ±ûÁî®Êà∑Âêç ËøõÁ®ãID Âç†Áî®CPUÁôæÂàÜÊØî Âç†Áî®ÂÜÖÂ≠òÁôæÂàÜÊØî ËôöÊãüÂ§ßÂ∞è È©ªÁïô‰∏≠È°µÁöÑÊï∞Èáè Á§∫‰æã ubuntu 13716 0.0 0.5 40384 10144 ÂàóÂêç TTY STAT START TIME Âê´‰πâ ÁªàÁ´ØID ËøõÁ®ãÁä∂ÊÄÅ ÂºÄÂßãÊó∂Èó¥ Á¥ØËÆ°CPUÊó∂Èó¥ ÂÆû‰æã pts/2 S+ 20:33 0:00 ÂØªÊâæviÁöÑÁà∂ËøõÁ®ãÔºåÁõ¥Âà∞initËøõÁ®ã‰∏∫Ê≠¢ ‰ΩøÁî®Â¶Ç‰∏ãÂëΩ‰ª§Êü•ÁúãÊåáÂÆöËøõÁ®ãÁöÑÁà∂ËøõÁ®ãÁöÑPIDÔºö 1ps -eo pid,ppid,user,command | grep -w ^.&lt;pid&gt; ËØ¥ÊòéÔºö -eo Ë°®Á§∫ÊåâÁÖßÊåáÂÆöÊ†ºÂºèËæìÂá∫ÔºåËøôÈáåÊåáÂÆöÁöÑÊ†ºÂºèÊòØpid,ppid,user,command \ ÊòØË¶ÅÊü•ËØ¢ÁöÑpidÂè∑ \Â°´ÂÜôÊü•ËØ¢ËøõÁ®ãÁöÑpid. ÈÄöËøáÊ≠•È™§2ÂèØÁü•viÁöÑpid‰∏∫13716ÔºåÊâÄ‰ª•Êü•ËØ¢viÁöÑÁà∂ËøõÁ®ã 1ps -eo pid,ppid,user,command | grep -w 13716 Áî±ÂõæÂèØÁü•ÔºåviÁöÑÁà∂ËøõÁ®ãÁöÑpidÊòØ7854 Êü•ËØ¢7854ÁöÑÁà∂ËøõÁ®ã 1ps -eo pid,ppid,user,command | grep -w ^.7854 Áî±ÂõæÂèØÁü•Ôºå7854ÁöÑÁà∂ËøõÁ®ãÁöÑpidÊòØ7745 Êü•ËØ¢7745ÁöÑÁà∂ËøõÁ®ã 1ps -eo pid,ppid,user,command | grep -w ^.7745 Áî±ÂõæÂèØÁü•Ôºå7745ÁöÑÁà∂ËøõÁ®ãÁöÑpidÊòØ1 Êü•ËØ¢1ÁöÑÁà∂ËøõÁ®ã 1ps -eo pid,ppid,user,command | grep -w 1 Áªº‰∏äÊâÄËø∞ÔºåÂèØ‰ª•ÂæóÂà∞Â¶Ç‰∏ãÁªìÊûúÔºö | ËøõÁ®ãÂè∑ | Áà∂ËøõÁ®ãÂè∑ | ÊâÄÂ±ûÁî®Êà∑ | ÂëΩ‰ª§ || ‚Äî‚Äî‚Äî | ‚Äî‚Äî‚Äî‚Äî | ‚Äî‚Äî‚Äî‚Äî | ‚Äî‚Äî || 13716 | 7854 | ubuntu | vi || 7854 | 7745 | ubuntu | -zsh || 7745 | 1 | ubuntu | tmux || 1 | 0 | root | init | Â∞ÜÊ≠•È™§‰∏âÂæóÂà∞ÁöÑËøõÁ®ãÊ†ëÂíåpstreeÂæóÂà∞ÁöÑËøõÁ®ãÊ†ëÊØîËæÉ ÈÄöËøápstreeÂëΩ‰ª§ÂæóÂà∞Â¶Ç‰∏ãÁªìÊûúÔºö Â∑¶ËæπÁöÑËôöÁ∫ø‰ª£Ë°®initËøõÁ®ãÔºåÂèØ‰ª•ÁúãÂà∞‰∏§ÁßçÊñπÂºèÂæóÂà∞ÁöÑËøõÁ®ãÊ†ëÊòØÁõ∏ÂêåÁöÑ„ÄÇ ‰∏§ÁßçÊñπÂºèÂêÑËá™ÁöÑ‰ºòÁÇπÂ¶Ç‰∏ãÔºö pstree: ËøõÁ®ãÊ†ëÊØîËæÉÁõ¥ËßÇÔºå‰∏ÄÁõÆ‰∫ÜÁÑ∂ ËÉΩ‰∏ÄÊ¨°ÊòæÁ§∫ÊâÄÊúâÁöÑËøõÁ®ãÁöÑËøõÁ®ãÊ†ë psÂëΩ‰ª§Êü•ËØ¢Âá∫ÁöÑËøõÁ®ãÊ†ë ËÉΩÊü•ÁúãÊØè‰∏™‰∏≠Èó¥ËøõÁ®ãÁöÑËØ¶ÁªÜ‰ø°ÊÅØ psÂëΩ‰ª§Ëá™‰∏ªÊÄßÊØîËæÉÂ•ΩÔºåÂèØ‰ª•Áî±Áî®Êà∑Ëá™ÂÆö‰πâÂèÇÊï∞ Task 22.1 ÂÆûÈ™åÊ≠•È™§ ÂÆûÈ™å‰ª£Á†ÅÂ¶Ç‰∏ãÔºö ÁºñËØëÂπ∂ËøêË°åÁ®ãÂ∫è Êü•ÁúãviËøõÁ®ãÂíåÁà∂ËøõÁ®ãÁöÑÁä∂ÊÄÅ viËøõÁ®ã ‚Äã ÂèØ‰ª•ÁúãÂà∞viËøõÁ®ãÁöÑËøõÁ®ãÂè∑‰∏∫12703,Áà∂ËøõÁ®ãpid‰∏∫12702ÔºåÂç†Áî®CPUÂíåMEMÂàÜÂà´‰∏∫0.5%Âíå0.6% viËøõÁ®ãÁà∂ËøõÁ®ã ÂØπÊâÄÊúâËøõÁ®ãÊåâÁÖßCPUÂç†Áî®ÁéáÊéíÂ∫è ÊñπÊ≥ï‰∏ÄÔºö‰ΩøÁî®htopÂëΩ‰ª§ÔºåËá™Âä®ÊåâÁÖßCPUÂç†Áî®ÁéáÂØπËøõÁ®ãÊéíÂ∫è ÊñπÊ≥ï‰∫åÔºö‰ΩøÁî®topÂëΩ‰ª§ÊåâÁÖßCPUÂç†Áî®ÁéáÂØπËøõÁ®ãÊéíÂ∫è ‚Äã ‚Äã Task 32.1 ÂÆûÈ™åÊ≠•È™§ ÂÆûÈ™åÊ∫êÁ†Å ÂØπ‰∏äËø∞Ê∫êÁ†ÅÁöÑÂàÜÊûêÂåÖÂê´‰ª•‰∏ãÂá†‰∏™ÊñπÈù¢Ôºö forkÂáΩÊï∞ÁöÑÂäüËÉΩÂíåËøîÂõûÂÄºÔºö forkÁöÑÂäüËÉΩÊòØ‰ªéÂΩìÂâçË°åÂºÄÂßãÂ§çÂà∂Áà∂ËøõÁ®ãÔºåÂàõÂª∫‰∏Ä‰∏™ÂíåÁà∂ËøõÁ®ã‰∏ÄÊ†∑ÁöÑÂ≠êËøõÁ®ã forkÁöÑËøîÂõûÂÄºÂú®Áà∂ËøõÁ®ã‰∏≠Â§ß‰∫é0ÔºåÂú®Â≠êËøõÁ®ã‰∏≠Á≠â‰∫é0ÔºåÂ¶ÇÊûúÂàõÂª∫Â≠êËøõÁ®ãÂèëÁîüÈîôËØØËøîÂõû-1 Á®ãÂ∫èÊµÅÁ®ãÂ¶Ç‰∏ãÔºö Á®ãÂ∫èËß£ÈáäÔºö ÁªìÂêà‰∏äÈù¢ÁöÑÁ®ãÂ∫èÊµÅÁ®ãÂõæÔºåÂèØ‰ª•ÁúãÂà∞Á®ãÂ∫èÊâßË°åÊúÄÂàùÁöÑÈÇ£‰∏™ËøõÁ®ãÂ∞±ÊòØÁà∂ËøõÁ®ãAÔºåÂú®‰∏ÄÂºÄÂßãÂ∞±ÈÄöËøáforkÂáΩÊï∞ÂàõÂª∫‰∏Ä‰∏™Â≠êËøõÁ®ãBÔºåÂπ∂Áî®p1Êé•ÂèóforkÁöÑËøîÂõûÂÄºÔºåÁî±‰∫ép1Âú®ËøõÁ®ãAÂíåËøõÁ®ãBÁöÑÂÄº‰∏çÂêåÔºåÊâÄ‰ª•‰∏§‰∏™ËøõÁ®ãÊé•‰∏ãÊù•ÊâßË°åÁöÑ‰ª£Á†ÅÈÉ®ÂàÜÂπ∂‰∏çÁõ∏Âêå„ÄÇËøõÁ®ãAÊâßË°åp1&gt;0ÁöÑÈÉ®ÂàÜ‰ª£Á†ÅÔºåÂπ∂‰∏îÂú®p1&gt;0ÁöÑÈÇ£ÈÉ®ÂàÜ‰ª£Á†Å‰∏≠ÔºåËøõÁ®ãAÂÜçÊ¨°ÈÄöËøáforkÂàõÂª∫‰∫Ü‰∏Ä‰∏™Â≠êËøõÁ®ãC„ÄÇÈöèÂêéËøõÁ®ãAÂíåËøõÁ®ãCÂàÜÂà´ÊâìÂç∞Ëá™Â∑±ÁöÑpidÂíåppid(Áà∂ËøõÁ®ãid)„ÄÇÂú®Êù•ÁúãËøõÁ®ãBÔºåÂú®p1==0ÁöÑÈÇ£ÈÉ®ÂàÜ‰ª£Á†Å‰∏≠ÔºåËøõÁ®ãB‰πüÊòØÈÄöËøáforkÂàõÂª∫‰∫Ü‰∏Ä‰∏™Â≠êËøõÁ®ãD,Âπ∂Â∞ÜforkÁöÑËøîÂõûÂÄº‰∫§Áªôp2ÔºåÂú®Áà∂ËøõÁ®ãB‰∏≠Ôºåp2ÁöÑÂÄºÂ§ß‰∫é0ÔºåÊâÄ‰ª•Áà∂ËøõÁ®ãBËøòÂàõÂª∫‰∫Ü‰∏Ä‰∏™Â≠êËøõÁ®ãE,ËÄåÂú®Â≠êËøõÁ®ãD‰∏≠Ôºåp2\=\=0ÔºåÊâÄ‰ª•‰∏çÊâßË°åp2&gt;0‰ª£Á†ÅÂùóÈáåÈù¢ÁöÑËØ≠Âè•ÔºåÁõ¥Êé•ÊâìÂç∞pidÂíåppidÔºå‰πãÂêéÂàÜÂà´ÊòØËøõÁ®ãEÂíåBÊâìÂç∞pidÂíåppid„ÄÇÂà∞Ê≠§Êª°Ë∂≥ÂÆûÈ™åË¶ÅÊ±ÇÁöÑËøõÁ®ãÊ†ëÂàõÂª∫ÂÆåÊØï„ÄÇ ÁºñËØëÊâßË°å 1gcc task3.c -o task3 Ë∞ÉËØïÂàÜÊûê Áî±‰∫éÊ∂âÂèäÁöÑËøõÁ®ãÊï∞ÊØîËæÉÂ§öÔºåÊâÄ‰ª•ÈÄöËøáË∞ÉËØïÁöÑÊñπÂºèÂàÜÊûêÊØîËæÉÁõ¥ËßÇÔºåÊâÄ‰ª•‰∏ãÈù¢Âà©Áî®gdbË∞ÉËØïÂô®ËøõË°åË∞ÉËØï„ÄÇ È¶ñÂÖàÊòØË∞ÉËØïÂâçÁöÑÂáÜÂ§á,Âú®gccÁºñËØëÁöÑÊó∂ÂÄôÂä†‰∏ä-g ÂèÇÊï∞‰ª•ÊîØÊåÅgdbË∞ÉËØï: 1gcc -g task3.c -o task3 ÈÄöËøágdb task3ÂëΩ‰ª§ËøõÂÖ•Ë∞ÉËØïÂô®ÔºåÈ¶ñÂÖàÊòØÈÖçÁΩÆÊàêÂ§öËøõÁ®ãË∞ÉËØïÊ®°ÂºèÔºö 123# Âú®gdb‰∏≠ÊåâÁÖßÂ¶Ç‰∏ãÂëΩ‰ª§ËÆæÁΩÆÔºåÂèØ‰ª•ËÆæÁΩÆÊàêÂØπËøõÂüéË∞ÉËØïÊ®°Âºèset follow-fork-mode parentset detach-on-fork off ËÆæÁΩÆÊñ≠ÁÇπÔºåÂú®Âê´ÊúâforkÂáΩÊï∞ÁöÑÊâÄÊúâÂú∞ÊñπËÆæÁΩÆÊñ≠ÁÇπ ÂºÄÂßãË∞ÉËØïÔºåÈ¶ñÂÖàÈÄöËøárÂëΩ‰ª§ËøõÂÖ•Á¨¨‰∏Ä‰∏™ËøõÁ®ãÂºÄÂßãË∞ÉËØïÔºåËøôÈáåÁß∞Ê≠§ËøõÁ®ã‰∏∫A : ÈÄöËøáË∞ÉËØïÁªìÊûúÂèØ‰ª•ÁúãÂá∫Êù•ËøõÁ®ãAÁöÑËøõÁ®ãÂè∑ÊòØ28608ÔºåËøõÁ®ãAÁöÑÁà∂ËøõÁ®ãpidÊòØ28570ÔºåÂπ∂‰∏îp1=28613Â§ß‰∫é0ÔºåËØ¥ÊòéËøõÁ®ãAËµ∞ÁöÑÊòØif (p1&gt;0)‰∏ãÈù¢ÁöÑÈÇ£‰∏™ÂàÜÊîØ„ÄÇ ÂàÜÊûêÊ∫êÁ†ÅÂèØÁü•ÔºåËøõÁ®ãAÂú®Á¨¨6Ë°åÂíåÁ¨¨7Ë°åÂàÜÂà´ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Â≠êËøõÁ®ãÔºåÊàëÂàÜÂà´Áß∞‰πã‰∏∫ËøõÁ®ãBÂíåËøõÁ®ãC. ‰∏ãÈù¢ÂàáÊç¢Âà∞ËøõÁ®ãB‰∏≠Ë∞ÉËØïÔºö ÈÄöËøáËæìÂá∫ÁöÑË∞ÉËØï‰ø°ÊÅØÂèØ‰ª•ÁúãÂá∫ÔºåÊ≠§Êó∂ÁöÑp1ÁöÑÂÄº‰∏∫0ÔºåËØ¥ÊòéËøõÁ®ãBÊâßË°åÁöÑÊòØP1==0‰∏ãÈù¢ÁöÑ‰ª£Á†Å,ËÄåP2&gt;0ËØ¥ÊòéÊ≠§Êó∂ËøõÁ®ãBÊâßË°å‰∫Üif (p2&gt;0)ÂêéÈù¢ÁöÑforkÂáΩÊï∞„ÄÇÊúÄÂêéÂæóÂà∞ËøõÁ®ãBÁöÑpid‰∏∫28613ÔºåËøõÁ®ãBÁöÑÁà∂ËøõÁ®ãÊòØËøõÁ®ãAÔºåÂÖ∂pidÊòØ28608ÔºåËøô‰∏é‰∏äÈù¢ÁöÑËøõÁ®ãAÁöÑpidÊòØ‰∏ÄÁõ¥ÁöÑ„ÄÇ Âú®Ë∞ÉËØï‰ø°ÊÅØ‰∏≠ÂèØ‰ª•ÁúãÂà∞ÔºåÂΩìËøõÁ®ãBËøêË°åÂà∞13Ë°åÂíå15Ë°åÁöÑÊó∂ÂÄôÂàÜÂà´ÂàõÂª∫‰∫Ü‰∏§‰∏™Êñ∞ÁöÑÂ≠êËøõÁ®ãÔºåÊàë‰ª¨Áß∞Ëøô‰∏§‰∏™ËøõÁ®ã‰∏∫ËøõÁ®ãDÂíåËøõÁ®ãE Êé•ÁùÄÂØπËøõÁ®ãCËøõÁ®ãÂàÜÊûêÔºåËøõÁ®ãCÊòØËøõÁ®ãAÂú®26Ë°åÂ§çÂà∂ÂæóÂà∞ÔºåÂπ∂‰∏îÂêéÈù¢Ê≤°ÊúâÂàõÂª∫‰ªª‰ΩïÂÖ∂‰ªñÁöÑÂ≠êËøõÁ®ã„ÄÇ ‚Äã ÈÄöËøáË∞ÉËØï‰ø°ÊÅØÂèØ‰ª•ÁúãÂá∫ÔºåËøõÁ®ãCÁöÑpid‰∏∫28615ÔºåÂÖ∂Áà∂ËøõÁ®ãpid‰∏∫28606,Áà∂ËøõÁ®ã‰∏∫AÔºåËøô‰∏é‰∏äÈù¢ÁöÑ‰ø°ÊÅØ‰∏ÄËá¥„ÄÇ ‚Äã ÂÜçÂØπËøõÁ®ãDËøõÁ®ãÂàÜÊûêÔºö ‚Äã ÈÄöËøá‰∏äÈù¢ÂàÜÊûêÂèØÁü•Ôºåp1Âíåp2Âùá‰∏∫0,ÊâÄ‰ª•ËØ¥ÊòéËøõÁ®ãDÊòØËøõÁ®ãBÂú®13Ë°åÂàõÂª∫ÁöÑÂ≠êËøõÁ®ãÔºåËøõÁ®ãDÁöÑspid‰∏∫28740ÔºåÂÖ∂Áà∂ËøõÁ®ãpid‰∏∫28613ÔºåÂíåÂâçÈù¢ÁöÑ‰ø°ÊÅØ‰∏ÄËá¥„ÄÇ ‚Äã ÊúÄÂêéÂàÜÊûêËøõÁ®ãEÔºö ‚Äã ÈÄöËøáËæìÂá∫ÁöÑ‰ø°ÊÅØÂèØ‰ª•ÁúãÂà∞p1=0,p2&gt;0ÔºåÂàÜÊûêÂèØÁü•ËøõÁ®ãEÊòØËøõÁ®ãBÂú®15Ë°åÂàõÂª∫ÁöÑÂ≠êËøõÁ®ã„ÄÇËøõÁ®ãEÁöÑpidÊòØ28741ÔºåÂÖ∂Áà∂ËøõÁ®ãpidÊòØ28613,ÊÅ∞Â•ΩÊòØËøõÁ®ãBÁöÑpid ‚Äã ÂàÜÊûê‰∏äÈù¢ÂèØÁü•ÔºåÂú®Êú¨Ê¨°Ë∞ÉËØïËøáÁ®ã‰∏≠ÔºåÂæóÂà∞ÁöÑËøõÁ®ã‰ø°ÊÅØÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö ËøõÁ®ã A B C D E pid 28608 28613 28615 28740 28741 ppid 28570 28608 28608 28613 28613 ‚Äã ‰∫éÊòØÂèØ‰ª•ÂæóÂà∞Ëøô‰∫î‰∏™ËøõÁ®ãÁöÑËøõÁ®ãÊ†ëÂ¶Ç‰∏ã(‰∏éÂÆûÈ™åË¶ÅÊ±Ç‰∏ÄËá¥)Ôºö ÈÅáÂà∞ÁöÑÈóÆÈ¢òÂèäËß£ÂÜ≥ÂäûÊ≥ï ÈóÆÈ¢ò ÂàöÂºÄÂßãÁöÑÊó∂ÂÄôÁî±‰∫éÊ≤°ÊúâËÄÉËôëÂà∞Áà∂ËøõÁ®ã‰ºöÂú®Â≠êËøõÁ®ã‰πãÂâçÁªìÊùüÁöÑÈóÆÈ¢òÔºåÂØºËá¥ÊâÄÊúâÁöÑÂ≠êËøõÁ®ãÂú®getppid()ÁöÑÊó∂ÂÄôÁà∂ËøõÁ®ãÂ∑≤ÁªèÁªìÊùü‰∫ÜÔºåÂæóÂà∞ÁöÑÊòØinitËøõÁ®ãÁöÑpid=1ÔºåÊâÄ‰ª•Âú®‰ª£Á†Å‰∏≠Âä†ÂÖ•sleep(1)ÔºåËÆ©Áà∂ËøõÁ®ãÁ≠âÂæÖ‰∏ÄÁßíÈíüÂÜçÁªìÊùüÔºåÁ≠âÂæÖÂ≠êËøõÁ®ãËé∑Âèñ‰∫ÜÂÖ∂pid„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ï Âú®‰ª£Á†Å‰∏≠‰∏≠Âä†ÂÖ•sleep(1),ÂÜçÊ¨°ÁºñËØëÊâßË°åÂç≥ÂèØÂæóÂà∞Ê≠£Á°ÆÁªìÊûú„ÄÇ Task4 ÂÆûÈ™åÊ∫êÁ†Å ‰ª£Á†ÅÂíåTask3‰∏≠ÁöÑ‰ª£Á†ÅÂü∫Êú¨‰∏ÄËá¥ÔºåÂè™ÊòØÂ∞ÜËæìÂá∫‰ø°ÊÅØÁºñÁ®ãÂæ™ÁéØËæìÂá∫ÔºåÂπ∂‰∏îÊ≤°ÊâìÂç∞‰∏ÄÊ¨°Âêésleep‰∏ÄÁßíÈíü ÊâìÂç∞ËøõÁ®ãÊ†ë ÂèØ‰ª•ÁúãÂà∞ËøõÁ®ãÊ†ë‰ø°ÊÅØÂ¶Ç‰∏äÂõæÊâÄÁ§∫ ÁªàÊ≠¢ËøõÁ®ãp2 ÈááÁî®kill -9ÁöÑÊñπÂºèÁªàÊ≠¢ËøõÁ®ãp2 Âà†Èô§‰πãp2ÁöÑÂ≠êËøõÁ®ãp4Âíåp5ÊåÇËΩΩinit‰∏äÈù¢„ÄÇÁÑ∂ÂêéËøõÁ®ãp1,p2,p3ËøòÊòØÂéüÊù•ÁöÑËøõÁ®ãÔºåËøõÁ®ãp2ËôΩÁÑ∂Ë¢´ÊùÄÊ≠ªÔºå‰ΩÜÊòØÂèòÊàêZ+ÁöÑÁä∂ÊÄÅÔºåÊàê‰∏∫ÈÄÄÂá∫Áä∂ÊÄÅËøõÁ®ãÁöÑÂÉµÂ∞∏ËøõÁ®ã„ÄÇ Êü•ÁúãËæìÂá∫‰ø°ÊÅØÔºåÂèëÁé∞ËøõÁ®ãp2ÁöÑËæìÂá∫Â∑≤ÁªèÊ≤°Êúâ‰∫Ü ÈááÁî®exit()Ê≠£Â∏∏ÈÄÄÂá∫ËøõÁ®ã ÂÆûÈ™åÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö ÂÆûÈ™åÊ≠•È™§ ‰∏ãÈù¢ÊòØËøõÁ®ãp2Âú®exit‰πãÂâçÁöÑËøõÁ®ãÊ†ë ‰ª£Á†Å‰∏≠ÂèØ‰ª•ÁúãÂà∞ÔºåËøõÁ®ãp2Âú®ËæìÂá∫10Ê¨°‰πãÂêéÂ∞±‰ºöÊ≠£Â∏∏ÈÄÄÂá∫„ÄÇ‰∏ãÈù¢ÊòØËøõÁ®ãp2ÈÄÄÂá∫‰πãÂêéÁöÑËøõÁ®ãÊ†ë„ÄÇ ÂÜçÊü•ÁúãËøõÁ®ãp2ÁöÑËØ¶ÁªÜ‰ø°ÊÅØÔºåÂæóÁü•ËøõÁ®ãp2ÁöÑÁä∂ÊÄÅ‰πüÂèòÊàê‰∫ÜZ+ÔºåÊàê‰∏∫Âç≥Â∞ÜÈÄÄÂá∫ÁöÑÂÉµÂ∞∏ËøõÁ®ã„ÄÇ ÈááÁî®ÊÆµÈîôËØØÈÄÄÂá∫ ÂÆûÈ™å‰ª£Á†Å ÂÆûÈ™å‰ª£Á†ÅÂ¶Ç‰∏äÔºåÂú®ËøõÁ®ãp2ÁöÑËøõÁ®ãÊÆµÈáåÈù¢ÂÆö‰πâ‰∏Ä‰∏™ÈáéÊåáÈíàÔºåÈáéÊåáÈíàÊ≤°ÊúâÂàùÂßãÂåñ‰ºö‰∫ßÁîüÊÆµÈîôËØØÂØºËá¥ËøõÁ®ãÈÄÄÂá∫„ÄÇ ÂÆûÈ™åÊ≠•È™§ ‰∏ãÈù¢ÊòØËøõÁ®ãp2Âú®ÈÄÄÂá∫‰πãÂâçÁöÑÁöÑËøõÁ®ãÊ†ë ‚Äã ‰∏ãÈù¢Âú®p2ËøõÁ®ãÈÄÄÂá∫‰πãÂêéÁöÑËøõÁ®ãÂá∫ÔºåËøõÁ®ãp2ÁöÑÂ≠êËøõÁ®ãp4,p5ÊåÇËΩΩÂú®init‰∏äÔºåÁÑ∂Âêép2ËøõÁ®ãÂèòÊàê‰∫ÜÁä∂ÊÄÅ‰∏∫Z+ ÁöÑÂÉµÂ∞∏ËøõÁ®ã„ÄÇ Áªº‰∏äÊâÄËø∞Ôºå‰∏âÁßçÊñπÂºèÁöÑÁªàÊ≠¢ËøõÁ®ãÈÉΩ‰ºöÂ∞ÜËøõÁ®ãÂèòÊàêÂÉµÂ∞∏ËøõÁ®ãÔºåËøõÁ®ãÂú®ÈÄÄÂá∫ÁöÑËøáÁ®ã‰∏≠ÔºåÁ≥ªÁªüÂõûÊî∂ËµÑÊ∫êÔºåÈô§‰∫Ütask_structÁªìÊûÑÔºà‰ª•ÂèäÂ∞ëÊï∞ËµÑÊ∫êÔºâ‰ª•Â§ñ„ÄÇ‰∫éÊòØËøõÁ®ãÂ∞±Âè™Ââ©‰∏ãtask_structËøô‰πà‰∏™Á©∫Â£≥ÔºåÊïÖÁß∞‰∏∫ÂÉµÂ∞∏„ÄÇ‰πãÊâÄ‰ª•‰øùÁïôtask_structÔºåÊòØÂõ†‰∏∫task_structÈáåÈù¢‰øùÂ≠ò‰∫ÜËøõÁ®ãÁöÑÈÄÄÂá∫Á†Å„ÄÅ‰ª•Âèä‰∏Ä‰∫õÁªüËÆ°‰ø°ÊÅØ„ÄÇËÄåÂÖ∂Áà∂ËøõÁ®ãÂæàÂèØËÉΩ‰ºöÂÖ≥ÂøÉËøô‰∫õ‰ø°ÊÅØ„ÄÇËøô‰πüÊòØ‰∏∫‰ªÄ‰πàËøõÁ®ãp2ÁªàÊ≠¢‰πãÂêéÂú®ËøõÁ®ãÊ†ë‰∏≠ËøòËÉΩÁúãÂà∞ËøõÁ®ãp2ÁöÑ‰ø°ÊÅØÁ≠â„ÄÇ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>Êìç‰ΩúÁ≥ªÁªüÂÆûÈ™å</category>
      </categories>
      <tags>
        <tag>Êìç‰ΩúÁ≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú®githubÈÉ®ÁΩ≤gitbookÊïôÁ®ã]]></title>
    <url>%2F2019%2F03%2F01%2Fgitbook%2F</url>
    <content type="text"><![CDATA[gitbook‰ΩøÁî®Êú¨Âú∞‰øÆÊîπ Âú®Êú¨Âú∞Âà©Áî® yu writerËøõË°åÁºñËæë‰πãÂêé‰ΩøÁî®git‰∏ä‰º†Âà∞github123git add &lt;‰øÆÊîπÁöÑÊñá‰ª∂Âêç&gt;git commit -m "‰øÆÊîπÁöÑÁÆÄËø∞"git push -u github master ÊúçÂä°Âô®‰ªégithubÂêåÊ≠•Êï∞ÊçÆ1git pull github master ÈáçÂêØgitbookÊúçÂä°1234lsof -i:4000# ÊâæÂà∞pid‰πãÂêéÊùÄÊ≠ªËøõÁ®ãkill -9 pidsetsid gitbook serve . document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>tools</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>ÊûÅÂÆ¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êñá‰ª∂Á≥ªÁªüÂÆûÈ™å]]></title>
    <url>%2F2019%2F03%2F01%2Flab5%2F</url>
    <content type="text"><![CDATA[ÂÆûÈ™å‰∫î-Êñá‰ª∂Á≥ªÁªü ÂÆûÈ™åÊä•Âëä Â≠ôÊ±âÊ≠¶ 16281047 ÂÆâÂÖ®1601 ÂÆûÈ™åÊ∫êÁ†ÅÈìæÊé•:https://github.com/sunhanwu/16281047_OperatingSystemExperiment/tree/master/lab5 pdf‰∏ãËΩΩ ‰∏Ä Ê¶ÇË¶ÅËÆæËÆ°$\qquad$Êú¨Ê¨°ÁöÑÂÆûÈ™åÁöÑÂÆûÈ™åÁõÆÁöÑÊòØÂú®Ê®°ÊãüÁöÑI/OÁ≥ªÁªü‰∏≠ÂºÄÂèë‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊñá‰ª∂Á≥ªÁªüÔºåÂπ∂‰∏îÊèê‰æõ‰∏Ä‰∫õÂÄüÂè£ÁªôÁî®Êà∑Áî®‰∫é‰∫§‰∫íÔºå‰ªéÂÆûÈ™åÁõÆÁöÑÂèØ‰ª•ÁúãÂá∫ÔºåÊú¨ÂÆûÈ™åÈáçÁÇπÂú®‰∫éÊûÑÂª∫Ê®°ÊãüÁöÑI/OÁ≥ªÁªüÂíåÂü∫‰∫éI/OÁ≥ªÁªüÁöÑÊñá‰ª∂Á≥ªÁªü„ÄÇÊâÄ‰ª•ÔºåÂú®Ê¶ÇË¶ÅËÆæËÆ°‰∏≠ÔºåÂ∞ÜËØ¶ÁªÜ‰ªãÁªçÊ®°ÊãüI/OÁ≥ªÁªüÁöÑËÆæËÆ°„ÄÅÊñá‰ª∂Á≥ªÁªüÁöÑËÆæËÆ°ÂíåÊµãËØïÊ®°ÂùóÁöÑËÆæËÆ°Ëøô‰∏â‰∏™ÈÉ®ÂàÜ„ÄÇ 1.1 I/OÁ≥ªÁªüËÆæËÆ° $\qquad$IOÁ≥ªËÆæËÆ°È¶ñÂÖàË¶ÅËß£ÂÜ≥ÁöÑÊòØÈúÄË¶ÅÊúâ‰∏Ä‰∏™Áâ©ÁêÜÁ£ÅÁõòÔºå‰∏∫Ê≠§ÔºåÊàë‰ª¨ÈÄöËøáÂÆö‰πâ‰∏Ä‰∏™‰∏âÁª¥ÁöÑÁ£ÅÁõòÂùóÁªìÊûÑ‰ΩìÊï∞ÁªÑË°®Á§∫Áâ©ÁêÜÁ£ÅÁõòÔºåËØ•ÁªìÊûÑ‰ΩìÊï∞ÁªÑÁöÑÊØè‰∏Ä‰∏™Áª¥Â∫¶ÂàÜÂà´Ë°®Á§∫Áâ©ÁêÜÁ£ÅÁõò‰∏≠ÁöÑ‰∏Ä‰∏™Â±ÇÊ¨°„ÄÇ $\qquad$Êàë‰ª¨Ê®°ÊãüÁöÑÁ£ÅÁõòÂ¶Ç‰∏äÊâÄÁ§∫ÔºåÁ¨¨‰∏ÄÁª¥Ë°®Êü±Èù¢ÔºåÁ¨¨‰∫åÁª¥Ë°®Á§∫Á£ÅÂ§¥ÔºåÊúÄÂêé‰∏ÄÁª¥Ë°®Á§∫ÊâáÂå∫„ÄÇÁ£ÅÁõòÂÆö‰πâÂ•Ω‰πãÂêéÈúÄË¶ÅÂÆö‰πâ‰∏ÄÁ≥ªÂàóÁöÑÂáΩÊï∞Áî®‰∫éÊìç‰ΩúÁ£ÅÁõò„ÄÇIOÁ≥ªÁªüÂ∑•‰ΩúÁöÑÊµÅÁ®ãÂíåÁªìÊûÑÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö $\qquad$IOÁ≥ªÁªüÊèê‰æõÁöÑÊìç‰ΩúÁ£ÅÁõòÁöÑAPIÂ¶Ç‰∏äÂõæÊâÄÁ§∫Ôºå‰∏ªË¶ÅÂàÜ‰∏∫‰∫î‰∏™Â§ßÁ±ªÔºåÂàÜÂà´ÊòØÂàùÂßãÂåñÁ£ÅÁõò„ÄÅÁ£ÅÁõòÊêúÁ¥¢„ÄÅÁ£ÅÁõòËØªÂÜô„ÄÅÁ£ÅÁõò‰ΩçÂõæÂ§ÑÁêÜ„ÄÅÁ£ÅÁõò‰∏éÊñá‰ª∂ËΩ¨ÂåñÁ≠âÔºå‰∏ãÈù¢ÁöÑË°®Ê†ºÂàÜÂà´‰ªãÁªç‰∫ÜÂêÑ‰∏™Á±ªÂà´Êèê‰æõÁöÑAPIÁöÑËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ Á£ÅÁõòÂàùÂßãÂåñ ÂáΩÊï∞Âêç ÂèÇÊï∞ ËøîÂõûÂÄº ÂäüËÉΩ InitDisk() Êó† Êó† ÂàùÂßãÂåñÁ£ÅÁõòÊï∞ÁªÑ Á£ÅÁõòÊêúÁ¥¢ ÂáΩÊï∞Âêç ÂèÇÊï∞ ËøîÂõûÂÄº ÂäüËÉΩ SearchBitMap Êó† Á©∫Èó≤Á£ÅÁõòÂùóÂè∑ ÊêúÁ¥¢Âπ∂ËøîÂõûÊúÄÂ∞èÁöÑÁ©∫Èó≤Á£ÅÁõòÂùóÂè∑ Á£ÅÁõòËØªÂÜô ÂáΩÊï∞Âêç ÂèÇÊï∞ ËøîÂõûÂÄº ÂäüËÉΩ ReadBlock int i :ÊåáÂÆöËØªÂèñÁöÑÁ£ÅÁõòÂùóÂè∑char *p ÔºöËøîÂõûËØªÂèñÂÜÖÂÆπ Êó† ËØªÂèñÊåáÂÆöÁ£ÅÁõòÂùóÂÜÖÂÆπ WriteBlock int iÔºöÊåáÂÆöÂÜôÂÖ•ÁöÑÁ£ÅÁõòÂùóÂè∑char *p:ÂÜôÂÖ•ÁöÑÂÜÖÂÆπ Êó† ÂÜôÂÖ•ÂÜÖÂÆπÂà∞ÊåáÂÆöÁ£ÅÁõòÂùó Á£ÅÁõò‰ΩçÂõæÂ§ÑÁêÜ ÂáΩÊï∞Âêç ÂèÇÊï∞ ËøîÂõûÂÄº ÂäüËÉΩ InitBitMap Êó† Êó† ÂàùÂßãÂåñ‰ΩçÂõæ ChangeBitMap int i:Ë¶Å‰øÆÊîπÁöÑÁ£ÅÁõòÂùóÂè∑char p:‰øÆÊîπÁöÑÂÜÖÂÆπ(Y/N) Êó† ‰øÆÊîπ‰ΩçÂõæÊØè‰∏Ä‰ΩçÁöÑÂÄº Á£ÅÁõò‰∏éÊñá‰ª∂ÁöÑËΩ¨Âåñ $\qquad$Áî±‰∫éÊòØÂú®ÂÜÖ‰ªé‰∏≠ÂàõÂª∫Êï∞ÁªÑÊ®°ÊãüÁâ©ÁêÜÁ£ÅÁõòÔºåÊâÄ‰ª•ËøôÁßçÊñπÂºèÊó†Ê≥ïÊ®°ÊãüÁâ©ÁêÜÁ£ÅÁõòÊñ≠Áîµ‰∏ç‰∏¢Â§±‰ø°ÊÅØÁöÑÁâπÊÄß„ÄÇ‰∏∫‰∫ÜÊª°Ë∂≥Ëøô‰∏™Ë¶ÅÊ±ÇÔºåËÆæËÆ°‰∏Ä‰∏ãÁöÑÂáΩÊï∞Áî®‰∫éÂ∞ÜÊï∞ÁªÑ‰∏≠ÁöÑ‰ø°ÊÅØÂ≠òÂÇ®Âà∞Êñá‰ª∂‰∏≠ÂíåÊñá‰ª∂‰∏≠ËØªÂèñÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ ÂáΩÊï∞Âêç ÂèÇÊï∞ ËøîÂõûÂÄº ÂäüËÉΩ DiskToFile char filename[]ÔºöÊñá‰ª∂Âêç Êó† Â∞ÜÁ£ÅÁõòÊï∞ÁªÑ‰ø°ÊÅØÂ≠òÂÇ®‰∏∫Êñá‰ª∂ FileToDsik char filename[]:Êñá‰ª∂Âêç Êó† Â∞ÜÊñá‰ª∂ËØªÂèñÂà∞Á£ÅÁõòÊï∞ÁªÑ‰∏≠ 1.2 Êñá‰ª∂Á≥ªÁªüËÆæËÆ°$\qquad$Âú®‰∏ä‰∏ÄËäÇËÆæËÆ°ÁöÑIOÁ≥ªÁªüÁöÑÂü∫Á°Ä‰∏äÔºåËøõË°åÊñá‰ª∂Á≥ªÁªüÁöÑËÆæËÆ°ÔºåÊñá‰ª∂Á≥ªÁªüËÆæËÆ°Êó∂Êúâ‰∏§‰∏™ÂæàÈáçË¶ÅÁöÑÊ¶ÇÂøµÔºåÂàÜÂà´ÊòØÊñá‰ª∂ÊèèËø∞Á¨¶ÂíåÁõÆÂΩïÈ°πËøô‰∏§‰∏™Êï∞ÊçÆÁªìÊûÑÁöÑÂÆö‰ª•ÂèäÂú®Ëøô‰∏™Âü∫Á°Ä‰∏äËøõË°åÁöÑ‰∏ÄÁ≥ªÂàóÊìç‰Ωú„ÄÇ Áî®Êà∑Êé•Âè£ $\qquad$Êñá‰ª∂Á≥ªÁªüÊèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàó‰æø‰∫éÁî®Êà∑Êìç‰ΩúÁöÑÊé•Âè£ÔºåÁî®‰∫éÂØπÊñá‰ª∂Á≥ªÁªü‰∏≠ÁöÑÊñá‰ª∂ËøõË°åÂ¢ûÂà†ÊîπÊü•ÔºåÂÖ∑‰ΩìÊé•Âè£‰ø°ÊÅØÂ¶Ç‰∏ãÔºö ÂáΩÊï∞Âêç ÂèÇÊï∞ ËøîÂõûÂÄº ÂäüËÉΩ create char filename[] Êó† ÂàõÂª∫Êñá‰ª∂ destroy char filename[] Êó† Âà†Èô§Êñá‰ª∂ open char filename[] Êó† ÊâìÂºÄÊñá‰ª∂ close char filename[] Êó† ÂÖ≥Èó≠Êñá‰ª∂ read index:Êñá‰ª∂ÊèèËø∞Á¨¶Âè∑mem_area:ËØªÂèñÁöÑ‰ΩçÁΩÆcount:ËØªÂèñÁöÑÂ≠óËäÇÊï∞ Êó† ËØªÂèñÊñá‰ª∂ÂÜÖÂÆπ write index:Êñá‰ª∂ÊèèËø∞Á¨¶mem_area:xÂÜôÂÖ•ÁöÑ‰ΩçÁΩÆcount:ÂÜôÂÖ•Â≠óËäÇÊï∞ Êó† ÂêëÊñá‰ª∂‰∏≠ÂÜôÂÖ•‰ø°ÊÅØ lseek index:Êñá‰ª∂ÊèèËø∞Á¨¶ Âè∑pos:‰ΩçÁΩÆ Êó† ÁßªÂä®Êñá‰ª∂ËØªÂÜôÊåáÈíà $\qquad$Êñá‰ª∂Á≥ªÁªüÊèê‰æõÁöÑ‰∏äËø∞Êé•Âè£Â∑≤ÁªèÂèØ‰ª•Êª°Ë∂≥ÂØπÊñá‰ª∂Á≥ªÁªüÁöÑÂ∏∏ËßÑÊìç‰Ωú„ÄÇ‰∏äÈù¢ÁöÑÊé•Âè£‰∏≠ÊèêÂà∞ÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶Âú®Êñá‰ª∂Á≥ªÁªü‰∏≠ÊòØ‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑÊ¶ÇÂøµÔºåÊØè‰∏™Êñá‰ª∂ÈÉΩÂøÖÈ°ª ÈÄöËøá‰∏Ä‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶Êù•Ë°®Á§∫ ÔºåÂÖ∂Êñá‰ª∂ÈïøÂ∫¶‰ø°ÊÅØ ÔºåÊñá‰ª∂Â≠òÂÇ®‰ΩçÁΩÆÁ≠âÂ∏∏ËßÑ ‰ø°ÊÅØÈÉΩÂ≠òÂÇ®Âú®Êñá‰ª∂ÊèèËø∞Á¨¶‰∏≠„ÄÇ $\qquad$‰∏∫Ê≠§ÊàëËÆæËÆ°‰∫Ü‰∏Ä‰∏™ÁªìÊûÑ‰ΩìFileDescriptorÁî®‰∫éË°®Á§∫Êñá‰ª∂ÊèèËø∞Á¨¶ÔºåÂπ∂‰∏îÂ∞ÜËØ•ÁªìÊûÑ‰ΩìËøõË°å4Â≠óËäÇÂØπÈΩêÔºåÊñπ‰æøÂêéÁª≠‰ª•‰∫åËøõÂà∂ÂΩ¢ÂºèÂ≠òÂÇ®Âú®Êñá‰ª∂‰∏≠„ÄÇ $\qquad$Âú®Êñá‰ª∂Á≥ªÁªü‰∏≠Âè¶Â§ñ‰∏Ä‰∏™ÈáçË¶ÅÊ¶ÇÂøµÂ∞±ÊòØÁõÆÂΩïÔºåÂõ†Ê≠§ÂÆö‰πâ‰∏Ä‰∏™ÁªìÊûÑ‰ΩìË°®Á§∫ÁõÆÂΩïÈ°πÔºåÁî®‰∫éÂ≠òÂÇ®Êñá‰ª∂ÂêçÂíåÊñá‰ª∂ÊèèËø∞Á¨¶Âè∑„ÄÇ $\qquad$Êñá‰ª∂ÊèèËø∞Á¨¶ÂíåÁõÆÂΩïÈ°πÂú®Á£ÅÁõò‰∏≠Â≠òÂÇ®ÁöÑ‰ΩçÁΩÆÂ¶Ç‰∏äÂõæÊâÄÁ§∫ÔºåÂÖ∂‰∏≠Á£ÅÁõòÂùóÁöÑÁ¨¨‰∏ÄÂíåÁ¨¨‰∫åÂùóÁî®‰∫éÂ≠òÂÇ®Á£ÅÁõòÂùóÁöÑ‰ΩçÂõæÔºåÁ¨¨3-13ÂùóÁî®‰∫éÂ≠òÂÇ®ÊñáÊèèËø∞Á¨¶Ôºå14ÂùóÁî®‰∫éÂ≠òÂÇ®ÁõÆÂΩïÈ°π‰ø°ÊÅØ„ÄÇ $\qquad$ÁªèËøá4Â≠óËäÇÂØπÈΩê‰πãÂêéÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶ÁªìÊûÑ‰ΩìÂ§ßÂ∞è‰∏∫24Â≠óËäÇÔºåËÄå‰∏Ä‰∏™Á£ÅÁõòÂùóÊúâ512Â≠óËäÇÂ≠òÂÇ®Á©∫Èó¥ÔºåÊâÄ‰ª•‰∏Ä‰∏™Á£ÅÁõòÂùóÊúÄÂ§öÂ≠òÂÇ®21‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶ÔºåËÄåÊú¨ÂÆûÈ™å‰∏≠ËÆæÁΩÆÁöÑÁî®‰∫éÂ≠òÂÇ®Êñá‰ª∂ÊèèËø∞Á¨¶ÁöÑÁ£ÅÁõòÂùó‰∏∫10ÂùóÔºåÊúÄÂ§öÂèØ‰ª•Â≠òÂÇ®210‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶„ÄÇ $\qquad$ÁõÆÂΩï‰πüÂèØ‰ª•ÁúãÂÅö‰∏Ä‰∏™Êñá‰ª∂ÔºåÊâÄ‰ª•‰πü‰ºöÂç†ÊçÆ‰∏Ä‰∏™Êñá‰ª∂Êñá‰ª∂ÊèèËø∞Á¨¶ÔºåÊú¨ÂÆûÈ™å‰∏≠ÁõÆÂΩïÂç†Áî®ÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶ÊòØÁ¨¨‰∏Ä‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶„ÄÇÂπ∂‰∏îÂ≠òÂÇ®ÁõÆÂΩï‰ø°ÊÅØÁöÑÁ£ÅÁõòÊòØ14Âè∑Á£ÅÁõòÔºåÁªèËøá4Â≠óËäÇÂØπÈΩêÁöÑÁõÆÂΩïÈ°πÁªìÊûÑ‰ΩìÂ§ßÂ∞è‰∏∫16BÔºåÊâÄ‰ª•ÊúÄÂ§öÊúâ32‰∏™Êñá‰ª∂„ÄÇ $\qquad$Êñá‰ª∂Á≥ªÁªüÁöÑAPIÂ¶Ç‰∏äÂõæÊâÄÁ§∫ÔºåÊàëÂ∞ÜÊñá‰ª∂Á≥ªÁªüÁöÑAPIÂàÜ‰∏∫ÂàùÂßãÂåñ„ÄÅÁî®Êà∑Êé•Âè£„ÄÅÊêúÁ¥¢ÂíåÂÖ∂‰ªñËøôÂõõÁ±ªÔºåÊØè‰∏Ä‰∏™Â§ßÁ±ªÂÖ∑‰ΩìÁöÑÂáΩÊï∞Â¶Ç‰∏ãË°®ÊâÄÁ§∫Ôºö Êñá‰ª∂Á≥ªÁªüÂàùÂßãÂåñ ÂáΩÊï∞Âêç ÂèÇÊï∞ ËøîÂõûÂÄº ÂäüËÉΩ InitFileDescriptor Êó† Êó† ÂàùÂßãÂåñÊñá‰ª∂ÊèèËø∞Á¨¶Êï∞ÁªÑ InitMenu Êó† Êó† ÂàùÂßãÂåñÁõÆÂΩïÈ°πÊï∞ÁªÑ Êñá‰ª∂Á≥ªÁªüÁî®Êà∑Êé•Âè£(‰∏äÈù¢Â∑≤Áªè‰ªãÁªçËøáÔºå‰∏çÂú®ËµòËø∞) Êñá‰ª∂Á≥ªÁªüÊêúÁ¥¢ ÂáΩÊï∞Âêç ÂèÇÊï∞ ËøîÂõûÂÄº ÂäüËÉΩ SearchFileDescriptor Êó† Êó† ÊêúÁ¥¢Á©∫Èó≤ÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶ SearchMenuItem Êó† Êó† ÊêúÁ¥¢Á©∫Èó≤ÁöÑÁõÆÂΩïÈ°π ÂÖ∂‰ªñ $\qquad$ËøôÈÉ®ÂàÜ‰∏ªË¶ÅÂÆö‰πâÁöÑÊòØ‰∏Ä‰∫õÊñπ‰æøÊìç‰ΩúÁöÑÂáΩÊï∞Ôºå‰æãÂ¶ÇÂ∞ÜÊñá‰ª∂ÊèèËø∞Á¨¶Êï∞ÁªÑÂÜôÂÖ•Á£ÅÁõòÂùó‰∏≠ÂéªÔºåÂ∞ÜÁõÆÂΩïÁ≥ªÁªüÂÜôÂÖ•Á£ÅÁõòÂùóÁ≠âÁ≠â„ÄÇ ÂáΩÊï∞Âêç ÂèÇÊï∞ ËøîÂõûÂÄº ÂäüËÉΩ DiskToFileDescriptor Êó† Êó† ‰ªéÁ£ÅÁõòÂùó‰∏≠ÊÅ¢Â§çÊñá‰ª∂ÊèèËø∞Á¨¶Êï∞ÁªÑ FileDescriptorToDisk Êó† Êó† Â∞ÜÊñá‰ª∂ÊèèËø∞Á¨¶Êï∞ÁªÑ‰ø°ÊÅØÂÜôÂÖ•Á£ÅÁõòÂùó MenuToFileDescriptor Êó† Êó† Â∞ÜÁõÆÂΩïÈ°πÊï∞ÁªÑÂÜôÂÖ•Á¨¨‰∏Ä‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶ FileDescriptorToMenu Êó† Êó† Â∞ÜÁ¨¨‰∏Ä‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶ÂÜÖÂÆπÊÅ¢Â§çÂà∞ÁõÆÂΩïÈ°πÊï∞ÁªÑ $\qquad$Âà∞Ê≠§ÔºåÊñá‰ª∂Á≥ªÁªüÈÉ®ÂàÜÊâÄÊúâÊï∞ÊçÆÁªìÊûÑÂíåÂáΩÊï∞Âùá‰ªãÁªçÂÆåÊØï 1.3 ËèúÂçïÁ≥ªÁªüËÆæËÆ°$\qquad$ÂÆåÊàêIOÁ≥ªÁªüÁöÑËÆæËÆ°ÂíåÊñá‰ª∂Á≥ªÁªüÁöÑËÆæËÆ°ÔºåÈúÄË¶ÅÂØπ‰∏äËø∞ÁöÑÂäüËÉΩËÆæËÆ°‰∏Ä‰∏™Â§ñÂ£≥Á®ãÂ∫èÔºåÂç≥‰∏Ä‰∏™Áî®Êà∑ÁïåÈù¢‰æø‰∫é‰ΩøÁî®ÔºåÊÄªÁªìÊñá‰ª∂Á≥ªÁªüÁöÑÊâÄÊúâÂäüËÉΩÔºåËÆæËÆ°ÁöÑËèúÂçïÈ©±Âä®Á®ãÂ∫èÂåÖÂê´Â¶Ç‰∏ã‰∏§Â±ÇËèúÂçï„ÄÇ ‰∏ÄÁ∫ßËèúÂçï ÂàõÂª∫Êñ∞Á£ÅÁõòÁ≥ªÁªü ‰ªéÊñá‰ª∂‰∏≠ÊÅ¢Â§çÂéÜÂè≤Á£ÅÁõòÁ≥ªÁªü ‰∫åÁ∫ßËèúÂçï Êü•ÁúãÁõÆÂΩï ÂàõÂª∫Êñá‰ª∂ Âà†Èô§Êñá‰ª∂ ÊâìÂºÄÊñá‰ª∂ ‰øÆÊîπÊñá‰ª∂ Êü•Áúã‰ΩçÂõæ ‰øùÂ≠òÁ£ÅÁõò ÈÄÄÂá∫ ‰∫å I/OÁ≥ªÁªü2.1 Á£ÅÁõòÂùóÁªìÊûÑ‰Ωì I/OÁ≥ªÁªüÈÉ®ÂàÜÂÖ®ÈÉ®‰ª£Á†ÅÈÉΩÂú®IO.hÊñá‰ª∂‰∏≠ Á£ÅÁõòÂùóÁªìÊûÑ‰ΩìBLOCK $\qquad$ËÆæËÆ°Êï¥‰∏™I/OÁ≥ªÁªüÁöÑÂü∫Á°ÄÂ∞±ÊòØËÆæËÆ°Ê®°ÊãüÁ£ÅÁõòÂùóÁöÑÁªìÊûÑ‰ΩìÔºåÂπ∂Áî®ÁªìÊûÑ‰ΩìÊï∞ÁªÑ‰ª£Ë°®Á£ÅÁõòÔºåÈÄöËøáÂÆö‰πâ‰∏âÁª¥ÁöÑÁªìÊûÑ‰ΩìÊï∞ÁªÑÊù•Ê®°ÊãüÂá∫Êï¥‰∏™Á£ÅÁõòÁöÑÁâ©ÁêÜÁªìÊûÑÔºåËøô‰∏âÁª¥ÂàÜÂà´‰ª£Ë°®Êü±Èù¢„ÄÅÁ£ÅÂ§¥ÂíåÊâáÂå∫„ÄÇ‰∏ãÈù¢ÊòØÁ£ÅÁõòÂùó(ÈÄªËæëÂùó)ÁªìÊûÑ‰ΩìÁöÑÂÆö‰πâÔºö 12345678typedef struct BLOCK{ char Content[512]; //ÈÄªËæëÂùóÂ≠òÂÇ®ÁöÑÂÜÖÂÆπ int BlockNnum; //ÈÄªËæëÂùóÂè∑ int c; // Êü±Èù¢Âè∑ int h; //Á£ÅÂ§¥Âè∑ int b; //ÊâáÂå∫Âè∑}BLOCK; $\qquad$Á£ÅÁõòÂùóÁªìÊûÑ‰ΩìÊúÄÈáçË¶ÅÁöÑÊàêÂëòÂ∞±ÊòØÁî®‰∫éÂ≠òÂÇ®‰ø°ÊÅØContentÔºåËøôÊòØ‰∏Ä‰∏™Â≠óÁ¨¶ÂûãÊï∞ÁªÑÔºåÂ§ßÂ∞è‰∏∫512‰∏™Â≠óËäÇ„ÄÇËÄåÂè¶Â§ñÁöÑÈÄªËæëÂùóÂè∑ÔºåÊü±Èù¢Âè∑ÔºåÁ£ÅÂ§¥Âè∑ÂíåÊâáÂå∫Âè∑ËøôÂõõ‰∏™ÊàêÂëòÊòØ‰∏∫‰∫Ü‰æø‰∫éÂêéÁª≠Á®ãÂ∫èËÆæËÆ°ÁöÑ„ÄÇ‰∏ãÈù¢ÁöÑË°®Ê†ºËØ¶ÁªÜË°®Á§∫ÊØè‰∏™ÊàêÂëòÁöÑ‰ø°ÊÅØÔºö ÊàêÂëòÂêç Á±ªÂûã Â§ßÂ∞è ‰ΩúÁî® Content Â≠óÁ¨¶Êï∞ÁªÑ 512Â≠óËäÇ Â≠òÂÇ®Á£ÅÁõòÂùóÂÜÖÂÆπ BlockNum Êï¥Âûã 4Â≠óËäÇ Á£ÅÁõòÂùóÁöÑÈÄªËæëÂùóÂè∑ c Êï¥Âûã 4Â≠óËäÇ Êü±Èù¢Âè∑ h Êï¥Âûã 4Â≠óËäÇ Á£ÅÂ§¥Âè∑ b Êï¥Âûã 4Â≠óËäÇ ÊâáÂå∫Âè∑ Áâ©ÁêÜÁ£ÅÁõò(BLOCKÊï∞ÁªÑ) $\qquad$Á£ÅÁõòÂùóÁªìÊûÑ‰ΩìÂÆö‰πâÂ•Ω‰πãÂêéÔºåÂèØ‰ª•Ê®°ÊãüÂá∫‰∏Ä‰∏™Á£ÅÁõòÂùóÔºå‰ΩÜÊòØÂÆåÊï¥ÁöÑÁ£ÅÁõòÊòØ‰∏Ä‰∏™‰∏âÁª¥ÁöÑÁ£ÅÁõòÂùóÁªìÊûÑ‰ΩìÊï∞ÁªÑÊûÑÊàêÁöÑ„ÄÇ 1234#define C 10 // Êü±Èù¢Âè∑#define H 10 //Á£ÅÂ§¥Âè∑#define B 10 //ÊâáÂå∫Âè∑BLOCK ldisk[C][H][B];//Á£ÅÁõòÊ®°Âûã $\qquad$Âú®IO.hÁõ¥Êé•ÂÆö‰πâldiskÊï∞ÁªÑÔºåÊ®°ÊãüÁâ©ÁêÜÁ£ÅÁõò„ÄÇÂπ∂‰∏îÈÄöËøáÂÆèÂÆö‰πâC„ÄÅHÂíåB‰∏â‰∏™ÈáèË∞ÉÊï¥Áâ©ÁêÜÁ£ÅÁõòÁöÑÂ§ßÂ∞è„ÄÇ Á£ÅÁõòÂàùÂßãÂåñÂáΩÊï∞ $\qquad$Âú®Ê®°ÊãüÁâ©ÁêÜÁ£ÅÁõòÁöÑ‰∏âÁª¥ÁªìÊûÑ‰ΩìÊï∞ÁªÑÂÆö‰πâÂ•Ω‰πãÂêéÔºåÈúÄË¶ÅÂØπËØ•Êï∞ÁªÑËøõË°åÂàùÂßãÂåñÔºåÂØπÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÔºåÂç≥ÊØè‰∏™Á£ÅÁõòÂùóËøõË°åÂàùÂßãÂåñ„ÄÇ 123456789101112void InitDisk(void){ for(int i=0;i&lt;C;i++) for(int j=0;j&lt;H;j++) for(int k=0;k&lt;B;k++) { ldisk[i][j][k].c=i; ldisk[i][j][k].h=j; ldisk[i][j][k].b=k; ldisk[i][j][k].BlockNnum=DiskNumToBlock(i,j,k);//ËÆ°ÁÆóÂØπÂ∫îÁöÑÈÄªËæëÂùóÂè∑ }} $\qquad$ÂèØ‰ª•ÁúãÂà∞ÂØπÁ£ÅÁõòÂùóÊï∞ÁªÑËøõË°åÂàùÂßãÂåñÁöÑÊñπÂºèÈùûÂ∏∏ÁÆÄÂçïÔºå‰∏ªË¶ÅÂåÖÂê´‰∏§‰∏™Â∑•‰ΩúÔºå‰∏Ä‰∏™Â∞±ÊòØÈ°∫Â∫èÁºñÂè∑ÂÖ∂Êü±Èù¢Âè∑„ÄÅÁ£ÅÂ§¥Âè∑ÂíåÊâáÂå∫Âè∑ÔºõËøòÊúâ‰∏Ä‰∏™ÂäüËÉΩÂ∞±ÊòØËÆ°ÁÆóÈÄªËæëÂùóÂè∑ 2.2 Á£ÅÁõòËØªÂÜô$\qquad$ËØ¥ÈÅìÁ£ÅÁõòÁ≥ªÁªüÁöÑAPIÂáΩÊï∞ÔºåÊúÄÈáçË¶ÅÁöÑ‰∏§‰∏™ÂáΩÊï∞Â∞±ÊòØÂØπÁ£ÅÁõòÂùóËøõË°åËØªÂÜôÊìç‰ΩúÁöÑ‰∏§‰∏™ÂáΩÊï∞„ÄÇ‰∏ãÈù¢ÂàÜÂà´‰ªãÁªçËøô‰∏™‰∏§‰∏™ÂáΩÊï∞ÁöÑËØ¶ÁªÜÂÜÖÂÆπ„ÄÇ ËØªÁ£ÅÁõòÂùóÂáΩÊï∞ÔºöReadBlock(int i,char *p): 12345678void ReadBlock(int i,char *p){ int c,h,b;//Á£ÅÁõòÁöÑÊü±Èù¢ Á£ÅÈÅì ÊâáÂå∫ c = i % (H*B);// h = (i -c*H*B) % B;// b = i-c*H*B - h*B;// memcpy(p,ldisk[c][h][b].Content,512);} $\qquad$3-6Ë°åËÆ°ÁÆóÈÄªËæëÂè∑‰∏∫iÁöÑÈÄªËæëÂùóÂú®Á£ÅÁõòÁ≥ªÁªü‰∏≠ÁöÑÊü±Èù¢Âè∑„ÄÅÁ£ÅÂ§¥Âè∑ÂíåÊâáÂå∫Âè∑Ôºõ $\qquad$Á¨¨7Ë°åÂèØ‰ª•Áúã‰ΩúÊ≠§ÂáΩÊï∞ÁöÑÊ†∏ÂøÉÊìç‰ΩúÔºåÂÆåÊàêÁöÑÂ∑•‰ΩúÂ∞±ÊòØÂ∞ÜÂà∂ÂÆöÁ£ÅÁõòÂùó‰∏≠ÁöÑÂÜÖÂÆπÈÄöËøámemcpyÂáΩÊï∞Â§çÂà∂Âà∞Â≠óÁ¨¶ÂûãÊåáÈíàp‰∏≠Âéª„ÄÇ Ê≥®ÊÑèÔºöËøôÈáå‰∏çËÉΩ‰ΩøÁî®strcpyÂáΩÊï∞Â§çÂà∂Â≠óÁ¨¶‰∏≤ÔºåÂõ†‰∏∫strcpyÂáΩÊï∞Âú®Â§çÂà∂ÁöÑÊó∂ÂÄô‰ºöÈÅáÂà∞Á¨¨‰∏Ä‰∏™\0Â∞±‰ºöÂÅúÊ≠¢Â§çÂà∂Ôºå‰ΩÜÊòØÁ£ÅÁõòÂùó‰∏≠Â≠òÂÇ®ÁöÑ‰ø°ÊÅØÂèØËÉΩ‰∏çÊòØËøûÁª≠ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂèØËÉΩÊòØ‰∏Ä‰∫õÂÖ∂‰ªñ‰ø°ÊÅØÔºå‰æãÂ¶ÇÊñá‰ª∂ÊèèËø∞Á¨¶Á≠âÔºåËøô‰∏™Êó∂ÂÄôÂ∞±‰ºöÁ¢∞Âà∞‰∏Ä‰∫õÁ©∫‰ΩçÁΩÆÁî®\0Ë°•ÂÖÖÔºå‰ΩÜÊòØÂêéÈù¢ËøòÊúâÊúâÁî®ÁöÑ‰ø°ÊÅØÔºåÊâÄ‰ª•‰ΩøÁî®memcpÂáΩÊï∞ÔºåÊåâÁÖßÊåáÂÆöÂ≠óËäÇÊï∞Â§çÂà∂ÔºåËÄå‰∏çËÄÉËôë\0ÁöÑÈóÆÈ¢ò ÂÜôÁ£ÅÁõòÂùóÂáΩÊï∞ÔºöWriteBlock(int i,char *p): 123456789void WriteBlock(int i,char *p){ int c,h,b; b = i % B; h = ((i - b) / B) % H; c = (i -b -h*B) / (H*B); b = i -c*H*B -h*B ; memcpy(ldisk[c][h][b].Content,p,512);} $\qquad$3-6Ë°åÊìç‰Ωú‰∏é‰∏äÈù¢Áõ∏‰ººÔºåÂ∞±ÊòØËÆ°ÁÆóÊü±Èù¢Âè∑„ÄÅÁ£ÅÂ§¥Âè∑ÂíåÊâáÂå∫Âè∑Ëøô‰∏â‰∏™ÂèÇÊï∞ $\qquad$8Á¨¨8Ë°å‰∏ªË¶ÅÁî®‰∫éÂ∞ÜÂèÇÊï∞pÊåáÈíà‰∏≠ÁöÑÂÜÖÂÆπÂ§çÂà∂Âà∞Á£ÅÁõòÂùó‰∏≠ 2.3 Á£ÅÁõò‰ΩçÂõæ$\qquad$‰∏∫‰∫ÜÊñπ‰æøÊü•ËØ¢Á£ÅÁõò‰∏≠ÁöÑÁ©∫Èó≤Á£ÅÁõòÂùóÔºåÁõ¥Êé•ÈÅçÂéÜÊü•ËØ¢ÁöÑÊïàÁéáÈùûÂ∏∏‰ΩéÔºåÊâÄ‰ª•Êú¨ÂÆûÈ™å‰∏≠ÈááÁî®‰∫Ü‰ΩçÂõæÁöÑÊñπÂºèÊù•Ë°®Á§∫Á£ÅÁõòÂùóÁöÑÂç†Áî®‰∏éÂê¶Ôºå‰∏Ä‰∏™Â≠óÁ¨¶Ë°®Á§∫‰∏Ä‰∏™Á£ÅÁõòÂùóÁöÑÂç†Áî®‰∏éÂê¶ÔºåÂÖ∂‰∏≠YË°®Á§∫Âç†Áî®ÔºåNË°®Á§∫Á©∫Èó≤„ÄÇËÄå‰ΩçÂõæÁºñÂè∑Â∞±ÊòØÁ£ÅÁõòÂùóÁöÑÈÄªËæëÂùóÂè∑Êï∞„ÄÇ ÂàùÂßãÂåñÁ£ÅÁõò‰ΩçÂõæÂáΩÊï∞ÔºöInitBitMap(void)Ôºö 12345678910void InitBitMap(void){ //Á¨¨0Ôºå1Âè∑Á£ÅÁõòÂ∑≤ÁªèË¢´Âç†Áî® ChangeBitMap(0,'Y'); ChangeBitMap(1,'Y'); for (int i=2;i&lt;C*H*B;i++) { ChangeBitMap(i,'N'); }} $\qquad$ÂèØ‰ª•ÁúãÂà∞ÂàùÂßãÂåñÂáΩÊï∞‰∏≠Â∞ÜÁ£ÅÁõòÂùóÊï∞Èáè(C*B*H)‰∏™Âçï‰ΩçÁöÑÂ≠óÁ¨¶‰øÆÊîπ‰∏∫NÔºåË°®Á§∫‰∏∫Âç†Áî®„ÄÇ4-5‰∏§Ë°åË°®Á§∫Á¨¨‰∏ÄÂùóÂíåÁ¨¨‰∫åÂùóÁâ©ÁêÜÁ£ÅÁõòÂàùÂßãÂåñÂ∞±Ë¢´Âç†Áî®ÔºåÂõ†‰∏∫Ëøô‰∏§ÂùóÁâ©ÁêÜÁ£ÅÁõòÁî®‰∫éÂ≠òÂÇ®‰ΩçÂõæ„ÄÇ ‰øÆÊîπ‰ΩçÂõæÂáΩÊï∞ÔºöChangeBitMap(int i,char p): 1234567void ChangeBitMap(int i,char p){ if(i &lt;512) ldisk[0][0][0].Content[i] = p; else ldisk[0][0][1].Content[i-512] = p;} $\qquad$Ëøô‰∏™ÂáΩÊï∞‰ΩøÁî®‰∏Ä‰∏™ifÁªìÊûÑÂà§Êñ≠ÈÄªËæëÂùóÂè∑ÔºåÂ¶ÇÊûúÂ§ß‰∫é512ÁöÑËØùÂ≠òÂÖ• Á¨¨‰∫å‰∏™Á£ÅÁõòÂùó‰∏≠ÔºåÂê¶ÂàôÂ≠òÂÖ•Á¨¨‰∏Ä‰∏™Á£ÅÁõòÂùó‰∏≠„ÄÇ 2.4 Á£ÅÁõòÊñá‰ª∂ÁöÑÂ≠òÂèñ$\qquad$Âú®ÂÜÖÂ≠ò‰∏≠ÂÆö‰πâÁöÑÁ£ÅÁõòÂùóÁªìÊûÑ‰ΩìÊï∞ÁªÑÊó†Ê≥ïÊª°Ë∂≥Êñ≠ÁîµÂêé‰ø°ÊÅØËøòËÉΩ‰øùÂ≠òÁöÑÁâπÊÄßÔºåÂõ†Ê≠§ÈúÄË¶ÅÂÜÖÂ≠ò‰∏≠ÁöÑÁ£ÅÁõòÂùóÊï∞ÁªÑ‰∏≠ÁöÑ‰ø°ÊÅØ‰øùÂ≠òÂà∞Êñá‰ª∂‰∏≠ÂéªÔºåÈúÄË¶ÅÁöÑÊó∂ÂÄôÂÜçÂä†ËΩΩÂá∫Êù•„ÄÇ Â∞ÜÁ£ÅÁõòÊï∞ÁªÑ‰øùÂ≠ò‰∏∫Êñá‰ª∂ÔºöDiskToFile(char filename[])Ôºö 12345678910111213141516171819void DiskToFile(char filename[]){// FileDescriptorToDisk(); FILE *fp; fp = fopen(filename,"wb"); //Âà§Êñ≠fpÊâìÂºÄÊàêÂäü if (fp ==NULL) { printf("File Open Fail"); exit(1); } // Âæ™ÁéØÈÅçÂéÜÔºåÂ∞ÜÁ£ÅÁõòÂùóÂÜÖÂÆπÂÜôÂÖ•‰∫åËøõÂà∂Êñá‰ª∂‰∏≠Âéª for(int i=0;i&lt;C;i++) for(int j=0;j&lt;H;j++) for(int k=0;k&lt;B;k++) //‰ª•‰∫åËøõÂà∂ÁöÑÂΩ¢ÂºèÂÜôÂÖ•‰∫åËøõÂà∂Êñá‰ª∂‰∏≠ fwrite(ldisk[i][j][k].Content,512,1,fp); fclose(fp);} $\qquad$3-5Ë°å‰ª•‰∫åËøõÂà∂ÂÜôÂÖ•ÂΩ¢ÂºèÊâìÂºÄÊåáÂÆöÊñá‰ª∂ÂêçÁöÑÊñá‰ª∂ $\qquad$7-11Ë°åÂà§Êñ≠Êñá‰ª∂ÊòØÂê¶ÊâìÂºÄÊàêÂäüÔºåÊ≤°ÊâìÂºÄÊàêÂäüÁöÑËØùËæìÂá∫ÈîôËØØ‰ø°ÊÅØÂπ∂ÈÄÄÂá∫Á®ãÂ∫è $\qquad$13-17Ë°åÔºåÈÅçÂéÜÁ£ÅÁõòÊï∞ÁªÑÔºå‰ª•‰∫åËøõÂà∂ÁöÑÂΩ¢ÂºèÂ∞ÜÁ£ÅÁõòÂùó‰∏≠Â≠òÂÇ®ÁöÑÂÜÖÂÆπÂÜôÂÖ•Âà∞Êñá‰ª∂‰∏≠Âéª„ÄÇÊúÄÂêéÂÖ≥Èó≠Êñá‰ª∂ Âä†ËΩΩÊñá‰ª∂Âà∞Á£ÅÁõòÂùóÊï∞ÁªÑÔºöFileToDisk(char filename[])Ôºö 1234567891011121314151617181920212223242526//‰ªéÊñá‰ª∂‰∏≠ËØªÂèñÊï∞ÊçÆÔºåÊÅ¢Â§çÁ£ÅÁõòÁ≥ªÁªüvoid FileToDisk(char filename[]){ FILE *fp; fp = fopen(filename,"rb"); if(fp == NULL) { printf("File Open Fail"); exit(1); } int index = 0; while(!feof(fp)) { int c,h,b; b = index % B; h = ((index - b) / B) % H; c = (index -b -h*B) / (H*B); b = index -c*H*B -h*B ; fread(ldisk[c][h][b].Content,512,1,fp); ldisk[c][h][b].c = c; ldisk[c][h][b].h = h; ldisk[c][h][b].b = b; index++; } fclose(fp);} $\qquad$ËøôÊÆµÁ®ãÂ∫èÈô§‰∫ÜÊâìÂºÄÊñá‰ª∂Á≠âÂ∏∏ËßÑÊìç‰Ωú‰πãÂ§ñÔºåÊ†∏ÂøÉÁöÑ‰ª£Á†ÅÊòØwhileÂæ™ÁéØ‰∏≠ÁöÑÔºåÈ¶ñÂÖàËÆ°ÁÆóÈÄªËæëÂè∑‰∏∫indexÁöÑÈÄªËæëÂùóÁöÑÊü±Èù¢Âè∑„ÄÅÁ£ÅÂ§¥Âè∑ÂíåÊâáÂå∫Âè∑Ôºõ‰πãÂêéÊØèÊ¨°ËØªÂèñ512Â≠óËäÇÊï∞ÊçÆÂà∞ÂØπÂ∫îÁ£ÅÁõòÂùóÊï∞ÁªÑ‰∏≠ÁöÑÁ£ÅÁõòÂùó‰∏≠Âéª„ÄÇ 2.5 Á©∫Èó≤Á£ÅÁõòÂùóÊêúÁ¥¢$\qquad$2.3ËäÇ‰∏≠ÂÆö‰πâ‰∫Ü‰ΩçÂõæÔºåÁî®‰∫éÂ≠òÂÇ®Á£ÅÂùóÁöÑÁ©∫Èó≤Áä∂ÊÄÅÔºåÊâÄ‰ª•ÂΩìÈúÄË¶Å‰ΩøÁî®Á£ÅÁõòÂùóÁöÑÊó∂ÂÄô ÔºåÈúÄË¶ÅÊü•ËØ¢‰ΩçÂõæÊâæÂà∞‰∏Ä‰∏™Á©∫Èó≤Á£ÅÁõòÂùóÂè∑ËøîÂõû„ÄÇ Á©∫Èó≤Á£ÅÁõòÂùóÊêúÁ¥¢ÂáΩÊï∞Ôºö`SearchBitMap(void)Ôºö 1234567891011121314151617//ÊêúÁ¥¢‰ΩçÂõæÔºåÊâæÂà∞Á©∫Èó≤Á£ÅÁõòÂùóÂè∑int SearchBitMap(void){ for(int i=14;i&lt;C*H*B;i++) { if(i&lt;512) { if(ldisk[0][0][0].Content[i]=='N') return i; } else { if(ldisk[0][0][1].Content[i-512]=='N') return i; } }} $\qquad$Êú¨ÂáΩÊï∞ÁöÑÂÆûÁé∞ÊñπÂºèÂ∞±ÊòØÈÄöËøáÈÅç‰ΩçÂõæÁü•ÈÅìÊâæÂà∞‰∏Ä‰∏™Á©∫Èó≤ÁöÑÁ£ÅÁõòÂùó„ÄÇ‰∏çËøáÁî±‰∫éÊâÄÊúâÁöÑ‰ΩçÂõæ ‰ø°ÊÅØÂπ∂‰∏çÊòØÂÖ®ÈÉ®Â≠òÂÇ®Âú®‰∏Ä‰∏™Á£ÅÁõòÂùó‰∏≠ÔºåËÄåÊòØ‰∏§‰∏™Á£ÅÁõòÂùóÔºåÊâÄ‰ª•Âú®ÈÅçÂéÜÁöÑÊó∂ÂÄôÈúÄË¶ÅÂà§Êñ≠Âú®Âì™‰∏™Á£ÅÁõòÂùó„ÄÇ ‰∏â Êñá‰ª∂Á≥ªÁªü Êñá‰ª∂Á≥ªÁªüÂÖ®ÈÉ®‰ª£Á†ÅÂ≠òÂÇ®Âú®FS.hÊñá‰ª∂‰∏≠ 3.1 Êñá‰ª∂ÊèèËø∞Á¨¶ÁªìÊûÑ‰Ωì &amp; ÁõÆÂΩïÈ°πÁªìÊûÑ‰Ωì Êñá‰ª∂ÊèèËø∞Á¨¶ÁªìÊûÑ‰ΩìÂÆö‰πâ $\qquad$Êñá‰ª∂Á≥ªÁªüÈááÁî®Êñá‰ª∂ÊèèËø∞Á¨¶Êù•ËÆ∞ÂΩïÊØè‰∏Ä‰∏™Êñá‰ª∂ÁöÑ‰ø°ÊÅØÔºå‰∏ãÈù¢ÊòØÊñá‰ª∂ÊèèËø∞Á¨¶ÁöÑÁªìÊûÑ‰ΩìÂÆö‰πâÔºö 123456789#pragma pack(4)typedef struct FileDescriptor //Ê≠§Êñá‰ª∂ÊèèËø∞Á¨¶ÊÄªÂÖ±Âç†ÊçÆÁ£ÅÁõò24Â≠óËäÇ{ int Length;//Êñá‰ª∂ÈïøÂ∫¶ int DiskNum[DiskNumLen]; //Á¨¨‰∫å‰∏™3Âè™ÊòØË°®Á§∫ÊØè‰∏™Á£ÅÁõòÂùóÂ•ΩÊúÄÂ§ßÈïøÂ∫¶ÊòØ3‰Ωç int Num; //Êñá‰ª∂ÊèèËø∞Á¨¶Âè∑ char IsFree; //Ë°®Á§∫Ê≠§Êñá‰ª∂ÊèèËø∞Á¨¶ÊòØÂê¶Á©∫Èó≤}FileDescriptor;#pragma pack(pop) Âú®Ëøô‰∏™ÁªìÊûÑ‰ΩìÂÆö‰πâÊúâ‰∏Ä‰∏™ÁâπÂà´ÁöÑÂú∞ÊñπÈúÄË¶ÅÊ≥®ÊÑèÔºåÂ∞±ÊòØ‰ΩøÁî®‰∫Ü4Â≠óËäÇÂØπÈΩêÊú∫Âà∂ÔºåÂõ†‰∏∫ÂêéÊù•Ëøô‰∫õÁªìÊûÑ‰ΩìÈúÄË¶ÅÂ≠òÂÇ®Âà∞Â≠óÁ¨¶ÂûãÊï∞ÁªÑ‰∏≠ÔºåÂ¶ÇÊûú‰∏çÈááÁî®ÂØπÈΩêÁöÑËØùÂèØËÉΩ‰ºöÂØºËá¥‰∏çÂêåÁªìÊûÑ‰ΩìÁöÑÈïøÂ∫¶‰∏çÂêåÔºåËØªÂèñÁöÑÊó∂ÂÄôÂ∞±Ê≤°ÂäûÊ≥ïËØªÂèñ. $\qquad$‰∏ãÈù¢ÊòØËØ•ÁªìÊûÑ‰ΩìÂêÑ‰∏™ÊàêÂëòÁöÑËØ¶ÁªÜËß£ÈáäÔºö ÊàêÂëòÂêç Á±ªÂûã Â§ßÂ∞è ‰ΩúÁî® Length Êï¥Âûã 4Â≠óËäÇ Â≠òÂÇ®Êñá‰ª∂Â§ßÂ∞è DiskNum Êï¥ÂûãÊï∞ÁªÑ 12Â≠óËäÇ Â≠òÂÇ®Êñá‰ª∂ÂÜÖÂÆπÁöÑÁ£ÅÁõòÂùóÂ•ΩÊï∞ÁªÑ Num Êï¥Âûã 4Â≠óËäÇ Êñá‰ª∂ÊèèËø∞Á¨¶Âè∑ IsFree Â≠óÁ¨¶Âûã 4Â≠óËäÇ(ÂØπÈΩêÂêé) Ë°®Á§∫ÂΩìÂâçÊèèËø∞Á¨¶Êó∂ÂÄôÁ©∫Èó≤ ÁõÆÂΩïÈ°πÁªìÊûÑ‰ΩìÂÆö‰πâ $\qquad$ÁõÆÂΩïÊòØÊñá‰ª∂Á≥ªÁªüÂøÖ‰∏çÂèØÁº∫ÁöÑÁªÑÊàêÈÉ®ÂàÜÔºåÊú¨ÂÆûÈ™å‰∏≠ÈÄöËøáÁõÆÂΩïÈ°πÊï∞ÁªÑÁªÑÊàê‰∏Ä‰∏™ÁõÆÂΩïÔºåËÄåÊØè‰∏™ÁõÆÂΩïÈ°πÁî±Êñá‰ª∂ÂêçÂíåÊñá‰ª∂ÊèèËø∞Á¨¶Âè∑ÁªÑÊàê„ÄÇ‰∏ãÈù¢ÊòØÁõÆÂΩïÈ°πÁªìÊûÑ‰ΩìÂÆö‰πâÔºö 1234567#pragma pack(4)typedef struct MenuItem //ÁõÆÂΩïÂØπÂ∫î0Âè∑Êñá‰ª∂ÊèèËø∞Á¨¶,‰∏Ä‰∏™ÁõÆÂΩïÈ°πÂç†ÊçÆ16Â≠óËäÇÔºåÊâÄ‰ª•‰∏Ä‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶ÂèØ‰ª•Â≠òÂÇ®96‰∏™Êñá‰ª∂{ char FileName[12]; //ÁõÆÂΩïÈ°π‰∏≠Êñá‰ª∂ÂêçÁöÑÊúÄÂ§ßÈïøÂ∫¶‰∏∫16Â≠óËäÇ int FileDescriptorNum;//Êñá‰ª∂ÊèèËø∞Á¨¶Âè∑}MenuItem;#pragma pack(pop) ÂêåÊ†∑ÁõÆÂΩïÈ°πÁªìÊûÑ‰Ωì‰πüÊòØÁªèËøá4Â≠óËäÇÂØπÈΩêÁöÑÔºå‰ΩúÁî®‰∏é‰∏äÈù¢ÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶ÁªìÊûÑ‰ΩìÁõ∏‰ºº ÊàêÂëòÂêç Á±ªÂûã Â§ßÂ∞è ‰ΩúÁî® FileName Â≠óÁ¨¶ÂûãÊï∞ÁªÑ 12Â≠óËäÇ Â≠òÂÇ®Êñá‰ª∂Âêç FileDescriptorNum Êï¥Âûã 4Â≠óËäÇ Êñá‰ª∂ÊèèËø∞Á¨¶Âè∑ 3.2 Êñá‰ª∂Á≥ªÁªüÂàùÂßãÂåñ$\qquad$Êñá‰ª∂Á≥ªÁªüÁöÑÂàùÂßãÂåñÂåÖÊã¨ÂØπÊñá‰ª∂ÊèèËø∞Á¨¶Êï∞ÁªÑÁöÑÂàùÂßãÂåñÂíåÁõÆÂΩïÈ°πÊï∞ÁªÑÁöÑÂàùÂßãÂåñÔºåÂíåIOÁ≥ªÁªü‰∏≠ÁöÑÁ£ÅÁõòÊï∞ÁªÑÂàùÂßãÂåñ‰∏ÄÊ†∑ÔºåÊñá‰ª∂Á≥ªÁªüÁöÑÂàùÂßãÂåñ‰πüÂ∞±ÊòØÂØπËøô‰∏§‰∏™Êï∞ÁªÑËøõË°å‰∏Ä‰∫õÁºñÂè∑Êìç‰ΩúÁ≠âÂü∫Êú¨Êìç‰Ωú„ÄÇ Êñá‰ª∂ÊèèËø∞Á¨¶ÂàùÂßãÂåñÔºöInitFileDescriptor(void): 1234567891011121314void InitFileDescriptor(void){ for(int i=0;i&lt;256;i++) { int DiskNum[3]; //Á£ÅÁõòÂè∑Êï∞ÁªÑ DiskNum[0] = i; DiskNum[1] = -1; DiskNum[2] = -1; int FileDescriptorNum = i; //Êñá‰ª∂ÊèèËø∞Á¨¶Âè∑ ChangeFileDescriptor(&amp;filedescriptor[i],0,DiskNum,FileDescriptorNum,'Y'); } filedescriptor[0].IsFree = 'N'; FileDescriptorToDisk();} $\qquad$È¶ñÂÖàÈÅçÂéÜÊï¥‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶Êï∞ÁªÑÔºåËøõË°åÁºñÂè∑Âπ∂‰∏îÂàùÂßãÂåñÁöÑÊó∂ÂÄôÊñá‰ª∂ÊèèËø∞Á¨¶ÂØπÂ∫îÁöÑ‰∏â‰∏™Á£ÅÁõòÂùóÂè™ÂàÜÈÖç‰∏Ä‰∏™„ÄÇ ÁõÆÂΩïÈ°πÂàùÂßãÂåñ 12345void InitMenu(void){ for(int i=0;i&lt;32;i++) menuitem[i].FileDescriptorNum = i;} 3.3 Êñá‰ª∂Á≥ªÁªüÁî®Êà∑Êé•Âè£ ÂàõÂª∫Êñá‰ª∂Ôºöcreate(char filename[]): 1234567891011121314151617//‰∏ãÈù¢ÊòØÊñá‰ª∂Á≥ªÁªü‰∏éÁî®Êà∑Áõ¥Êé•ÁöÑÊé•Âè£void create(char filename[]){ int FileDescriptorNum,MenuItemNum,DiskNum; //ÂØªÊâæÁ©∫Èó≤ÁõÆÂΩïÈ°π MenuItemNum = SearchMenuItem(); strcpy(menuitem[MenuItemNum].FileName,filename); //ÂØªÊâæÁ©∫Èó≤Êñá‰ª∂ÊèèËø∞Á¨¶ FileDescriptorNum = SearchFileDescriptor(); menuitem[MenuItemNum].FileDescriptorNum = FileDescriptorNum; //ÂØªÊâæÁ©∫Èó≤Á£ÅÁõòÂùó DiskNum = SearchBitMap(); filedescriptor[FileDescriptorNum].DiskNum[0] = DiskNum; filedescriptor[FileDescriptorNum].IsFree = 'N'; //‰øÆÊîπÁ£ÅÁõò‰ΩçÂõæ ChangeBitMap(DiskNum,'Y');} $\qquad$ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊñá‰ª∂ÁöÑÊó∂ÂÄôÔºåÈ¶ñÂÖàÈúÄË¶ÅÊêúÁ¥¢‰∏Ä‰∏™Á©∫Èó≤ÁöÑÁõÆÂΩïÈ°πÔºåÂ∞ÜÊñá‰ª∂ÂêçÂ≠òÂÇ®Âú®ÁõÆÂΩïÈ°π‰∏≠ÔºåÁÑ∂ÂêéÂú®ÊêúÁ¥¢‰∏Ä‰∏™Á©∫Èó≤ÁöÑÊèèËø∞Á¨¶ÔºåÂàÜÈÖçËØ•Êñá‰ª∂ÊèèËø∞Á¨¶Áªô‰ªñÊñá‰ª∂ÔºåÂú®ÊêúÁ¥¢ ‰∏Ä‰∏™Á©∫Èó≤ÁöÑÁ£ÅÁõòÂùóÔºåÂ∞ÜËØ•Á£ÅÁõòÂùóÂ≠òÂÇ®Âú®Êñá‰ª∂ÊèèËø∞Á¨¶‰∏≠„ÄÇÊúÄÂêé‰øÆÊîπÊñá‰ª∂ÊèèËø∞Á¨¶Áä∂ÊÄÅÂíå‰ΩçÂõæÂØπÂ∫îÁ£ÅÁõòÂùóÁöÑÁä∂ÊÄÅ‰∏∫Âç†Áî®„ÄÇ Âà†Èô§Êñá‰ª∂Ôºödestroy(char filename[])Ôºö 12345678910111213141516171819202122void destroy(char filename[]){ int MenuItemNum=-1; for(int i=0;i&lt;32;i++) if(strcmp(menuitem[i].FileName,filename)==0) MenuItemNum = i; if(MenuItemNum==-1) { printf("ÁõÆÂΩï‰∏≠Ê≤°ÊúâÊ≠§Êñá‰ª∂ÔºÅ\n"); return; } int FileDesCriptorNum = menuitem[MenuItemNum].FileDescriptorNum; //Â∞ÜÁõÆÂΩïÈ°πÈáçÁΩÆ,ÈáçÁΩÆÊó∂Âè™ÈúÄË¶ÅÂ∞ÜÊñá‰ª∂ÂêçÂà†Èô§ÔºåËÄå‰∏çÈúÄË¶ÅÈáçÁΩÆÊñá‰ª∂ÊèèËø∞Á¨¶ÔºåÂõ†‰∏∫ÂâçÈù¢Âà§Êñ≠Êñá‰ª∂ÊòØÂê¶Â≠òÂú®ÁöÑÊù°‰ª∂ÊòØÊñá‰ª∂ÂêçÊòØÂê¶Â≠òÂú® memset(menuitem[MenuItemNum].FileName,0, sizeof(menuitem[MenuItemNum].FileName)); //‰øÆÊîπÊñá‰ª∂ÊèèËø∞Á¨¶‰∏∫Á©∫Èó≤Áä∂ÊÄÅ filedescriptor[FileDesCriptorNum].IsFree = 'Y'; for(int i=0;i&lt;3;i++) { if(filedescriptor[FileDesCriptorNum].DiskNum[i]!=-1) ChangeBitMap(filedescriptor[FileDesCriptorNum].DiskNum[i],'N'); }} $\qquad$Ê†πÊçÆÊñá‰ª∂ÂêçÂú®ÁõÆÂΩïÈ°πÊï∞ÁªÑ‰∏≠ÊêúÁ¥¢ÂØπÂ∫îÁöÑÁõÆÂΩïÈ°πÔºåÂà†Èô§Êñá‰ª∂ÂêçÔºåÂÜçÊâæÂà∞ÁõÆÂΩïÈ°πÂêéËØªÂèñËØ•Êñá‰ª∂ÂØπÂ∫îÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶Âè∑Ôºå‰øÆÊîπÊñá‰ª∂ÊèèËø∞Á¨¶Áä∂ÊÄÅ‰∏∫Á©∫Èó≤ÔºõÂÜçËÆ≤Êñá‰ª∂ÊèèËø∞Á¨¶‰∏≠ËÆ∞ÂΩïÁöÑÊâÄÊúâÁ£ÅÁõòÂùóÁä∂ÊÄÅÂÖ®ÈÉ®Êîπ‰∏∫Á©∫Èó≤„ÄÇ ÊâìÂºÄÊñá‰ª∂Ôºöopen(char filename[]) 123456789101112131415int open(char filename[]){ int MenuItemNum=-1; for(int i=0;i&lt;32;i++) if(strcmp(menuitem[i].FileName,filename)==0) MenuItemNum = i; if(MenuItemNum==-1) { printf("ÁõÆÂΩï‰∏≠Ê≤°ÊúâÊ≠§Êñá‰ª∂ÔºÅ\n"); return -1; } else //ËøîÂõûÊñá‰ª∂ÊèèËø∞Á¨¶Âè∑ return menuitem[MenuItemNum].FileDescriptorNum;} $\qquad$Ëøô‰∏™ÂáΩÊï∞ÈÄöËøáÈÅçÂéÜÁõÆÂΩïÈ°πÊï∞ÁªÑÔºåÊâæÂà∞Êñá‰ª∂ÂêçÁ¨¶ÂêàÁöÑÁõÆÂΩïÈ°πÔºåËØªÂèñÂÖ∂Êñá‰ª∂ÊèèËø∞Á¨¶Âè∑ËøîÂõûÔºåÊ≤°ÊúâÊâæÂà∞ÁöÑËØùÊâìÂç∞ÈîôËØØ‰ø°ÊÅØÂπ∂ËøîÂõû-1 ËØªÂèñÊñá‰ª∂Ôºöread(int index,int mem_area,int count)Ôºö 123456789char* read(int index,int mem_area,int count){ char *temp; char block[512]; temp = (char *)malloc(count* sizeof(char)); ReadBlock(filedescriptor[index].DiskNum[0],block); memcpy(temp,&amp;block[mem_area],count); return temp;} $\qquad$ËØªÂèñÊñá‰ª∂ÂÜÖÂÆπÂáΩÊï∞È¶ñÂÖàÊâæÂà∞Êñá‰ª∂ÊèèËø∞Á¨¶‰∏≠ÁöÑÁ£ÅÁõòÂè∑ÔºåÁÑ∂ÂêéË∞ÉÁî®IOÁ≥ªÁªüÊèê‰æõÁöÑËØªÂèñÁ£ÅÁõòÂùóÁöÑÊé•Âè£ËØªÂèñËØ•Á£ÅÁõòÂùóÔºåËØªÂèñÂêéÊåâÁÖßË¶ÅÊ±ÇÂèñÂØπÂ∫î‰ΩçÁΩÆÊåáÂÆöÈïøÂ∫¶ÁöÑÊï∞ÊçÆËøîÂõû„ÄÇ ÂÜôÊñá‰ª∂Ôºöwrite(int index,int mem_area,int count,char content[])Ôºö 123456789101112131415void write(int index,int mem_area,int count,char content[]){ char temp[512]; char *s1=(char*)malloc(mem_area* sizeof(char)); char *s2=(char*)malloc(mem_area* sizeof(char)); char *s; int DiskNum = filedescriptor[index].DiskNum[0]; ReadBlock(DiskNum,temp); memcpy(s1,temp,mem_area); memcpy(s2,&amp;temp[mem_area],512-mem_area); s = strcat(s1,content); s = strcat(s,s2); filedescriptor[index].Length = strlen(s); WriteBlock(DiskNum,s);} $\qquad$ÂÜôÊñá‰ª∂ÁöÑÊó∂ÂÄôÈúÄË¶ÅËÄÉËôëÂèØËÉΩÊòØÂú®ÂéüÊù•Êñá‰ª∂ÁöÑÂü∫Á°Ä‰∏äÔºåÂú®ÊüêÊÆµÊèíÂÖ•‰∏Ä‰∫õÂÜÖÂÆπÔºåÊâÄ‰ª•Áî®s1Â≠óÁ¨¶ÊåáÈíà‰øùÂ≠òmem_area‰πãÂâçÁöÑ‰ø°ÊÅØÔºås2‰øùÂ≠òmem_area‰πãÂêéÁöÑ‰ø°ÊÅØÔºåÂä†ÂÖ•Ë¶ÅÂä†ÂÖ•ÁöÑÂÜÖÂÆπÂêéÂú®ËøûÊé•Êàê‰∏∫‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÂ≠óÁ¨¶Êï∞ÁªÑÔºåÊúÄÂêéË∞ÉÁî®IOÁ≥ªÁªüÊèê‰æõÁöÑÂÜôÂÖ•Á£ÅÁõòÂùóÊé•Âè£ÂÜôÂÖ• ÂØπÂ∫îÁ£ÅÁõòÂùó„ÄÇ 3.4 ÊêúÁ¥¢Êñá‰ª∂Á≥ªÁªü$\qquad$‰∏äÈù¢Êñá‰ª∂Á≥ªÁªüÁöÑÁî®Êà∑Êé•Âè£‰∏≠ ÂæàÂ§öÂú∞ÊñπÁî®Âà∞‰∫ÜÊêúÁ¥¢Êñá‰ª∂ÊèèËø∞Á¨¶„ÄÅÊêúÁ¥¢ÁõÆÂΩïÈ°πÁ≠âÊìç‰ΩúÔºåÊâÄ‰ª•ÈúÄË¶ÅÂçïÁã¨ÂÜôÂá†‰∏™ÂáΩÊï∞Áî®‰∫éÊêúÁ¥¢Êñá‰ª∂ÊèèËø∞Á¨¶ÂíåÁõÆÂΩïÈ°πÁ≠âÁªìÊûÑ„ÄÇ ÊêúÁ¥¢Á©∫Èó≤Êñá‰ª∂ÊèèËø∞Á¨¶:SearchFileDescriptor(): 123456789int SearchFileDescriptor(){ for(int i=0;i&lt;256;i++) { if(filedescriptor[i].IsFree == 'Y') return i; } return -1;} $\qquad$ÈÅçÂéÜÊñá‰ª∂ÊèèËø∞Á¨¶Êï∞ÁªÑÔºåÊâæÂà∞Á©∫Èó≤ÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶Âè∑ËøîÂõû ÊêúÁ¥¢Á©∫Èó≤ÁõÆÂΩïÈ°πÔºöSearchMenuItem()Ôºö 123456789int SearchMenuItem(){ for(int i=0;i&lt;32;i++) { if(strlen(menuitem[i].FileName)==0) return i; } return -1;} $\qquad$ÈÅçÂéÜÊâÄÊúâÁöÑÁõÆÂΩïÈ°πÊï∞ÁªÑÔºåÁü•ÈÅìÊâæÂà∞Á©∫Èó≤ÁöÑÁõÆÂΩïÈ°πËøîÂõûÁõÆÂΩïÈ°πÂè∑ 3.5 ÂÖ∂ÂÆÉÊñá‰ª∂Á≥ªÁªüÂáΩÊï∞$\qquad$Èô§‰∫Ü‰∏äÈù¢‰ªãÁªçÁöÑÊñá‰ª∂Êìç‰Ωú‰πãÂ§ñÔºåËøòÈúÄ‰∏Ä‰∫õÂáΩÊï∞Ôºå‰æãÂ¶ÇÂ∞ÜÊñá‰ª∂ÊèèËø∞Á¨¶ÂÜôÂÖ•Âà∞Á£ÅÁõò‰∏≠ÂéªÔºåÂ∞ÜÁõÆÂΩïÈ°πÊï∞ÁªÑÂÜôÂÖ•Âà∞Á¨¨‰∏Ä‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶ÂØπÂ∫îÁöÑÁ£ÅÁõò‰∏≠Ôºõ‰ªéÁ£ÅÁõò‰∏≠ÊÅ¢Â§çÊñá‰ª∂ÊèèËø∞Á¨¶Êï∞ÁªÑÔºåÊÅ¢Â§çÁõÆÂΩïÈ°πÊï∞ÁªÑ„ÄÇ Â∞ÜÊñá‰ª∂ÊèèËø∞Á¨¶Êï∞ÁªÑÂÜôÂÖ•Á£ÅÁõòÔºöFileDescriptorToDisk(void)Ôºö 123456789101112131415161718192021222324252627282930//Â∞ÜÊñá‰ª∂ÊèèËø∞Á¨¶ÂÜôÂÖ•Á£ÅÁõò‰∏≠void FileDescriptorToDisk(void){ char temp_block[512]; int index = 0; int DiskNumIndex = 2; for(int i=0;i&lt;256;i++) { char temp_descriptor[24]; memcpy(temp_descriptor,&amp;filedescriptor[i], sizeof(FileDescriptor)); memcpy(&amp;temp_block[index*24],temp_descriptor,24); index++; int t = index % 21; if(t == 0) { index = 0; if(DiskNumIndex&lt;10) { memcpy(ldisk[0][0][DiskNumIndex].Content,temp_block,512); ChangeBitMap(DiskNumIndex,'Y'); } else { memcpy(ldisk[0][1][DiskNumIndex-B].Content,temp_block,512); ChangeBitMap(DiskNumIndex,'Y');//‰øÆÊîπ‰ΩçÂõæ } DiskNumIndex++; } }} $\qquad$ÈÅçÂéÜÊï¥‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶Êï∞ÁªÑÔºåÊØè‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶Âç†ÊçÆ24Â≠óËäÇ‰ø°ÊÅØÔºå21‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶‰∏ÄÁªÑÔºå‰∏ÄÂÖ±504Â≠óËäÇÔºåÂ∞ÜÊØèÁªÑ504Â≠óËäÇ‰ø°ÊÅØÂ≠òÂÖ•Âà∞‰∏Ä‰∏™Á£ÅÁõòÂùó‰∏≠ÔºåÂ≠òÂÖ•Âêé‰øÆÊîπÁ£ÅÁõòÁöÑÁä∂ÊÄÅ‰∏∫Âç†Áî®„ÄÇ ‰ªéÁ£ÅÁõòÊÅ¢Â§çÊñá‰ª∂ÊèèËø∞Á¨¶Êï∞ÁªÑÔºöDiskToFileDescriptor(void)Ôºö 12345678910111213141516171819202122232425262728//Â∞ÜÁ£ÅÁõòËØªÂèñÁöÑ‰ø°ÊÅØÊÅ¢Â§çvoid DiskToFileDescriptor(void){ for(int i=2;i&lt;15;i++) { char temp[512]; if (i&lt;B) memcpy(temp,ldisk[0][0][i].Content,512); else memcpy(temp,ldisk[0][1][i-B].Content,512); for (int j=0;j&lt;21;j++) { if(((i-2)*21+j)&gt;256) break; char temp_FileDescriptor[24]; memcpy(temp_FileDescriptor,&amp;temp[j*24],24); FileDescriptor *f; f = (FileDescriptor*)temp_FileDescriptor; int num = (i-2)*21+j; filedescriptor[num].IsFree = f-&gt;IsFree; filedescriptor[num].DiskNum[0] = f-&gt;DiskNum[0]; filedescriptor[num].DiskNum[1] = f-&gt;DiskNum[1]; filedescriptor[num].DiskNum[2] = f-&gt;DiskNum[2]; filedescriptor[num].Length = f-&gt;Length; filedescriptor[num].Num = f-&gt;Num; } }} $\qquad$Áî±‰∫éÊØè‰∏™Á£ÅÁõòÂùóÁöÑÁ©∫Èó¥Âè™ËÉΩÂ≠òÂÇ®21‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶ÔºåÊâÄ‰ª•ÊØèÈöî21Â∞±ÈúÄË¶ÅÂ∞ÜindexÂΩíÈõ∂‰∏ÄÊ¨°ÔºåÁî®‰∫é‰ªéÊñ∞ËØªÂèñ‰∏Ä‰∏™Êñ∞ÁöÑÁ£ÅÁõòÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶‰ø°ÊÅØÔºåÊØèÊ¨°ËØªÂèñÁöÑÊòØ‰∏ÄÊï¥‰∏™Á£ÅÁõòÁöÑ‰ø°ÊÅØÔºåÈïøÂ∫¶ÊòØ512Â≠óËäÇÔºåËÄåÊØè‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶ÁöÑÂ§ßÂ∞è‰∏∫24ÔºåÊâÄ‰ª•È¶ñÂÖàÂÖ®ÈÉ®ÊúçÂä°Á£ÅÁõòÂùó‰ø°ÊÅØÂà∞temp_blockÔºåÁÑ∂ÂêéÊØèÊ¨°ËØªÂèñ24Â≠óËäÇ‰ø°ÊÅØÂà∞temp_descriptor,‰πãÂêéÈÄöËøáÂº∫Âà∂Á±ªÂûãËΩ¨Êç¢ÔºåÂ∞ÜÂ≠óÁ¨¶Êç¢Êï∞ÁªÑËΩ¨Âåñ‰∏∫Êñá‰ª∂ÊèèËø∞Á¨¶ÁªìÊûÑ‰ΩìÊåáÈíàÔºåËøôÊ†∑Â∞±Â∞ÜÁ£ÅÁõòÂùó‰∏≠ÁöÑ‰ø°ÊÅØËØªÂÖ•„ÄÇ Â∞ÜÁõÆÂΩïÈ°πÊï∞ÁªÑÂÜôÂÖ•Êñá‰ª∂ÊèèËø∞Á¨¶ÔºöMenuToFileDescriptor(void)Ôºö 123456789101112131415//Â∞ÜÁõÆÂΩïÂÜÖÂÆπÂÜôÂÖ•Êñá‰ª∂ÊèèËø∞‰∏≠void MenuToFileDescriptor(void){ char temp_FileDescriptor[512]; for(int i=0;i&lt;32;i++) { char temp_menuitem[16]; memcpy(temp_menuitem,&amp;menuitem[i],16); memcpy(&amp;temp_FileDescriptor[i*16],temp_menuitem,16); } filedescriptor[0].IsFree = 'N'; filedescriptor[0].DiskNum[0] = SearchBitMap(); filedescriptor[0].Length = 512; WriteBlock(filedescriptor[0].DiskNum[0],temp_FileDescriptor);} $\qquad$Â∞ÜÊâÄÊúâÁöÑÁõÆÂΩïÈ°πÂêàÂπ∂‰∏∫‰∏Ä‰∏™512Â≠óËäÇÁöÑÂ≠óÁ¨¶Êï∞ÁªÑ(Ê≥®ÊÑè‰ΩøÁî®ÁöÑÊòØmemcpyËÄå‰∏çÊòØstrcpy)ÁÑ∂ÂêéÂ∞ÜÁ¨¨‰∏Ä‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶ÁöÑÁä∂ÊÄÅ‰øÆÊîπ‰ΩçÂç†Áî®ÔºåÂπ∂Â∞ÜÂ≠óÁ¨¶Êï∞ÁªÑÂÜôÂÖ•Á¨¨‰∏Ä‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶ÂØπÂ∫îÁöÑÁ£ÅÁõòÂùó„ÄÇ ‰ªéÁ¨¨‰∏Ä‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶ÊÅ¢Â§çÁõÆÂΩïÈ°πÊï∞ÁªÑÔºöFileDescriptorToMenu(void)Ôºö 1234567891011121314void FileDescriptorToMenu(void){ char MenuContent[512]; ReadBlock(filedescriptor[0].DiskNum[0],MenuContent); for(int i=0;i&lt;32;i++) { char temp_menuitem[16]; memcpy(temp_menuitem,&amp;MenuContent[i*16],16); MenuItem *t; t = (MenuItem *)temp_menuitem; strcpy(menuitem[i].FileName,t-&gt;FileName); menuitem[i].FileDescriptorNum = t-&gt;FileDescriptorNum; }} $\qquad$È¶ñÂÖàËØªÂèñÁ¨¨‰∏Ä‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶ÂØπÂ∫îÁöÑÁ£ÅÁõòÂùó‰ø°ÊÅØÂà∞MenuContentÂ≠óÁ¨¶Êï∞‰∏≠ÂéªÔºåÁÑ∂ÂêéÊØèÊ¨°ËØªÂèñ16Â≠óËäÇ‰ø°ÊÅØÔºåÂ∞ÜËØªÂèñÁöÑ16Â≠óËäÇ‰ø°ÊÅØÂº∫Âà∂ËΩ¨Êç¢‰∏∫ÁõÆÂΩïÈ°πÊåáÈíà„ÄÇËøôÊ†∑Á£ÅÁõò‰∏äÂ≠òÂÇ®ÁöÑÊâÄÊ¨≤ÁõÆÂΩïÈ°π‰ø°ÊÅØÂ∞±‰ºöË¢´ÂÖ®ÈÉ®ËØªÂèñ„ÄÇ Âõõ ËèúÂçïÁ≥ªÁªü ËèúÂçïÁ≥ªÁªü‰ª£Á†ÅÂú®main.cppÊñá‰ª∂‰∏≠ $\qquad$IOÁ≥ªÁªüÂíåÊñá‰ª∂Á≥ªÁªüÂáÜÂ§áÂ•Ω‰πãÂêéÂ∞±ÂèØ‰ª•Êõ¥ÂÖ∑ÈúÄË¶ÅÁöÑÂäüËÉΩËÆæËÆ°Âá∫ÂÖ∑‰ΩìÁöÑÂäüËÉΩÔºåÂπ∂ÂØπÂ∫îÂÜôÂá∫‰∏Ä‰∏™ËèúÂçïÁ≥ªÁªü„ÄÇ ÂØπÂ∫îÁöÑËèúÂçïÁ≥ªÁªüÊúâÂ¶Ç‰∏ãÂáΩÊï∞Ôºö Êü•ÁúãÁõÆÂΩïÂáΩÊï∞ÔºöShowDir() 123456789101112131415161718void ShowDir(){ int index =1; int exist = 0; printf("****************ÁõÆÂΩï***********************\n"); printf("ÂΩìÂâçÁõÆÂΩï‰∏ãÊñá‰ª∂Êúâ:\n"); for(int i=0;i&lt;32;i++) { if(strlen(menuitem[i].FileName)!=0) { printf("%d %s %dB\n",index,menuitem[i].FileName,filedescriptor[menuitem[i].FileDescriptorNum].Length); exist++; } index++; } printf("‰∏ÄÂÖ±Â≠òÂú®%d‰∏™Êñá‰ª∂\n",exist); printf("****************************************\n");} $\qquad$ÂèØ‰ª•ÁúãÂà∞Ëøô‰∏™Êü•ÁúãÁõÆÂΩïÂáΩÊï∞ÈÅçÂéÜÁõÆÂΩïÈ°πÊï∞ÁªÑÔºåÊâìÂç∞ÊâÄÊúâÈùûÁ©∫ÁõÆÂΩïÈ°π ÂÜÖÂÆπÔºåÂåÖÊã¨Êñá‰ª∂ÂêçÂíåÊñá‰ª∂Â§ßÂ∞èÔºåÊúÄÂêéÁªüËÆ°Âá∫‰∏ÄÂÖ±Â≠òÂú®Â§öÂ∞ë‰∏™Êñá‰ª∂„ÄÇ ÊâìÂç∞‰ΩçÂõæÔºöShowBitMap() 1234567891011121314151617181920212223242526272829303132333435void ShowBitMap(void){ printf("\n****************‰ΩçÂõæ**********************\n"); int used = 0; printf("ÂΩìÂâçÁöÑÁ£ÅÁõò‰ΩøÁî®ÊÉÖÂÜµÂ¶Ç‰∏ã(YË°®Á§∫‰ΩøÁî®ÔºåNË°®Á§∫Êú™‰ΩøÁî®)\n"); for(int i=0;i&lt;C;i++) { printf("%dÂè∑Êü±Èù¢Á£ÅÁõò‰ø°ÊÅØÂ¶Ç‰∏ã:\n",i); printf(" Âå∫:0 1 2 3 4 5 6 7 8 9\n"); printf("Â§¥\n"); for(int j=0;j&lt;H;j++) { printf("%d\t:",j); for(int k=0;k&lt;B;k++) { int t=i*H*B+j*B+k; if(t&lt;512) { printf("%c ",ldisk[0][0][0].Content[t]); if(ldisk[0][0][0].Content[t] == 'Y') used++; } else { printf("%c ",ldisk[0][0][1].Content[t-512]); if(ldisk[0][0][0].Content[t] == 'Y') used++; } } printf("\n"); } } printf("ÊÄªÂÖ±‰ΩøÁî®%d‰∏™Á£ÅÁõòÂùóÔºåÂâ©‰Ωô%d‰∏™Á£ÅÁõòÂùóÁ©∫Èó≤\n",used,(C*B*H-used)); printf("****************************************\n");} $\qquad$Ëøô‰∏™ÂáΩÊï∞ÁöÑÂ§ßÈÉ®ÂàÜ‰ª£Á†ÅÂú®ËøõË°å‰ΩçÂõæÊâìÂç∞‰ø°ÊÅØÁöÑÊéíÁâàÔºåÊØè‰∏™Êü±Èù¢‰∏∫‰∏ÄÈ°µÔºåÊØè‰∏ÄÈ°µ‰∏≠ÊØè‰∏ÄË°åË°®Á§∫‰∏Ä‰∏™Á£ÅÂ§¥ÔºåÊØè‰∏ÄÂàóË°®Á§∫‰∏Ä‰∏™ÊâáÂå∫„ÄÇÊúÄÂêéÁªüËÆ°Âá∫ÊâÄÊúâÁ£ÅÁõòÁöÑ‰ΩøÁî®Âç†ÊØî„ÄÇ ‰∏ªËèúÂçïÁ®ãÂ∫è Áî±‰∫éÊï¥‰∏™ÂáΩÊï∞‰ª£Á†ÅÂ§™ÈïøÔºåÊâÄ‰ª•Âè™Â±ïÁ§∫Ê†∏ÂøÉ‰ª£Á†ÅÔºåÂÆåÊï¥‰ª£Á†ÅËØ∑Êü•Áúãgithub 123456789101112131415161718192021222324252627282930313233343536373839404142434445switch (choice2){ case 1:ShowDir();break; case 2: printf("ËØ∑ËæìÂÖ•Ë¶ÅÂàõÂª∫ÁöÑÊñá‰ª∂ÂêçÔºö"); scanf("%s",filename); create(filename); break; case 3: printf("ËØ∑ËæìÂÖ•Ë¶ÅÂà†Èô§ÁöÑÊñá‰ª∂ÂêçÔºö"); scanf("%s",filename); destroy(filename); break; case 4: printf("ËØ∑ËæìÂÖ•Ë¶ÅÊâìÂºÄÁöÑÊñá‰ª∂ÂêçÔºö"); scanf("%s",filename); ReadFile(filename); break; case 5: int choice3; printf("1. Â¢ûÂä†ÂÜÖÂÆπ\t2. Âà†Èô§ÂÜÖÂÆπ"); printf("\nËØ∑ÈÄâÊã©Ôºö"); scanf("%d",&amp;choice3); printf("ËØ∑ËæìÂÖ•Ë¶Å‰øÆÊîπÁöÑÊñá‰ª∂Âêç:"); scanf("%s",filename); if(choice3==1) ChangeFileAdd(filename); else if(choice3==2) ChangeFileDel(filename); break; case 6: ShowBitMap(); break; case 7: printf("ËØ∑ËæìÂÖ•Ë¶Å‰øùÂ≠òÁöÑÊñá‰ª∂ÂêçÔºö"); scanf("%s",filename); save(filename); break; case 8: flag=1; break; default: break;} $\qquad$Ëøô‰∏™switchÁªìÊûÑÊèê‰æõ‰∏™8‰∏™ÈÄâÊã©ÔºåÂØπÂ∫î8‰∏™ÂäüËÉΩ„ÄÇ ‰∫î Êñá‰ª∂Á≥ªÁªüÊµãËØï$\qquad$IOÁ≥ªÁªü„ÄÅÊñá‰ª∂Á≥ªÁªüÂíåËèúÂçïÁ≥ªÁªüÂÆåÊàê‰πãÂêéÈúÄË¶ÅÂØπÊñá‰ª∂Á≥ªÁªüËøõË°åÊµãËØïÔºå‰∏ãÈù¢ÊòØÊµãËØïÁöÑËØ¶ÁªÜËøáÁ®ã„ÄÇ 5.1 ÊµãËØïÊ¶ÇËø∞$\qquad$ÊµãËØïÈÉ®ÂàÜÂàÜÂà´ÊµãËØïIOÁ≥ªÁªü„ÄÅÊñá‰ª∂Á≥ªÁªüÂØπÂ∫îÁöÑÂäüËÉΩÔºåÊµãËØïËÆ°ÂàíÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö ÊµãËØïÂêçÁß∞ ÊµãËØïÊèèËø∞ Ë¢´ÊµãËØïÊ®°Âùó ‰øùÂ≠òÁ£ÅÁõòÊñá‰ª∂ÊµãËØï Â∞ÜÂΩìÂâçÁ£ÅÁõò‰ø°ÊÅØÂ≠òÂÖ•‰∫åËøõÂà∂Êñá‰ª∂ IOÁ≥ªÁªüÁ£ÅÁõòÂÜôÂÖ•Êñá‰ª∂ÂäüËÉΩ„ÄÅËèúÂçïÁ≥ªÁªüÁ≠â ËØªÂèñÁ£ÅÁõòÊñá‰ª∂ÊµãËØï ‰ªéÊñá‰ª∂Á≥ªÁªü‰∏≠ËØªÂèñÁ£ÅÁõòÊñá‰ª∂ÔºåË£ÖËΩΩÂà∞Á£ÅÁõòÁ≥ªÁªü‰∏≠ IOÁ≥ªÁªüÁ£ÅÁõòÂÜôÂÖ•Êñá‰ª∂ÂäüËÉΩ„ÄÅËèúÂçïÁ≥ªÁªüÁ≠â ÁõÆÂΩïÊü•ÁúãÊµãËØï Êü•ÁúãÂΩìÂâçÁõÆÂΩï‰∏≠Â≠òÂú®ÁöÑÊâÄÊúâÊñá‰ª∂ Êñá‰ª∂Á≥ªÁªüÁõÆÂΩïÊ®°Âùó„ÄÅÊñá‰ª∂ÊèèËø∞Á¨¶Ê®°ÂùóÔºõËèúÂçïÁ≥ªÁªü Êñá‰ª∂ÂàõÂª∫ÊµãËØï ÂàõÂª∫Êñ∞ÁöÑÊñá‰ª∂ Êñá‰ª∂Á≥ªÁªüÁõÆÂΩïÊ®°Âùó„ÄÅÊñá‰ª∂Á≥ªÁªüÁî®Êà∑Êé•Âè£ Êñá‰ª∂Âà†Èô§ÊµãËØï Âà†Èô§Â∑≤Êúâ(‰∏çÂ≠òÂú®)Êñá‰ª∂ Êñá‰ª∂Á≥ªÁªüÁõÆÂΩïÊ®°Âùó„ÄÅÊñá‰ª∂Á≥ªÁªüÁî®Êà∑Êé•Âè£ ÊâìÂºÄÊñá‰ª∂ÊµãËØï ÊâìÂºÄÂπ∂Êü•ÁúãÊñá‰ª∂ÂÜÖÂÆπ Êñá‰ª∂Á≥ªÁªüÁî®Êà∑Êé•Âè£ ‰øÆÊîπÊñá‰ª∂ÊµãËØï ‰øÆÊîπÊñá‰ª∂ÂÜÖÂÆπ Êñá‰ª∂Á≥ªÁªüÁõÆÂΩïÊ®°Âùó„ÄÅÊñá‰ª∂Á≥ªÁªüÁî®Êà∑Êé•Âè£ÔºåIOÁ≥ªÁªü Êü•Áúã‰ΩçÂõæÊµãËØï Êü•ÁúãÂΩìÂâçÁ£ÅÁõò‰ΩçÂõæ‰ø°ÊÅØ IOÁ≥ªÁªü‰ΩçÂõæÊ®°ÂùóÔºåËèúÂçïÁ≥ªÁªü 5.2 Á≥ªÁªüÊµãËØï ‰øùÂ≠òÁ£ÅÁõòÊñá‰ª∂ÊµãËØï &amp; Êñá‰ª∂ÂàõÂª∫ÊµãËØï ‰øùÂ≠òÁ£ÅÁõòÁ≥ªÁªü‰πãÂâçÈ¶ñÂÖàÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ£ÅÁõòÁ≥ªÁªü Âú®Êñ∞ÁöÑÊñá‰ª∂Á≥ªÁªü‰∏≠ÂàõÂª∫Êñá‰ª∂ ÂèØ‰ª•ÁúãÂà∞Êü•ÁúãÊñá‰ª∂ÁõÆÂΩïÁöÑÊó∂ÂÄôÁúãÂà∞ÂàöÂàöÂàõÂª∫ÁöÑÁõÆÂΩï ÁªôÂàöÂàöÂàõÂª∫ÁöÑÊñá‰ª∂Ê∑ªÂä†‰∏ÄÁÇπÂÜÖÂÆπ ÂèØ‰ª•ÁúãÂà∞Ê∑ªÂä†‰∫ÜÂÜÖÂÆπ‰πãÂêéÂÜÖÂÆπ‰øùÂ≠òÂà∞Êñá‰∏≠Âéª ÂÜçÊ¨°Êü•ÁúãÁõÆÂΩï ÂèØ‰ª•ÁúãÂà∞Êñá‰ª∂ÁöÑÈïøÂ∫¶Á°ÆÂÆûÂèëÁîü‰∫ÜÂèòÂåñ ‰øùÂ≠òÁ£ÅÁõòÊñá‰ª∂ Â∞ÜÁ£ÅÁõòÁ≥ªÁªü‰øùÂ≠òÂà∞test.dat‰∏≠Âéª ‰∏∫‰∫ÜÈ™åËØÅÂàöÂàöÁöÑÁ£ÅÁõò‰ø°ÊÅØÁ°ÆÂÆû‰øùÂ≠ò‰∫Ü‰∏ãÊù•Ôºå‰ΩøÁî®xxdÂ∑•ÂÖ∑Êü•Áúãtest.datÊñá‰ª∂ÁöÑÂÜÖÂÆπ ÂèØ‰ª•ÁúãÂà∞test.dat‰∏≠ÂâçÈù¢ÊòØ‰ΩçÂõæ‰ø°ÊÅØÔºåÂÖ±Âç†Áî®15‰∏™Á£ÅÁõòÂùóÔºåÊ†áÂøó‰Ωç‚ÄôY‚Äô,ÂÖ∂‰ªñÊâÄÊúâÁ£ÅÁõòÂùóÁä∂ÊÄÅ‰∏∫Á©∫Èó≤ÔºåÊ†áÂøó‰Ωç‚ÄôN‚Äô ÂÜçÊ£ÄÁ¥¢ÂàöÂàöÂàõÂª∫ÁöÑÊñá‰ª∂ÊòØÂê¶Â≠òÂú® ÂèØ‰ª•ÁúãÂà∞Ê£ÄÁ¥¢‚ÄôHello‚ÄôÂíåÊñá‰ª∂Âêç‚Äôtest‚ÄôÁöÑÊó∂ÂÄôÈÉΩÊúâÂØπÂ∫îÂÜÖÂÆπÔºåËØ¥ÊòéÁ£ÅÁõò‰ø°ÊÅØÁº∫Â§±‰øùÂ≠ò‰∫Ü‰∏ãÊù• ËØªÂèñÁ£ÅÁõòÊñá‰ª∂ÊµãËØï &amp; ÁõÆÂΩïÊü•ÁúãÊµãËØï &amp; ÊâìÂºÄÊñá‰ª∂ÊµãËØï ÊâìÂºÄ‰∏äÈù¢ÊµãËØï‰∏≠‰øùÂ≠òÁöÑtest.datÊñá‰ª∂ ÂèØ‰ª•ÁúãÂà∞Á£ÅÁõò‰ø°ÊÅØÂÖ®ÈÉ®ÊÅ¢Â§ç‰∫Ü ÊâìÂºÄÊñá‰ª∂ÂÜÖÂÆπÂÖ∑‰ΩìÊü•Áúã‰∏Ä‰∏ãÔºåÂÜÖÂÆπÊòØÂê¶Â≠òÂú®ÂèòÂåñ ÂèØ‰ª•ÁúãÂà∞Êñá‰ª∂ÂÜÖÂÆπÊ≤°ÊúâÂèëÁîüÊîπÂèò Êñá‰ª∂Âà†Èô§ÊµãËØï ‰∏∫‰∫Ü‰æø‰∫éËøõË°åÊñá‰ª∂Âà†Èô§ÊµãËØïÔºåÈ¶ñÂÖàÂÖàÂàõÂª∫‰∏Ä‰∏™Êñá‰ª∂test2.txt Âà†Èô§Êñá‰ª∂test2.txt ‰øÆÊîπÊñá‰ª∂ÊµãËØï $\qquad$‰øÆÊîπÊñá‰ª∂ÊµãÊó∂ÂÄôÂàÜ‰∏∫Âú®ÂéüÊúâÊñá‰ª∂ÁöÑÂü∫Á°Ä‰∏äÂ¢ûÂä†ÂÜÖÂÆπÂíåÂà†Èô§ÂÜÖÂÆπÔºåÊàë‰ª¨ËøôÂú®test.txtÁöÑÂü∫Á°Ä‰∏äËøõË°åÂ¢ûÂä†ÂíåÂà†Èô§Êìç‰Ωú Âú®test.txt‰∏äÂ¢ûÂä†ÂÜÖÂÆπ ÂèØ‰ª•ÁúãÂà∞Âú®ÊåáÂÆö‰ΩçÁΩÆÂ¢ûÂä†‰∫ÜÊåáÂÆöÁöÑÂÜÖÂÆπ Âú®test.txtÂà†Èô§ÂÜÖÂÆπ ÂèØ‰ª•ÁúãÂà∞ÊåáÂÆö‰ΩçÁΩÆÁöÑÊåáÂÆöÂÜÖÂÆπË¢´Âà†Èô§‰∫Ü Êü•Áúã‰ΩçÂõæÊµãËØï Êñá‰ª∂Á≥ªÁªüÂú®ÂàùÂßãÂåñ‰πãÂêéÂ∫îËØ•Êúâ15‰∏™Á£ÅÁõòÂùóË¢´Âç†Áî®ÔºåÂÖ∂‰∏≠2‰∏™Áî®‰∫éÂ≠òÂÇ®‰ΩçÂõæÔºå12‰∏™Áî®‰∫éÂ≠òÂÇ®Êñá‰ª∂ÊèèËø∞Á¨¶Ôºå1‰∏™Áî®‰∫éÂ≠òÂÇ®ÁõÆÂΩï ÂèØ‰ª•ÁúãÂà∞0Âè∑Êü±Èù¢ÁöÑÁ£ÅÁõò‰ΩçÂõæ‰ø°ÊÅØÂ¶Ç‰∏äÊâÄÁ§∫,ÊÄªÂÖ±‰ΩøÁî®14‰∏™Á£ÅÁõòÂùóÔºåÂÖ∂‰ªñÂÖ®ÈÉ®Á©∫Èó≤ Â¢ûÂä†‰∏Ä‰∏™Êñá‰ª∂‰πãÂêéÔºåÊü•ÁúãÁ£ÅÁõò‰ΩçÂõæ $\qquad$Â¢ûÂä†Êñá‰ª∂‰πãÂêéÔºåÂΩìÊñá‰ª∂ÂÜÖÂÆπÂ∞è‰∫é‰∏Ä‰∏™Á£ÅÁõòÂùóÂ§ßÂ∞èÊó∂ÔºåÊöÇÊó∂Âè™ÂàÜÈÖç‰∏Ä‰∏™Á£ÅÁõòÂùóÔºåÊâÄ‰ª•Â∫îËØ•Âè™Âç†Áî®Ââç‰∏™Á£ÅÁõòÂùó ÂÖ≠ ÂÆûÈ™åÊÄªÁªì$\qquad$ÈÄöËøáÊú¨Ê¨°ÂÆûÈ™åÊî∂Ëé∑Âà∞‰∫ÜËÆ∏Â§öÁöÑ‰∏úË•øÔºå‰πüËÆ∏Âà∞‰∫ÜÂæàÂ§öÁü•ËØÜ„ÄÇÂÆûÈ™å‰πãÂâçÔºåÁúãÂÆåÊï¥‰∏™ÂÆûÈ™åË¶ÅÊ±Ç‰πãÂêéÊ≤°Êúâ‰∏Ä‰∏™Êï¥‰ΩìÁöÑÊÄùË∑ØÂ∞±ÂºÄÂßãÁºñÂÜôÁ®ãÂ∫èÔºåÂØºËá¥ÂêéÊúüÁöÑÊó∂ÂÄôÂæàÂ§öÂú∞ÊñπËÄÉËôë‰∏çÂ§üÂÖ®Èù¢ÔºåÂêÑ‰∏™Á≥ªÁªü‰∏≠ÂáΩÊï∞ÁªÑÁªáÊ∑∑‰π±ÔºåÊï¥‰∏™ÊûÑÊû∂‰∏çÂ§üÂÆåÊï¥ÔºåÊú¨Ê¨°ÂÆûÈ™åÊî∂Ëé∑Âà∞ÁöÑÁ¨¨‰∏ÄÁÇπÂ∞±ÊòØÂú®ËøõË°åÂÆûÈ™å‰πãÂâç‰∏ÄÂÆöË¶ÅÊèêÂâçËÆæËÆ°Â•ΩÂÆûÈ™åÁöÑÊÄùË∑ØÔºåÊúÄÂ•ΩÂÅöÂ•ΩÊï¥‰∏™Ê¶ÇË¶ÅËÆæËÆ°ÔºõÁ¨¨‰∫åÁÇπÊî∂Ëé∑Â∞±ÊòØÂØπÊñá‰ª∂Á≥ªÁªüÊúâ‰∫ÜÊõ¥Âä†Ê∑±ÂàªÁöÑËÆ§Áü•ÔºåÂÆûÈ™å‰ªéÊúÄÂ∫ïÂ±ÇÁöÑÁ£ÅÁõòÂùóÂºÄÂßãÊ®°ÊãüÔºå‰∏ÄÁÇπ‰∏ÄÁÇπÂà∞IOÁ≥ªÁªüÔºåÂÜçÂà∞Êñá‰ª∂Á≥ª„ÄÅÁõÆÂΩïÁ≠âÁ≠âÔºåÈÄöËøáËá™Â∑±ÁöÑÂÆûË∑µÊõ¥Âä†Ê∑±ÂàªÁöÑ‰∫ÜËß£‰∫ÜÊñá‰ª∂Á≥ªÁªüÔºõÊúÄÂêé‰∏ÄÁÇπ Êî∂Ëé∑Â∞±ÊòØÂú®ÁºñÁ®ãËÉΩÂäõ‰∏äÁöÑÊî∂Ëé∑ÔºåËøôÊ¨°ÈÄöËøáÁºñÂÜôËøô‰∏™Êñá‰ª∂Á≥ªÁªüÔºåÂÜçÊ¨°Â∑©Âõ∫‰∫ÜËá™Â∑±ÂØπ‰∫éCËØ≠Ë®ÄÁöÑÊéåÊè°ËÉΩÂäõÔºåÂπ∂‰∏î‰∫ÜËß£Âà∞‰∫Ü‰ª•ÂâçÊâÄÁî®ÁöÑÂ§ÑÁêÜÂ≠óÁ¨¶‰∏≤ÁöÑ‰∏ÄÁ≥ªÂàóÂáΩÊï∞ÁöÑÁº∫ÁÇπÔºå‰æãÂ¶ÇstrcpyÂè™ËÉΩÂ§çÂà∂\0‰πãÂâçÁöÑÂÜÖÂÆπÔºåstrcatÂè™ËÉΩËøûÊé•‰∏§‰∏™Â≠óÁ¨¶Êç¢ÁöÑÂèØËßÅÂÜÖÂÆπÁ≠âÁ≠âÔºåÂ≠¶‰ºö‰∫ÜÊñ∞ÁöÑÂáΩÊï∞memcpyÔºåÈÄöËøáËøô‰∏™ÂáΩÊï∞ÂÆûÁé∞Â∞ÜÁªìÊûÑ‰Ωì‰ª•‰∫åËøõÂà∂ÁöÑÂΩ¢ÂºèÂ≠òÂÇ®Âà∞Â≠óÁ¨¶‰∏≤‰∏≠ÂíåÂ∞ÜÂ≠óÁ¨¶‰∏≤ÂÜçÊÅ¢Â§çÂà∞ÁªìÊûÑ‰Ωì‰∏≠„ÄÇ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>Êìç‰ΩúÁ≥ªÁªüÂÆûÈ™å</category>
      </categories>
      <tags>
        <tag>Êìç‰ΩúÁ≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Á≥ªÁªüË∞ÉÁî®ÂÆûÈ™å]]></title>
    <url>%2F2019%2F03%2F01%2Flab1%2F</url>
    <content type="text"><![CDATA[ÂÆûÈ™å‰∏ÄÂÆûÈ™åÊä•Âëä Â≠ôÊ±âÊ≠¶ 16281047 ÂÆâÂÖ®1601 [TOC] Task 1 Á≥ªÁªüË∞ÉÁî®ÂÆûÈ™å1.1 Áõ¥Êé•Ë∞ÉÁî®ÂíåÊ±áÁºñ‰∏≠Êñ≠Ë∞ÉÁî®Á≥ªÁªüË∞ÉÁî®getpidCËØ≠Ë®ÄÁõ¥Êé•Ë∞ÉÁî® ÂÆûÈ™åÊ≠•È™§ Ê∫ê‰ª£Á†Ågetpid_c.cÔºö 123456789#include&lt;stdio.h&gt;#include&lt;unistd.h&gt;int main(){ pid_t pid; pid = getpid(); printf("%d\n",pid); return 0;} ÁºñËØëÊ∫ê‰ª£Á†ÅÔºåÂæóÂà∞ÂèØÊâßË°åÊñá‰ª∂getpid_c ÊâßË°åÂèØÊâßË°åÊñá‰ª∂ÔºåÂæóÂà∞Á®ãÂ∫èÁöÑpid Êü•ÁúãgetpidÁöÑÁ≥ªÁªüË∞ÉÁî®Âè∑ 64‰ΩçLinuxÁ≥ªÁªüÁöÑÁ≥ªÁªüË∞ÉÁî®ÂàóË°®‰øùÂ≠òÂú®/usr/include/asm/unistd_64.hÔºà32‰ΩçÂú®unistd_32.hÔºâ,Êü•ÁúãËØ•Êñá‰ª∂ÂèØÂæóÂà∞getpidÁöÑÁ≥ªÁªüË∞ÉÁî®Âè∑‰∏∫39Ôºà32‰ΩçÁ≥ªÁªüÁöÑÁ≥ªÁªüË∞ÉÁî®Âè∑‰∏∫20Ôºâ ÈÄöËøá‰∏äÂõæÂèØ‰ª•ÁúãÂá∫ÔºåÂú®64‰ΩçÁ≥ªÁªü‰∏≠ÔºåÊúâ‰∏§Â•óÁ≥ªÁªüË∞ÉÁî®Âè∑ÁöÑÂÆèÂÆö‰πâÔºåÈô§‰∫Ü64‰ΩçÊ≠£Â∏∏ÁöÑÁ≥ªÁªüË∞ÉÁî®Âè∑Ë°®‰πãÂ§ñÔºåËøòÊúâ‰∏ÄÂ•óÁî®‰∫éÂêë‰∏ãÂÖºÂÆπ32‰ΩçÁ≥ªÁªü„ÄÇ Âú®Linux(debian)‰∏≠Ôºå/usr/include/asm‰∏≠Êúâ‰∏§‰∏™hÊñá‰ª∂ÔºåÂàÜÂà´ÊòØunistd_32.hÂíåunistd_64.Ëøô‰∏§‰∏™Â§¥Êñá‰ª∂‰∏≠‰øùÂ≠òÁùÄÁ≥ªÁªüË∞ÉÁî®Âè∑ÁöÑÂÆèÂÆö‰πâÔºå ÂΩìÂú®Á®ãÂ∫è‰ª£Á†Å‰∏≠Áî®Âà∞Á≥ªÁªüË∞ÉÁî®Êó∂ÔºåÁºñËØëÂô®‰ºöÂ∞Ü‰∏äÈù¢ÊèêÂà∞ÁöÑÂÆèÂ±ïÂºÄÔºåÂ±ïÂºÄÂêéÁöÑ‰ª£Á†ÅÂÆûÈôÖ‰∏äÊòØÂ∞ÜÁ≥ªÁªüË∞ÉÁî®Âè∑ÊîæÂÖ•axÂêéÁßªÁî®int 0x80‰ΩøÂ§ÑÁêÜÂô®ËΩ¨ÂêëÁ≥ªÁªüË∞ÉÁî®ÂÖ•Âè£ÔºåÁÑ∂ÂêéÊü•ÊâæÁ≥ªÁªüË∞ÉÁî®Ë°®ÔºåËøõËÄåÁî±ÂÜÖÊ†∏Ë∞ÉÁî®ÁúüÊ≠£ÁöÑÂäüËÉΩÂáΩÊï∞„ÄÇ ÈÄöËøáÊ±áÁºñ‰ª£Á†ÅÂèØ‰ª•ÁúãÂà∞‰∏≠Êñ≠ÂêëÈáèÂè∑ÊòØ0x80,ËÄå0x14ÊòØÊåáÁ≥ªÁªüË∞ÉÁî®Âè∑ÔºåÂú®32‰ΩçÁ≥ªÁªü‰∏≠ÔºågetpidÁ≥ªÁªüË∞ÉÁî®Âè∑‰∏∫20ÔºåÊâÄ‰ª•ÊòØ16ËøõÂà∂ÁöÑ0x14ÔºåËÄå64‰ΩçÁ≥ªÁªüÁöÑgetpidÁöÑÁ≥ªÁªüË∞ÉÁî®Âè∑‰∏∫39. Á≥ªÁªüË∞ÉÁî®Âè∑Ë∑üÊìç‰ΩúÁ≥ªÁªüÁöÑ‰ΩçÊï∞(32Êàñ64)Âíå‰∏çÂêåÁöÑÂèëË°åÁâàÊú¨(debianÂíåUbuntu)ÊúâÂÖ≥Ôºå‰æãÂ¶ÇUbuntu 64‰ΩçÊú∫Âô®‰∏ägetpidÁöÑÁ≥ªÁªüË∞ÉÁî®Âè∑ÊòØ172ÔºåËÄåÁΩë‰∏äÊü•Âà∞LinuxÂÜÖÊ†∏64‰Ωç‰∏∫39Ôºå32‰Ωç‰∏∫20„ÄÇ Âá∫Áé∞‰∏ç‰∏ÄËá¥ÁöÑÂéüÂõ†ÊòØÔºåÂú®Linux64‰ΩçÁ≥ªÁªü‰∏≠ÔºåÂØπ32‰ΩçÁ®ãÂ∫èËøõË°å‰∫ÜÂÖºÂÆπÊìç‰Ωú„ÄÇ‰πãÂâçÁöÑ32‰ΩçÊú∫‰∏≠ÔºåÁ≥ªÁªüÈÄöËøáÂºÄÊîæ0x80Êê≠ÈÖçÁ≥ªÁªüË∞ÉÁî®Âè∑Êù•ÂÆûÁé∞Áî®Êà∑Á®ãÂ∫è‰ΩøÁî®Á≥ªÁªüË∞ÉÁî®ÂäüËÉΩ„ÄÇ‰ΩÜÂú®64‰ΩçÊú∫‰∏≠ÔºåÂ∑≤Áªè‰∏ç‰ΩøÁî®int 0x80‰Ωú‰∏∫Ëß¶ÂèëÁ≥ªÁªüË∞ÉÁî®ÁöÑÊú∫Âà∂‰∫ÜÔºåËÄå‰ΩøÁî®syscallÊåá‰ª§Êù•Ëß¶Âèë„ÄÇ‰ΩÜ‰∏∫‰∫Ü‰øùÊåÅÂÖºÂÆπÊÄßÔºåÁ≥ªÁªü‰ªçÁÑ∂ÊîØÊåÅint 0x80ËøõË°å‚Äò32‰Ωç‚ÄôÈ£éÊ†ºÁöÑË∞ÉÁî®„ÄÇËá™ÁÑ∂Êàë‰ª¨ÁöÑÊ±áÁºñ‰ª£Á†Å‰ΩøÁî®20Ëøô‰∏™Á≥ªÁªüË∞ÉÁî®Âè∑Ôºå‰æùÁÑ∂ÂèØ‰ª•Ê≠£Á°ÆËøêË°åÂú®64‰ΩçÊú∫Âô®‰∏ä„ÄÇ Ê±áÁºñ‰∏≠Êñ≠Ë∞ÉÁî® ÂÆûÈ™åÊ≠•È™§ Ê∫ê‰ª£Á†Ågetpid_asm.cÔºö 1234567891011121314#include &lt;stdio.h&gt; #include &lt;unistd.h&gt; int main() { pid_t pid; asm volatile ( "movl $0x14,%%eax\n\t" "int $0x80\n\t" "movl %%eax,%0\n\t" :"=m"(pid) ); printf(" current PID is : %u\n",pid); return 0;} ÁºñËØëÊ∫êÁ†ÅÔºåÂæóÂà∞ÂèØÊâßË°åÊñá‰ª∂getpid_asm ÊâßË°åÂèØÊâßË°åÊñá‰ª∂ÔºåÂæóÂà∞Á®ãÂ∫èÁöÑpid getpidÁöÑ‰∏≠Êñ≠ÂêëÈáèÂè∑ Âú®Ê±áÁºñ‰ª£Á†Åint $0x80\n\tÂèØ‰ª•ÁúãÂà∞getpidÁöÑ‰∏≠Êñ≠ÂêëÈáèÂè∑‰∏∫0x80 1.2 ‰π†È¢ò1.13‰ΩøÁî®CËØ≠Ë®Ä ÂÆûÈ™åÊ≠•È™§ Ê∫ê‰ª£Á†Åprint_c.c: 123456#include&lt;stdio.h&gt;int main(){ printf("Hello World!\n"); return 0;} ÁºñËØëÊ∫êÁ†ÅÔºåÂæóÂà∞ÂèØÊâßË°åÊñá‰ª∂print_c ÊâßË°åÊñá‰ª∂ÔºåÂ±èÂπïÊâìÂç∞Hello World ‰ΩøÁî®Ê±áÁºñ ÂÆûÈ™åÊ≠•È™§ Ê∫ê‰ª£Á†Åprint_asm.asm: 1234567891011121314section datamsg db "Hello World",0xAlen equ $-msgsection .text global _start_start: mov eax,4 mov ebx,1 mov ecx,msg mov edx,len int 0x80 mov eax,1 xor ebx,ebx int 0x80 Ê±áÁºñÊ∫êÁ†ÅÔºåÂæóÂà∞ÂØπË±°Êñá‰ª∂print_asm.o ÈìæÊé•ÂæóÂà∞ÂèØÊâßË°åÊñá‰ª∂print_asm ÊâßË°åÂèØÊâßË°åÊñá‰ª∂print_asm,Â±èÂπïÊâìÂç∞Hello World 1.3 ÈòÖËØªpintosÊ∫êÁ†Å‚Äã pintos‰∏≠ÂÖ≥‰∫éÁ≥ªÁªüË∞ÉÁî®ÁöÑÊ∫êÁ†Å‰ª•‰∏ãÈÉ®ÂàÜ„ÄÇ‰∏ãÈù¢ÂàÜÂà´‰ªãÁªç‰ªñ‰ª¨ÂêÑËá™ÁöÑ‰ΩúÁî®Ôºö /src/lib/user/syscall.c Ëøô‰∏™Êñá‰ª∂‰∏≠‰ª•ÂÆèÂÆö‰πâÁöÑÂΩ¢ÂºèÂÆö‰πâ‰∫ÜÂõõÁßçÁ≥ªÁªüË∞ÉÁî®ÁöÑÊñπÂºèÔºåÂàÜÂà´ÊòØ‰∏ç‰º†ÈÄíÂèÇÊï∞„ÄÅ‰º†ÈÄí‰∏Ä‰∏™ÂèÇÊï∞„ÄÅ‰º†ÈÄí‰∏§‰∏™ÂèÇÊï∞„ÄÅ‰º†ÈÄí‰∏â‰∏™ÂèÇÊï∞ 1234#define syscall0(NUMBER) ...#define syscall1(NUMBER, ARG0) ...#define syscall2(NUMBER, ARG0, ARG1) ...#define syscall3(NUMBER, ARG0, ARG1, ARG2) ... Âõõ‰∏™Á≥ªÁªüË∞ÉÁî®ÊñπÂºèÁöÑ‰∏≠Êñ≠ÂêëÈáèÂè∑Âùá‰∏∫0x30. ÂÆö‰πâ‰∫Ü20ÁßçÁ≥ªÁªüË∞ÉÁî®ÂáΩÊï∞ 1234567891011121314151617181920void halt (void);void exit (int status)pid_t exec (const char *file);int wait (pid_t pid);bool create (const char *file, unsigned initial_size);bool remove (const char *file);int open (const char *file);int filesize (int fd) ;int read (int fd, void *buffer, unsigned size);int write (int fd, const void *buffer, unsigned size);void seek (int fd, unsigned position) ;unsigned tell (int fd) ;void close (int fd);mapid_t mmap (int fd, void *addr);void munmap (mapid_t mapid);bool chdir (const char *dir);bool mkdir (const char *dir);bool readdir (int fd, char name[READDIR_MAX_LEN + 1]) ;bool isdir (int fd);int inumber (int fd); ‰∏äÈù¢ÁöÑÁ≥ªÁªüË∞ÉÁî®Âú®‰∏ãÈù¢ÁöÑÂ§¥Êñá‰ª∂‰∏≠ÈÉΩÊúâÂØπÂ∫îÁöÑÁ≥ªÁªüË∞ÉÁî®Âè∑ /src/lib/syscallnr.h Ëøô‰∏™Êñá‰ª∂‰∏≠ÂÆö‰πâ‰∫ÜÁ≥ªÁªüË∞ÉÁî®ÂàóË°®ÔºåÈÄöËøáÊûö‰∏æÁ±ªÂûãÂÆö‰πâ‰∫ÜÁ≥ªÁªüË∞ÉÁî®Âè∑ ÂÖ∑‰ΩìÂ¶Ç‰∏ãÔºö src/userprog/syscall.c Ëøô‰∏™Êñá‰ª∂‰∏≠Âè™Êúâ‰∏§‰∏™ÂáΩÊï∞syscall_initÂíåsyscall_handler,ÂÖ∂‰∏≠syscall_initÊòØË¥üË¥£Á≥ªÁªüË∞ÉÁî®ÂàùÂßãÂåñÂ∑•‰ΩúÁöÑÔºåsyscall_handlerÊòØË¥üË¥£Â§ÑÁêÜÁ≥ªÁªüË∞ÉÁî®ÁöÑ syscall_initÂáΩÊï∞ Ëøô‰∏™ÂáΩÊï∞ÂÜÖÈÉ®Ë∞ÉÁî®‰∫Üintr_register_intÂáΩÊï∞ÔºåÁî®‰∫éÊ≥®ÂÜåËΩØ‰∏≠Êñ≠‰ªéËÄåË∞ÉÁî®Á≥ªÁªüË∞ÉÁî®Â§ÑÁêÜÂáΩÊï∞ ‰∏ãÈù¢ÊòØpintosÁ≥ªÁªüË∞ÉÁî®ÁöÑÂÆåÊï¥ÊµÅÁ®ãÂõæ Task 2 Âπ∂ÂèëÂÆûÈ™å2.1 ÂÆûÈ™åÊ≠•È™§ ÁºñÂÜôcpu.cÁ®ãÂ∫èÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 1234567891011121314151617181920#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#include&lt;sys/time.h&gt;#include&lt;assert.h&gt;#include&lt;unistd.h&gt;int main(int argc,char *argv[]){ if (argc!=2) { fprintf(stderr,"usage:cpu&lt;string&gt;\n"); exit(1); } char *str=argv[1]; while(1) { sleep(1); printf("%s\n",str); } return 0;} ÁºñËØëÊ∫êÁ†Åcpu.cÔºåÂæóÂà∞ÂèØÊâßË°åÊñá‰ª∂cpu 1gcc cpu.c -o cpu ÊâßË°åcpuÁ®ãÂ∫è 1./cpu A &amp; ; ./cpu B &amp; ; ./cpu C &amp; ; ./cpu D Á®ãÂ∫èÂäüËÉΩËß£ÈáäÔºö ËØ•Á®ãÂ∫èÁöÑÊé•Âèó‰∏î‰ªÖËÉΩÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂΩìÊ≠£Á°ÆÊé•ÂèóÂà∞ÂèÇÊï∞ÁöÑÊó∂ÂÄôÊâìÂç∞ËØ•ÂèÇÊï∞ÔºåÊ≤°ÊúâÊ≠£Á°ÆÊé•ÂèóÂèÇÊï∞ÁöÑÊó∂ÂÄôÔºåÈÄöËøáÊâìÂç∞Ê†áÂáÜÈîôËØØËæìÂá∫ÊèêÁ§∫Áî®Êà∑Ê≠£Á°ÆËæìÂÖ•ÂèÇÊï∞„ÄÇ 2.2 ÂÆûÈ™åÁªìÊûúÈÄöËøá‰∏äÈù¢ÁöÑÂÆûÈ™åÂèØ‰ª•ËßÇÂØüÂà∞Âõõ‰∏™ËøõÁ®ãÁöÑËøêË°åÈ°∫Â∫èÂπ∂Ê≤°ÊúâËßÑÂæã„ÄÇÂØπ‰∫éËøôÁßçÁé∞Ë±°ÁöÑËß£ÈáäÂ¶Ç‰∏ãÔºö Áé∞‰ª£Êìç‰ΩúÁ≥ªÁªü‰∏≠ËøõÁ®ãÁöÑËøêË°åÈÉΩÊòØÂπ∂ÂèëÂÆûÁé∞ÁöÑÔºåÂπ∂‰∏çÊòØÂÉè‰ª•ÂâçÁöÑÂçïÈÅìÊâπÂ§ÑÁêÜÁöÑÊìç‰ΩúÁ≥ªÁªüÈÇ£Ê†∑ÔºåÊÄªÊòØÊåâÁÖßËøõÁ®ãËøõÂÖ•ÂÜÖÂ≠òÁöÑÂÖàÂêéÈ°∫Â∫èÊù•ÊâßË°åÔºåÂõ†Ê≠§ËøõÁ®ãÁöÑËøêË°åÁöÑÈ°∫Â∫èÂπ∂Ê≤°ÊúâËßÑÂæã„ÄÇ Áé∞‰ª£CPU‰∏ÄËà¨ÈÉΩÊòØÂ§öÊ†∏CUPÔºàÊàëÁöÑÁîµËÑëÊòØÂõõÊ†∏ÔºâÔºåÂõ†Ê≠§ÂÆûÈ™å‰∏≠ÁöÑÂõõ‰∏™ËøõÁ®ãÂèØËÉΩ‰πü‰∏çÊòØÁÆÄÂçïÁöÑÂú®‰∏Ä‰∏™CPU‰∏≠Âπ∂ÂèëÔºåËÄåÊúâÂèØËÉΩÊòØÂú®Â§ö‰∏™CPUÊ†∏ÂøÉ‰∏≠Âπ∂Ë°åËøêË°åÔºå‰πüÊúâÂèØËÉΩÊüê‰∏§‰∏™ËøõÁ®ãÂú®‰∏Ä‰∏™CPUÊ†∏ÂøÉ‰∏≠Âπ∂ÂèëËøêË°åÔºåÂíåÂÖ∂‰ªñÁöÑËøõÁ®ãÂú®‰∏çÂêåÁöÑCPUÊ†∏ÂøÉ‰∏≠Âπ∂Ë°åËøêË°å„ÄÇÊâÄ‰ª•ËøõÁ®ãÁöÑËøêË°åÈ°∫Â∫èÂπ∂Ê≤°ÊúâÁâπÂà´ÁöÑËßÑÂæã„ÄÇ Task 3 ÂÜÖÂ≠òÂàÜÈÖçÂÆûÈ™å3.1 ÂÆûÈ™åÊ≠•È™§ ÁºñÂÜômem.cÁ®ãÂ∫èÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 123456789101112131415161718#include&lt;unistd.h&gt;#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#include&lt;assert.h&gt;int main(int argc,char *argv[]){ int *p = malloc(sizeof(int)); assert(p!=NULL); printf("(%d) address pointed to by p: %p\n",getpid(),p); *p=0; while(1) { sleep(1); *p=*p+1; printf("(%d) p: %d\n",getpid(),*p); } return 0;} ÁºñËØëÊ∫êÁ†Åmem.cÔºåÂæóÂà∞ÂèØÊâßË°åÁ®ãÂ∫èmem 1gcc mem.c -o mem ÊâßË°åmemÁ®ãÂ∫è ÊµãËØï‰∏ÄÔºö ÊµãËØï‰∫åÔºö ÊµãËØï‰∏âÔºö Á®ãÂ∫èÂäüËÉΩËß£Èáä memÁ®ãÂ∫èÁöÑÂäüËÉΩÊòØÈ¶ñÂÖàÁî≥ËØ∑‰∏Ä‰∏™intÂ§ßÂ∞èÁöÑÂÜÖÂ≠òÂú∞ÂùÄÔºåÂπ∂ÊâìÂç∞ËøõÁ®ãÂè∑ÂíåÂÜÖÂ≠òÂú∞ÂùÄ„ÄÇ‰πãÂêéÂ∞±ÊòØÂØπËØ•ÂÜÖÂ≠òÂú∞ÂùÄ‰øùÂ≠òÁöÑÂÄºËøõË°åÂæ™ÁéØÁ¥ØÂä†Êìç‰Ωú 3.2 ÂÆûÈ™åÁªìÊûú‰∏éÁªìËÆ∫ ÂÆûÈ™åÁé∞Ë±° ÈÄöËøáÂÜÖÂ≠òÂàÜÈÖçÂÆûÈ™åÂèØ‰ª•ËßÇÂØüÂà∞Â¶Ç‰∏ãÁé∞Ë±°Ôºö ‰∏§‰∏™ËøõÁ®ãÁî≥ËØ∑ÂàÜÈÖçÁöÑÂÜÖÂ≠òÂú∞ÂùÄÊúâÊó∂‰∏ÄÊ†∑ÔºåÊúâÊó∂‰∏ç‰∏ÄÊ†∑Ôºå‰ΩÜÊòØÂ§ßÊ¶ÇÁéáÂá∫Áé∞ÁöÑÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇ ÂØπ‰∫éÊØè‰∏™ËøõÁ®ãËÄåË®ÄÔºåÊØè‰∏™ËøõÁ®ã‰∏ÄÁõ¥Âú®ËØ•ÂàÜÈÖçÁöÑÂÜÖÂ≠òÁ©∫Èó¥ËøõË°åÁ¥ØÂä†Êìç‰ΩúÔºåÂπ∂‰∏î‰∏§‰∏™ËøõÁ®ã‰πãÈó¥Ê≤°ÊúâÁõ∏‰∫íÂΩ±Âìç„ÄÇ ÂÖ≥Èó≠Âú∞ÂùÄÁ©∫Èó¥ÈöèÊú∫Âåñ‰πãÂêé‰ºöÂèëÁé∞ÊØèÊ¨°ÊâßË°å‰∏§‰∏™ËøõÁ®ãÁî≥ËØ∑ÁöÑÂú∞ÂùÄÊòØÁõ∏ÂêåÁöÑ„ÄÇ ÂéüÁêÜËß£Èáä ÊØè‰∏™ËøõÁ®ãÁöÑ4GÂÜÖÂ≠òÁ©∫Èó¥Âè™ÊòØËôöÊãüÂÜÖÂ≠òÁ©∫Èó¥ÔºåÊØèÊ¨°ËÆøÈóÆÂÜÖÂ≠òÁ©∫Èó¥ÁöÑÊüê‰∏™Âú∞ÂùÄÔºåÈÉΩÈúÄË¶ÅÊääÂú∞ÂùÄÁøªËØë‰∏∫ÂÆûÈôÖÁâ©ÁêÜÂÜÖÂ≠òÂú∞ÂùÄ„ÄÇ ÊâÄÊúâËøõÁ®ãÂÖ±‰∫´Âêå‰∏ÄÁâ©ÁêÜÂÜÖÂ≠òÔºåÊØè‰∏™ËøõÁ®ãÂè™ÊääËá™Â∑±ÁõÆÂâçÈúÄË¶ÅÁöÑËôöÊãüÂÜÖÂ≠òÁ©∫Èó¥Êò†Â∞ÑÂπ∂Â≠òÂÇ®Âà∞Áâ©ÁêÜÂÜÖÂ≠ò‰∏ä„ÄÇËøõÁ®ãÈúÄË¶ÅÁî®È°µË°®Êù•ËÆ∞ÂΩïÂì™‰∫õÊï∞ÊçÆÂú®Áâ©ÁêÜÂú∞ÂùÄÔºåÂì™‰∫õ‰∏çÂú®ÔºåÂ¶ÇÊûúÂú®ÁöÑËØùÂú®Âì™„ÄÇ printfÂáΩÊï∞‰∏≠%pÊâìÂç∞ÁöÑÊòØËôöÊãüÂú∞ÂùÄ ÂΩìÂÖ≥Èó≠‰∫ÜÂú∞ÂùÄÁ©∫Èó¥ÈöèÊú∫Âåñ‰πãÂêéÔºåÂú®ÊØè‰∏™ËøõÁ®ãÁõ∏ÂΩì‰∫éÊúâ4GÁöÑÁã¨Á´ãËôöÊãüÂÜÖÂ≠òÔºåÁî±‰∫éÊØè‰∏™ËøõÁ®ãÁöÑÁ®ãÂ∫èÊòØ‰∏ÄÊ®°‰∏ÄÊ†∑ÁöÑÔºåÊâÄ‰ª•ÂàÜÈÖçÁöÑÂú∞ÂùÄËÇØÂÆö‰πü‰∏ÄÊ†∑„ÄÇÂ¶ÇÊûúÂú®Áî≥ËØ∑ÁöÑËØùÂ∫îËØ•Â∞±ÊòØÈ°∫Â∫èÂàÜÈÖç‰∫Ü„ÄÇ Áé∞Ë±°Ëß£Èáä Áî±‰∫éÊØè‰∏™ËøõÁ®ãÈÉΩ‰ºöÊúâÁã¨Á´ãÁöÑ4GËôöÊãüÂÜÖÂ≠òÔºåÊâÄ‰ª•ÊØè‰∏™ËøõÁ®ãÁöÑÂÜÖÂ≠òÂú∞ÂùÄÂú®ÂàÜÈÖçÁöÑÊó∂ÂÄôÂèØËÉΩÁõ∏ÂêåÔºå‰πüÂèØËÉΩ‰∏çÂêåÔºåÂõ†‰∏∫‰∏§‰∏™ËôöÊãüÁöÑÂú∞ÂùÄ‰πãÈó¥Ê≤°Êúâ‰ªª‰ΩïÂÖ≥ËÅî„ÄÇÁî±‰∫éÊØè‰∏™ËøõÁ®ãÁöÑËôöÊãüÂú∞ÂùÄÊòØÁã¨Á´ã‰∫éÂÖ∂‰ªñËøõÁ®ãÁöÑÔºåÈÄöËøáÈ°µË°®Â∞ÜËôöÊãüÂú∞ÂùÄËΩ¨Êç¢‰∏∫ÁúüÂÆûÂú∞ÂùÄÔºå‰∏çËÆ∫‰∏§‰∏™ËøõÁ®ãÁî≥ËØ∑ÁöÑËôöÊãüÂÜÖÂ≠òÂú∞ÂùÄÊòØÂê¶Áõ∏ÂêåÔºåÁúüÂÆûÁöÑÁâ©ÁêÜÂú∞ÂùÄ‰∏ÄÂÆöÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºåÊâÄ‰ª•‰∏§‰∏™ËøõÁ®ãÂØπÂú∞ÂùÄ‰∏äÁöÑÊï∞ÂÄºÊìç‰ΩúÈÉΩÊòØÁã¨Á´ãÁöÑ„ÄÇ ‰ΩÜÊòØÂÖ≥Èó≠Âú∞ÂùÄÁ©∫Èó¥ÈöèÊú∫Âåñ‰πãÂêé‰∏§‰∏™ËøõÁ®ãÁöÑÊìç‰ΩúÊòØÂÆåÂÖ®‰∏ÄÊ†∑ÁöÑÔºåÂä†‰∏äÊúâÊ≤°ÊúâÂú∞ÂùÄÁ©∫Èó¥ÈöèÊú∫ÂåñÁöÑÂπ≤Êâ∞ÔºåÊâÄ‰ª•Âú∞ÂùÄÂ∞±ÊòØÁõ∏ÂêåÁöÑ Task 4 ÂÖ±‰∫´ÈóÆÈ¢ò4.1 ÂÆûÈ™åÊ≠•È™§ ÁºñÂÜôÁ®ãÂ∫èthread.c,Ê∫êÁ†ÅÂ¶Ç‰∏ãÔºö 12345678910111213141516171819202122232425262728293031#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#include&lt;pthread.h&gt;volatile int counter=0;int loops;void *worker(void *arg){ int i; for(i=0;i&lt;loops;i++) { counter++; } return NULL;}int main(int argc,char *argv[]){ if(argc!=2) { fprintf(stderr,"usage: thread &lt;value&gt;\n"); exit(1); } loops=atoi(argv[1]); pthread_t p1,p2; printf("Initial value: %d\n",counter); pthread_create(&amp;p1,NULL,worker,NULL); pthread_create(&amp;p2,NULL,worker,NULL); pthread_join(p1,NULL); pthread_join(p2,NULL); printf("Final value: %d\n",counter); return 0;} ÁºñËØëÊ∫êÁ†Åthread.c 1gcc -o thread -lpthread thread.c ÊâßË°åthreadÁ®ãÂ∫è ./thread 1000 ./thread 10000 ./thread_1 1000 ./thread_1 10000 Á®ãÂ∫èÂäüËÉΩËß£Èáä Á®ãÂ∫è‰∏Ä‰∏™mainËøõÁ®ã‰∏ãÂàõÂª∫‰∫Ü‰∏§‰∏™Á∫øÁ®ãÔºå‰∏§‰∏™Á∫øÁ®ãÊâßË°åÁõ∏ÂêåÁöÑÊìç‰ΩúÔºåÈÉΩÊòØÂØπloopsÂèòÈáèËøõË°åËá™Â¢ûÊìç‰Ωú„ÄÇ 4.2 ÂÆûÈ™åÁªìÊûú‰∏éÁªìËÆ∫ ÂÆûÈ™åÁé∞Ë±° ÂèØ‰ª•ÁúãÂà∞ÂΩìËæìÂÖ•ÁöÑÂèÇÊï∞ÊØîËæÉÂ∞èÁöÑÊó∂ÂÄôÔºåFinal valueÁ≠â‰∫éInitial valueÁöÑ‰∏§ÂÄçÔºåÂΩìËæìÂÖ•ÁöÑÂèÇÊï∞ÊØîËæÉÂ§ßÁöÑÊó∂ÂÄôÔºåFinal valueÁöÑÂÄºÂú®Initial vlaueÁöÑ‰∏ÄÂÄçÂà∞‰∏§ÂÄç‰πãÈó¥.Âπ∂‰∏îÂú®ÊúÄÂêé‰∏§‰∏™ÊµãËØïÊ†∑‰æã‰∏≠ÂèØ‰ª•ÁúãÂà∞‰∏§‰∏™Á∫øÁ®ãÊìç‰ΩúÁöÑloopsÂèòÈáèÁöÑÂÜÖÂ≠òÂú∞ÂùÄÊòØÁõ∏ÂêåÁöÑ„ÄÇ ÂéüÁêÜËß£Èáä Áî±‰∫é‰∏§‰∏™Á∫øÁ®ãÂú®Âêå‰∏Ä‰∏™ËøõÁ®ã‰∏≠ÔºåÂπ∂‰∏îËÆøÈóÆÊìç‰ΩúÁöÑÊòØÂÖ±‰∫´ÁöÑÂèòÈáè„ÄÇÂ¶ÇÊûúÊØè‰∏™Á∫øÁ®ãÂØπÂÜÖÂ≠òÈÉΩÊòØÂèØËØªÂèØÂÜôÁöÑËØùÔºåÂ∞±‰ºöÂèëÁîüËØªÂèñËÑèÊï∞ÊçÆÁöÑÈóÆÈ¢òÔºåÂç≥ÊòØÁ∫øÁ®ãAËØªÂèñÂÜÖÂ≠òxÁöÑ‰πãÂêéÔºåÂØπÂÆÉËøõË°å+1ÔºåÂú®Á∫øÁ®ãAÊìç‰ΩúÂÆåÊàêÁöÑÊï∞ÊçÆÂÜôÂÖ•x‰πãÂâçÔºåÁ∫øÁ®ãB‰πüËØªÂèñ‰∫ÜÂéüÊù•ÁöÑÊï∞ÊçÆÔºåÂØºËá¥ÊúÄÁªàÁ∫øÁ®ãBÂÜôÂÖ•ÁöÑÊï∞ÊçÆÂíåAÂÜôÂÖ•ÁöÑ‰∏ÄÊ†∑ÔºåÁõ∏ÂΩì‰∫é‰∏§‰∏™Á∫øÁ®ãÂè™ËøõË°å‰∫Ü‰∏ÄÊ¨°Êìç‰Ωú„ÄÇ ‰∏∫‰∫ÜËß£ÂÜ≥‰∏äÈù¢ÊâÄËØ¥ÁöÑËÑèÊï∞ÊçÆÁöÑÈóÆÈ¢òÔºåÁé∞‰ª£CPU‰∏ÄËà¨ÈááÁî®‰∫ÜÂä†ÈîÅÁöÑËß£ÂÜ≥ÂäûÊ≥ïÔºåÈÄöËøáÂä†ÈîÅ‰ΩøÂè¶‰∏Ä‰∏™Á∫øÁ®ã‰∏çËÉΩËØªÂèñ„ÄÇ Áé∞‰ª£ËÆ°ÁÆóÊú∫ÈÉΩÊòØÂ§öÊ†∏ÂøÉÁöÑÔºåÂØπ‰∫éÊØè‰∏™Áã¨Á´ãÁöÑCPUÊ†∏ÂøÉÊù•ËØ¥ÔºåÈÉΩ‰∏ç‰ºöÂèëÁîüÈóÆÈ¢òÔºå‰ΩÜÊòØ‰∏çÂêåCPUÊ†∏ÂøÉ‰πãÈó¥Âç¥‰æùÁÑ∂ÊúâÈóÆÈ¢ò„ÄÇ Áé∞Ë±°Ëß£Èáä ÂΩìËæìÂÖ•ÁöÑÂèÇÊï∞ÊØîËæÉÂ∞èÁöÑÊó∂ÂÄôÔºå‰∏Ä‰∏™CPUÁöÑÊ†∏ÂøÉË∂≥Â§üÂ§ÑÁêÜÔºåÂ∞±ÊòØÂçïÊ†∏CPUËøêË°åÂ§öÁ∫øÁ®ãÔºåÁî±‰∫éÊØè‰∏™Ê†∏ÂøÉÈÉΩÊúâÂÜÖÂ≠òÈîÅÊú∫Âà∂ÔºåÊâÄ‰ª•ËÆ°ÁÆóÁªìÊûúÊ≤°ÊúâÈîôËØØ ÂΩìËæìÂÖ•ÁöÑÂèÇÊï∞ÊØîËæÉÂ§ßÁöÑÊó∂ÂÄôÔºå‰ΩøÁî®Â§ö‰∏™CPUÊ†∏ÂøÉËøõË°åËøêÁÆóÔºåÂ∞±‰ºöÂèëÁîüËØªÂèñËÑèÊï∞ÊçÆÁöÑÈóÆÈ¢ò„ÄÇ 5 ÂÆûÈ™åÁñëÈóÆ Âú®Task3‰∏≠ÔºåÂÖ≥Èó≠‰∫ÜÂú∞ÂùÄÁ©∫Èó¥ÈöèÊú∫Âåñ‰πãÂêéÔºåÊåâÁÖßÁêÜËÆ∫‰∏äÂ∞ÜÁî≥ËØ∑‰∏§‰∏™intÁöÑÂú∞ÂùÄÂ∫îËØ•ÊòØËøûÁª≠ÁöÑÔºåÊâÄ‰ª•ÊàëÊàëÂ∞±È™åËØÅ‰∫Ü‰∏Ä‰∏ãÔºåÂú®ÂéüÊú¨ÁöÑ‰ª£Á†Å‰∏≠Áî≥ËØ∑‰∏§‰∏™intÁ±ªÂûãÁöÑÂú∞ÂùÄÔºåÁÑ∂ÂêéÊâìÂç∞Ëøô‰∏§‰∏™Âú∞ÂùÄÔºåÁúãËøô‰∏§‰∏™Âú∞ÂùÄËøû‰∏çËøûÁª≠„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö ‰πãÂêéÁºñËØëËøêË°åÁ®ãÂ∫èÔºåÁªìÊûúÂ¶Ç‰∏ãÔºö ÂèëÁé∞Âú∞ÂùÄÂπ∂‰∏çÊòØËøûÁª≠ÁöÑÔºåÂõ†Ê≠§ËøòÊúâ‰∏Ä‰∏ãÁñëÈóÆÔºö 0x1fd5260Ëøô‰∏™Âú∞ÂùÄÊåáÁöÑÊòØÂï•ÔºåÂ∞±ÊòØÊØè‰∏™ËøõÁ®ãÁöÑËôöÊãüÂÜÖÂ≠òÁöÑÂú∞ÂùÄÂêóÔºü ÊàëÂ∞ùËØïËøáÂ∞ÜintÊç¢ÊàêÂÖ∂‰ªñÁ±ªÂûãÁöÑÔºåÂèëÁé∞Âπ∂Ê≤°ÊúâÂèëÁîüÂèòÂåñÔºåËøôÊòØ‰∏∫Âï•Âë¢Ôºü document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>Êìç‰ΩúÁ≥ªÁªüÂÆûÈ™å</category>
      </categories>
      <tags>
        <tag>Êìç‰ΩúÁ≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2018%2F09%2F11%2Fss_err%2F</url>
    <content type="text"><![CDATA[shadowsocksÂêØÂä®Êä•Èîô document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
</search>
